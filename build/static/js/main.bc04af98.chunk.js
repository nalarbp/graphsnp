(this["webpackJsonpgraph-snp"]=this["webpackJsonpgraph-snp"]||[]).push([[0],{1085:function(e,t,a){},1430:function(e,t,a){},1433:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(0),s=a.n(r),i=a(33),c=a.n(i),o=(a(624),a(205)),l=a(206),d=a(207),u=a(216),p=(a(625),a(50)),h=a(1467),g=a(1466),j=a(1458),f=a(587),b=(a(375),a(37)),m=a(31),x="INPUT_LOADING",O="IS_SHOWING_LOADING_MODAL",y="GRAPH_OBJECT",v="GRAPH_CLUSTER",S="MATRIX_HAMMING",_="NAV_LOCATION",w="SEQ_DATA",T="META_DATA",E="METADATA_CATEGORICAL",D="TIME_TREE_DATA",C="COLOR_LUT",M="SELECT_DEMO_DATA",L="SELECTED_NODE",I="SETTING_METHOD",N="SETTING_LAYOUT",k="SETTING_IS_USER_REDRAW",A="SETTING_EDGE_FILTER_CUTOFF",U="SETTING_IS_USER_FILTER_EDGES",R="SETTING_CLUSTER_METHOD",F="SETTING_IS_USER_CLUSTERING",P="SETTING_IS_EDGE_SCALED",G="SETTING_EDGE_SCALE_FACTOR",q="SETTING_IS_HIDE_EDGES",z="SETTING_EDGE_HIDE_CUTOFF",H="SETTING_COLOR_NODE_BY",B="SETTING_EXPORT_FORMAT",V="SETTING_IS_USER_DOWNLOADING",Y="SETTING_TRANS_LOC_LEVEL",W="SETTING_TYPE_ANALYSIS",$="SETTING_CHART_SESSION",X="SETTING_IS_USER_LOAD_SESSION",J="SETTING_IS_USER_RELAYOUT",K="DIST_DATA_TO_DISPLAY",Q="DIST_DATA_COLUMN",Z="DIST_DATA_COLUMN_LEVEL",ee="DIST_CHART_ORIENTATION",te="DIST_CHART_TYPE",ae="DIST_IS_USER_GENERATE_MATRIX",ne="DIST_EXPORT_FORMAT",re="DIST_IS_USER_DRAW",se="DIST_IS_USER_EXPORT",ie="DIST_CHART_SESSION",ce="DIST_IS_USER_LOAD_SESSION",oe={demo1:{snps:"./data/demoFile/1/st78_snps_input.fa",metadata:"./data/demoFile/1/st78_metadata_input.csv",stayTimeline:null},demo2:{snps:"./data/demoFile/2/esbl_KM_snps_input.fa",metadata:"./data/demoFile/2/esbl_KM_metadata_input.csv",stayTimeline:null}},le="./data/templateFile/snps_input.fa",de="./data/templateFile/metadata_input.csv";function ue(e){return{type:_,payload:e}}var pe=a(1474),he=a(1454),ge=a(613),je=a(67),fe=a(113),be=a(1470),me=a(1471),xe=a(1472),Oe=a(1473);function ye(e){return{type:w,payload:e}}function ve(e){return{type:T,payload:e}}function Se(e){return{type:D,payload:e}}function _e(e){return{type:x,payload:e}}function we(e){return{type:M,payload:e}}function Te(e){return{type:S,payload:e}}function Ee(e){return{type:y,payload:e}}function De(e){return{type:v,payload:e}}var Ce=a(48),Me=a.n(Ce),Le=a(150),Ie=a(1463),Ne=a(1456),ke=a(95),Ae=a.n(ke),Ue=a(100),Re=a(1462),Fe=a(571),Pe=a(1469),Ge=a(1446),qe=a(1445),ze=a(1468),He=Object(Ue.extendMoment)(Ae.a),Be=a(20);function Ve(e,t,a){return a.indexOf(e)===t}function Ye(e,t){var a=Be.cloneDeep(e),n=null;if(Array.isArray(a)&&a.length>0){"clusterID"===t&&(a=a.filter((function(e){return"na"!==e.clusterID})));var r=[],s=[];a.forEach((function(e){r.push(e[t]),"sample_date"===t&&s.push(e.sample_date)}));var i=r.filter(Ve),c=s.length>0?qe.a(s):null,o=Object(Fe.a)(Ge.a).domain(i),l=c?function(e){var t=He(e[0]),a=He(e[1]),n=t.isoWeek().toString(),r=a.isoWeek().toString(),s=t.isoWeekYear().toString(),i=a.isoWeekYear().toString(),c=parseInt(s+n),o=parseInt(i+r);return Object(Re.a)(Pe.a).domain([c,o])}(c):null,d=new Map;a.forEach((function(e){if("collectionDay"===t){var a=e[t],n=Object(ze.a)(l(a)).formatHex();d.set(e.sample,n)}else d.set(e.sample,o(e[t]))})),n=d}return n}function We(e,t){var a=Be.cloneDeep(t),n=new Map;return a.forEach((function(t){var a=t[e]&&Object(ze.a)(t[e])?Object(ze.a)(t[e]).formatHex():Object(ze.a)("lightgray").formatHex();n.set(t.sample_id,a)})),n}function $e(e,t,a){var n="lightgray";if("na"!==t){var r=a[t];n=r.get(e)?r.get(e):"lightgray"}return n}function Xe(e,t,a,n){if(e){var r=t+1,s=r?r*a:1;return"edge"===n||s<1?s:.25}return"edge"===n?1:.25}function Je(e){return e*Math.max(document.documentElement.clientHeight,window.innerHeight||0)/100}function Ke(e){var t=0;return e.hospital_id&&(t=1,e.ward_id&&(t=2,e.bay_id&&(t=3,e.bed_id&&(t=4)))),t}function Qe(e,t){var a=0;return e.hospital_id===t.hospital_id&&(a=1,e.ward_id===t.ward_id&&(a=2,e.bay_id===t.bay_id&&(a=3,e.bed_id===t.bed_id&&(a=4)))),a}function Ze(e,t){var a=document.createElement("a");a.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),a.setAttribute("download",e),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)}var et=a(630);function tt(e){this.seq=e,this.seqIDs=e.map((function(e){return e.id}))}tt.prototype.getHammingMatrix=function(){for(var e=this.seq,t=this.seqIDs,a=new Map,n=0;n<t.length-1;n++)for(var r=e[n],s=n+1;s<e.length;s++){var i=e[s],c=et(r.sequence,i.sequence);if(a.get(r.id)){var o=a.get(r.id);o.push({source:r.id,target:i.id,value:c,part:"upper"}),a.set(r.id,o)}else{var l=[{source:r.id,target:i.id,value:c,part:"upper"}];a.set(r.id,l)}if(a.get(i.id)){var d=a.get(i.id);d.push({source:i.id,target:r.id,value:c,part:"lower"}),a.set(i.id,d)}else{var u=[{source:i.id,target:r.id,value:c,part:"lower"}];a.set(i.id,u)}}return a};var at=tt;function nt(e,t){this.distMatCSV=e,this.headers=t}nt.prototype.createMatrix=function(){var e=this,t=new Map;return this.distMatCSV.forEach((function(a){var n="newRowStart";e.headers.forEach((function(e){if(""!==e){var r=a[""],s=e,i=a[e];if(r!==s||"newRowStart"!==n&&"lower"!==n||(n="diagonal"),r!==s&&("newRowStart"===n||"lower"===n))if(n="lower",t.get(r)){var c=t.get(r);c.push({source:r,target:s,value:i,part:n}),t.set(r,c)}else{var o=[{source:r,target:s,value:i,part:n}];t.set(r,o)}if(r!==s&&("diagonal"===n||"upper"===n))if(n="upper",t.get(r)){var l=t.get(r);l.push({source:r,target:s,value:i,part:n}),t.set(r,l)}else{var d=[{source:r,target:s,value:i,part:n}];t.set(r,d)}}}))})),t};var rt=nt,st=a(20),it=Object(Ue.extendMoment)(Ae.a),ct=a(631).fastaToJson;Object(Ne.a)("%Y-%m-%d");function ot(e,t,a,n){return lt.apply(this,arguments)}function lt(){return(lt=Object(Le.a)(Me.a.mark((function e(t,a,n,r){var s,i,c,o,l,d,u,p,h;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ct(t);case 2:if(s=e.sent,i=[],!(Array.isArray(s)&&s.length>1)){e.next=44;break}c={},o=[],l=!0,d=0;case 9:if(!(d<s.length)){e.next=41;break}if(u=s[d].messages,p=s[d].parsedSequence,h=s[d].success,-1===o.indexOf(p.size)&&o.push(p.size),h){e.next=19;break}return l=!1,alert("Parsing error:",p.name),r(!1),e.abrupt("break",41);case 19:if(!(u.length>0)){e.next=24;break}return l=!1,alert(u[0]),r(!1),e.abrupt("break",41);case 24:if(!(o.length>1)){e.next=29;break}return l=!1,alert("Size error: Alignment required sequences with same length"),r(!1),e.abrupt("break",41);case 29:if(c[p.name]){e.next=33;break}c[p.name]=!0,e.next=37;break;case 33:return l=!1,alert("Sequence error: Duplicated sequence"),r(!1),e.abrupt("break",41);case 37:l&&i.push({id:p.name,size:p.size,sequence:p.sequence.toLowerCase()});case 38:d++,e.next=9;break;case 41:l&&(ge.b.success("The sequences have been loaded, now building distance matrix ..",1),setTimeout((function(){var e=new at(i).getHammingMatrix();ge.b.success("Pair-wise SNP distance matrix has been created",1),a(i),n(e),r(!1)}),100)),e.next=46;break;case 44:alert("Error: Check the SNP alignment input requirements"),r(!1);case 46:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dt(){return(dt=Object(Le.a)(Me.a.mark((function e(t,a,n){var r,s,i,c;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ie.a)(t).then((function(e){return e}));case 2:r=e.sent,""===(s=r.columns)[0]?(i=[""],c=[],r.forEach((function(e){var t={};s.forEach((function(a){var n=""===a?String(e[a]):parseFloat(e[a]),r=String(a);t[r]=n})),c.push(t),i.push(e[""])})),s.length===i.length&&s.every((function(e,t){return e===i[t]}))?setTimeout((function(){var e=new rt(c,s).createMatrix();ge.b.success("Pairwise distance matrix has been created",1),a(e),n(!1)}),100):(alert("Invalid CSV matrix: not symetrical"),n(!1))):(alert("First column in CSV matrix must be empty string"),n(!1));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ut(e,t,a,n,r){return pt.apply(this,arguments)}function pt(){return(pt=Object(Le.a)(Me.a.mark((function e(t,a,n,r,s){var i,c,o,l,d,u,p,h,g,j,f,b,m;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ie.a)(t).then((function(e){return e}));case 2:if(i=e.sent,c=["sample_id"],o=Object.keys(i[0]),l=!0,c.forEach((function(e){-1===o.indexOf(e)&&(l=!1)})),l){e.next=11;break}return alert("Error: Metadata requires sample_id column"),s(!1),e.abrupt("return");case 11:if(d=st.countBy(i,"sample_id"),!((u=Object.keys(d).map((function(e){return{name:e,count:d[e]}})).filter((function(e){return e.count>1}))).length>0)){e.next=17;break}return alert("Error: Duplicated id(s)"+"".concat(JSON.stringify(u))),s(!1),e.abrupt("return");case 17:if(!!!d[""]){e.next=22;break}return alert("Error: Empty id(s)"),s(!1),e.abrupt("return");case 22:if(-1===Object.keys(i[0]).indexOf("CollectionDay")){e.next=29;break}if(p=!1,i.forEach((function(e){e.sample_id=e.sample_id.replace(/\s*$/,""),e.collectionDay=e.CollectionDay&&parseInt(e.CollectionDay.replace(/\s*$/,""))?parseInt(e.CollectionDay.replace(/\s*$/,"")):null,e.collectionDay||(p=!0)})),!p){e.next=29;break}return alert("Invalid CollectionDay "),s(!1),e.abrupt("return");case 29:h=[],g=[],o.forEach((function(e){var t=e.split(":");t.length>1&&"color"===t[1]?g.push(t[0]):"sample_id"!==e&&h.push(e)})),j={},f=new Map,b=["0",0,"null","na","#N/A","NA","","excluded","nil"],h.forEach((function(e){var t=e,a=[],n=[];i.forEach((function(e){var r={};r.sample=e.sample_id,r[t]=e[t],n.push(r),a.push(e[t])})),a.filter(Ve),a.forEach((function(e){var a=n.filter((function(a){return a[t]===e})).map((function(e){return e.sample}));if(-1===b.indexOf(e)){var r=t.concat("-",e);f.set(r,a)}}));var r=null;g.indexOf(e)>-1?r=We(e.concat(":color"),i):r=Ye(n,t);j[t]=r})),m=new Map,i.forEach((function(e){m.set(e.sample_id,e)})),a(m),n(j),r(f),s(!1);case 42:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ht(){return(ht=Object(Le.a)(Me.a.mark((function e(t,a,n){var r,s,i,c,o,l,d;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ie.a)(t).then((function(e){return e}));case 2:if(r=e.sent,s=["patient_id","start_date","end_date","hospital_id","ward_id","bay_id","bed_id"],i=["null",""," ","na","NA","N/A","#N/A","NULL","Null"],c=Object.keys(r[0]),o=!0,s.forEach((function(e){-1===c.indexOf(e)&&(o=!1)})),o){e.next=12;break}return alert("Invalid headers: One or more required headers was not found"),n(!1),e.abrupt("return");case 12:if(l=!1,r.forEach((function(e){e.patient_id=e.patient_id.replace(/\s*$/,""),e.start_date=e.start_date.replace(/\s*$/,""),e.end_date=e.end_date.replace(/\s*$/,""),e.hospital_id=-1!==i.indexOf(e.hospital_id)?null:e.hospital_id.replace(/\s*$/,""),e.ward_id=-1!==i.indexOf(e.ward_id)?null:e.ward_id.replace(/\s*$/,""),e.bay_id=-1!==i.indexOf(e.bay_id)?null:e.bay_id.replace(/\s*$/,""),e.bed_id=-1!==i.indexOf(e.bed_id)?null:e.bed_id.replace(/\s*$/,""),it(e.start_date)&&it(e.end_date)?(e.start_date=it(e.start_date),e.end_date=it(e.end_date)):l=!0})),!l){e.next=18;break}return alert("Invalid data: wrong date format in column start_date and or end_date"),n(!1),e.abrupt("return");case 18:d=new Map,r.map((function(e){return e.patient_id})).filter(Ve).forEach((function(e){var t=[];r.filter((function(t){return t.patient_id===e})).forEach((function(a){var n={pid:e,start_date:a.start_date,end_date:a.end_date,hospital_id:a.hospital_id,ward_id:a.ward_id,bay_id:a.bay_id,bed_id:a.bed_id};t.push(n)})),d.set(e,t)})),a(d),n(!1);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var gt=he.a.Dragger;var jt=Object(b.b)((function(e){return{sequence:e.sequence,hammMatrix:e.hammMatrix,patientMovement:e.patientMovement}}),(function(e){return Object(m.b)({sequenceToStore:ye,isinputLoadingToStore:_e,hmmMatrixToStore:Te},e)}))((function(e){return Object(n.jsx)(s.a.Fragment,{children:Object(n.jsxs)("div",{children:[Object(n.jsx)(gt,{accept:".fa, .fasta, .fna, .mfa, .csv",showUploadList:!1,style:{backgroundColor:"transparent",height:"500px"},name:"file",multiple:!1,action:"dummy-post",beforeUpload:function(t){if(t){var a=null,n=t.name.match(/\.[0-9a-z]+$/i)[0];if("seq"===(a=-1!==[".fa",".fasta",".fna",".mfa",".aln",".faa",".txt"].indexOf(n)?"seq":"mat")){var r=new FileReader;r.readAsText(t),e.isinputLoadingToStore(!0),r.onloadend=function(t){var a=t.target.result;console.log(a),ot(a,e.sequenceToStore,e.hmmMatrixToStore,e.isinputLoadingToStore)}}else if("mat"===a){var s=new FileReader;s.readAsDataURL(t),e.isinputLoadingToStore(!0),s.onloadend=function(t){!function(e,t,a){dt.apply(this,arguments)}(t.target.result,e.hmmMatrixToStore,e.isinputLoadingToStore)}}else ge.b.error("Invalid input file",.5)}return!1},children:Object(n.jsx)("div",{id:"input-loader-snps",children:Object(n.jsxs)(je.a,{id:"input-loader-button-snps",shape:"round",size:"large",children:[e.sequence||e.hammMatrix?Object(n.jsx)(be.a,{style:{fontSize:"14pt"}}):Object(n.jsx)(me.a,{})," SNPs alignment ","  ",Object(n.jsx)("span",{style:{marginLeft:"5px"},children:Object(n.jsx)(fe.a,{title:"Input or drag and drop non-ambiguous multi-fasta SNPs alignment (.fa, .fna,  .mfa, .fsa) or a distance matrix (.csv) file here",placement:"rightTop",children:Object(n.jsx)(xe.a,{style:{fontSize:"14px",color:"white"}})})})]})})}),Object(n.jsx)("div",{className:"remove-button-container",children:Object(n.jsx)(je.a,{disabled:!e.sequence,title:"Remove loaded SNPs alignment",type:"ghost",className:"input-loader-remove-button ",shape:"circle",size:"small",onClick:function(t){e.sequenceToStore(null),e.hmmMatrixToStore(null)},children:Object(n.jsx)(Oe.a,{})})})]})})}));function ft(e){return{type:C,payload:e}}function bt(e){return{type:E,payload:e}}var mt=he.a.Dragger;var xt=Object(b.b)((function(e){return{metadata:e.metadata}}),(function(e){return Object(m.b)({metadataToStore:ve,colorLUTtoStore:ft,isinputLoadingToStore:_e,categoricalMapToStore:bt},e)}))((function(e){return Object(n.jsx)(s.a.Fragment,{children:Object(n.jsxs)("div",{children:[Object(n.jsx)(mt,{accept:".csv",showUploadList:!1,style:{height:"500px",backgroundColor:"transparent"},name:"file",multiple:!1,action:"dummy-post",beforeUpload:function(t){if(t){var a=new FileReader;a.readAsDataURL(t),e.isinputLoadingToStore(!0),a.onloadend=function(t){ut(t.target.result,e.metadataToStore,e.colorLUTtoStore,e.categoricalMapToStore,e.isinputLoadingToStore)}}return!1},children:Object(n.jsx)("div",{id:"input-loader-metadata",children:Object(n.jsxs)(je.a,{id:"input-loader-button-metadata",shape:"round",size:"large",children:[e.metadata?Object(n.jsx)(be.a,{style:{fontSize:"14pt"}}):Object(n.jsx)(me.a,{})," Metadata"," ",Object(n.jsx)("span",{style:{marginLeft:"5px"},children:Object(n.jsx)(fe.a,{title:"Input or drag and drop metadata file (CSV) here",placement:"rightTop",children:Object(n.jsx)(xe.a,{style:{fontSize:"14px",color:"white"}})})})]})})}),Object(n.jsx)("div",{className:"remove-button-container",children:Object(n.jsx)(je.a,{disabled:!e.metadata,title:"Remove loaded metadata",type:"ghost",className:"input-loader-remove-button ",shape:"circle",size:"small",onClick:function(t){e.metadataToStore(null),e.colorLUTtoStore(null),e.categoricalMapToStore(null)},children:Object(n.jsx)(Oe.a,{})})})]})})})),Ot=a(215),yt=Ot.a.Option;var vt=Object(b.b)((function(e){return{selectDemoData:e.selectDemoData}}),(function(e){return Object(m.b)({selectDemoDataToStore:we,sequenceToStore:ye,metadataToStore:ve,patientMovementToStore:Se,isinputLoadingToStore:_e,hmmMatrixToStore:Te,colorLUTtoStore:ft,categoricalMapToStore:bt},e)}))((function(e){var t=e.selectDemoData;function a(){return(a=Object(Le.a)(Me.a.mark((function e(t,a,n,r,s){var i,c,o;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return i=e.sent,r(!0),e.next=6,i.blob();case 6:c=e.sent,(o=new FileReader).readAsText(c),o.onloadend=function(e){var t=e.target.result;s(t,a,n,r)};case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.jsx)(s.a.Fragment,{children:Object(n.jsx)(g.a,{xs:24,children:Object(n.jsxs)(Ot.a,{value:t,onChange:function(t){if(t){var n=oe[t];e.sequenceToStore(null),e.hmmMatrixToStore(null),e.metadataToStore(null),e.colorLUTtoStore(null),e.categoricalMapToStore(null),e.patientMovementToStore(null),n.snps&&function(e,t,n,r,s){a.apply(this,arguments)}(n.snps,e.sequenceToStore,e.hmmMatrixToStore,e.isinputLoadingToStore,ot),n.metadata&&ut(n.metadata,e.metadataToStore,e.colorLUTtoStore,e.categoricalMapToStore,e.isinputLoadingToStore),n.stayTimeline&&function(e,t,a){ht.apply(this,arguments)}(n.stayTimeline,e.patientMovementToStore,e.isinputLoadingToStore),e.selectDemoDataToStore(t)}else e.selectDemoDataToStore(null)},children:[Object(n.jsx)(yt,{value:null,children:"Select demo data"}),Object(n.jsx)(yt,{value:"demo2",children:"ESBL K. michiganensis outbreak (Chapman et al., 2020)"}),Object(n.jsx)(yt,{value:"demo1",children:"VRE ST78 outbreak (Permana et al., 2021)"})]})})})})),St=function(e){return Object(n.jsx)(h.a,{children:Object(n.jsx)(g.a,{sm:24,id:"footer-component",children:Object(n.jsxs)("p",{children:[Object(n.jsx)("a",{href:"https://graphsnp.beatsonlab.com",target:"_blank",rel:"noopener noreferrer",children:Object(n.jsx)("b",{children:"GraphSNP v1.0"})}),Object(n.jsx)("br",{}),Object(n.jsxs)("b",{children:[" ","Graph-based, drag and drop web visualization tool for ",Object(n.jsx)("br",{}),"cluster and transmission analysis using pairwise SNP-distance."]}),Object(n.jsx)("br",{})," Developed by Budi Permana at"," ",Object(n.jsxs)("a",{href:"https://beatsonlab.com/",target:"_blank",rel:"noopener noreferrer",children:[" ","Beatson Lab"]}),Object(n.jsx)("br",{})," ",Object(n.jsx)("a",{href:"https://www.uq.edu.au/",target:"_blank",rel:"noopener noreferrer",children:"The University of Queensland"})," ","| Australia"]})})})},_t=a(585),wt=a.n(_t),Tt=Object(n.jsx)(pe.a,{style:{fontSize:34},spin:!0}),Et=String(Je(100)-380)+"px",Dt={fpsLimit:24,particles:{number:{value:25},size:{value:4},links:{enable:!0,distance:75},move:{enable:!0,speed:2,outModes:{default:"bounce"}}},interactivity:{events:{onhover:{enable:!1,mode:"repulse"}}}};var Ct=Object(b.b)((function(e){return{isInputLoading:e.isInputLoading}}),(function(e){return Object(m.b)({changeNavLocation:ue},e)}))((function(e){return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(h.a,{children:Object(n.jsx)(g.a,{xs:24,id:"header-content",children:Object(n.jsx)(j.a,{visible:e.isInputLoading,closable:!1,centered:!0,width:0,footer:null,bodyStyle:{textAlign:"center",padding:"0px"},children:Object(n.jsx)(f.a,{indicator:Tt,style:{color:"white"},tip:"Preparing Data",size:"large"})})})}),Object(n.jsxs)(h.a,{id:"input-wrapper",children:[Object(n.jsx)(wt.a,{params:Dt,height:Et,style:{position:"absolute",height:"200px"}}),Object(n.jsx)(g.a,{xs:24,sm:12,children:Object(n.jsx)(jt,{})}),Object(n.jsx)(g.a,{xs:24,sm:12,children:Object(n.jsx)(xt,{})})]}),Object(n.jsx)(h.a,{id:"demo-selection",children:Object(n.jsx)(vt,{})}),Object(n.jsx)(St,{})]})})),Mt=a(1448),Lt=a(115),It=(a(1085),a(59)),Nt=a(1460),kt=a(1452),At=a(1475);function Ut(e){return{type:I,payload:e}}function Rt(e){return{type:N,payload:e}}function Ft(e){return{type:k,payload:e}}function Pt(e){return{type:A,payload:e}}function Gt(e){return{type:U,payload:e}}function qt(e){return{type:R,payload:e}}function zt(e){return{type:F,payload:e}}function Ht(e){return{type:P,payload:e}}function Bt(e){return{type:G,payload:e}}function Vt(e){return{type:q,payload:e}}function Yt(e){return{type:z,payload:e}}function Wt(e){return{type:H,payload:e}}function $t(e){return{type:B,payload:e}}function Xt(e){return{type:V,payload:e}}function Jt(e){return{type:Y,payload:e}}function Kt(e){return{type:W,payload:e}}function Qt(e){return{type:$,payload:e}}function Zt(e){return{type:X,payload:e}}function ea(e){return{type:L,payload:e}}function ta(e){return{type:J,payload:e}}var aa=Nt.a.Panel,na=Object(Ue.extendMoment)(Ae.a);var ra=Object(b.b)((function(e){return{metadata:e.metadata,colorLUT:e.colorLUT,selectedNode:e.selectedNode,graphObject:e.graphObject}}),(function(e){return Object(m.b)({changeSelectedNode:ea},e)}))((function(e){var t=Object(r.useState)({columns:null,cells:null}),a=Object(It.a)(t,2),i=a[0],c=a[1];return Object(r.useEffect)((function(){if(e.metadata&&e.selectedNode)if(e.selectedNode.length>0){var t=e.selectedNode.map((function(t){return e.metadata.get(t)})),a=[],n=[];t.forEach((function(e){for(var t=0,r=Object.entries(e);t<r.length;t++){var s=Object(It.a)(r[t],2),i=s[0],c=s[1];a.push({title:i,dataIndex:i,key:i+(0).toString()});var o=n[0],l={};o&&(l=Object.assign({},o)),l.key||(l.key=(0).toString()),l[i]="sample_date"===i?na(c).format("YYYY-MM-DD"):c,n=[l]}})),c({columns:a,cells:n})}else c({columns:null,cells:null})}),[e.selectedNode]),Object(n.jsx)(s.a.Fragment,{children:Object(n.jsx)("div",{style:{position:"absolute",zIndex:"10",top:"inherit",width:"100%"},children:e.metadata&&e.graphObject&&Object(n.jsx)(h.a,{children:Object(n.jsx)(g.a,{span:24,children:Object(n.jsx)(Nt.a,{accordion:!0,bordered:!1,expandIconPosition:"left",children:Object(n.jsxs)(aa,{style:{marginBottom:"0px",textAlign:"left",overflowY:"auto"},header:Object(n.jsxs)("p",{style:{marginBottom:"0px"},children:[Object(n.jsx)(At.a,{})," Selected node metadata"]}),children:[e.selectedNode&&e.graphObject&&i.columns&&Object(n.jsx)(kt.a,{size:"small",pagination:!1,style:{width:"100%"},dataSource:i.cells,columns:i.columns}),!e.selectedNode&&Object(n.jsx)("p",{children:"No selected node"})]},"1")})})})})})})),sa=a(217),ia=a(1464),ca=a(1447),oa=a(1476),la=a(366),da=a(342).Graph,ua=a(1174);function pa(e){return{type:O,payload:e}}var ha=Ot.a.Option,ga=Object(n.jsx)(pe.a,{style:{fontSize:34},spin:!0});var ja=Object(b.b)((function(e){return{metadata:e.metadata,patientMovement:e.patientMovement,sequence:e.sequence,hammMatrix:e.hammMatrix,graphSettings:e.graphSettings,graphObject:e.graphObject,graphClusters:e.graphClusters,colorLUT:e.colorLUT,isShowingLoadingModal:e.isShowingLoadingModal}}),(function(e){return Object(m.b)({changeMethodSetting:Ut,changeLayoutSetting:Rt,changeIsUserReDrawSetting:Ft,changeEdgeFilterCutoffSetting:Pt,changeClusterMethodSetting:qt,changeIsUserClusteringSetting:zt,changeIsEdgeScaledSetting:Ht,changeEdgeScaleFactorSetting:Bt,changeColorNodeSetting:Wt,changeExportFormatSetting:$t,changeIsUserDownloadingSetting:Xt,changeIsHideEdgesByCutoff:Vt,changeEdgesHideCutoff:Yt,changeTransIcludeLocLevel:Jt,changeTypeOfAnalysisSetting:Kt,changeIsUserFilterEdgesSetting:Gt,changeIsUserRelayoutSetting:ta,isShowingLoadingModalToStore:pa},e)}))((function(e){var t=e.graphSettings.method,a=e.graphSettings.layout,r=e.graphSettings.isUserReDraw,i=e.graphSettings.isUserFilteringEdge,c=e.graphSettings.edgeFilterCutoff,o=e.graphSettings.clusterMethod,l=e.graphSettings.isUserClustering,d=e.graphSettings.isEdgeScaled,u=e.graphSettings.edgeScaleFactor,p=e.graphSettings.isHideEdgesByCutoff,b=e.graphSettings.hiddenEdgesCutoff,m=e.graphSettings.colorNodedBy,x=e.graphSettings.exportFormat,O=e.graphSettings.transIncludeLocLevel,y=e.graphSettings.typeOfAnalysis,v=e.graphSettings.isUserRelayout,S=function(t){"mscg"===t?e.changeLayoutSetting("cose-bilkent"):e.changeLayoutSetting("cose"),e.changeMethodSetting(t)},_=function(e,t){return Object(n.jsx)(ha,{disabled:!1,value:e,children:e},t)};return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(h.a,{children:Object(n.jsx)(g.a,{xs:24,id:"header-content",children:Object(n.jsx)(j.a,{visible:e.isShowingLoadingModal,closable:!1,centered:!0,width:0,footer:null,bodyStyle:{textAlign:"center",padding:"0px"},children:Object(n.jsx)(f.a,{indicator:ga,style:{color:"white"},tip:"Preparing Graph",size:"large"})})})}),Object(n.jsxs)(h.a,{gutter:[8,8],children:[Object(n.jsxs)(g.a,{span:24,children:[Object(n.jsx)("h5",{children:"Graph settings"}),Object(n.jsxs)("p",{children:["Type of analysis"," ",Object(n.jsx)("span",{children:Object(n.jsx)(fe.a,{title:"Analysis to be performed. [1]Clustering: construct an undirected graph and detect putative cluster(s). [2]Transmission: construct a directed graph to show the putative transmission flow",placement:"rightTop",children:Object(n.jsx)(xe.a,{style:{color:"red"}})})})]}),Object(n.jsxs)(Ot.a,{disabled:!e.hammMatrix,value:y,style:{width:"100%"},onChange:function(t){"clustering"===t?e.changeMethodSetting("cathai"):e.changeMethodSetting("seqtrack"),e.changeTypeOfAnalysisSetting(t)},children:[Object(n.jsxs)(ha,{disabled:!e.hammMatrix,value:"clustering",children:[" ","Clustering"," "]}),Object(n.jsx)(ha,{disabled:!e.hammMatrix||!e.metadata,value:"transmission",children:"Transmission"})]})]}),"clustering"===y&&Object(n.jsxs)(g.a,{span:24,children:[Object(n.jsxs)("p",{children:["Method"," ",Object(n.jsx)("span",{children:Object(n.jsx)(fe.a,{title:"Method to construct clustering graph.  [1] CATHAI: given the SNP cut-off, create networks of pairwise SNP-distances between samples (Forde et al. 2021)",placement:"rightTop",children:Object(n.jsx)(xe.a,{style:{color:"red"}})})})]}),Object(n.jsxs)(Ot.a,{disabled:!e.hammMatrix||!y,value:t,style:{width:"100%"},onChange:S,children:[Object(n.jsx)(ha,{value:"cathai",children:"CATHAI"}),Object(n.jsx)(ha,{value:"mscg",disabled:!i,children:"MSCG"})]})]}),"transmission"===y&&Object(n.jsxs)(g.a,{span:24,children:[Object(n.jsxs)("p",{children:["Method"," ",Object(n.jsx)("span",{children:Object(n.jsx)(fe.a,{title:"Method to construct transmission graph.  [1]SeqTrack: construct a parsimonous transmission tree based on SNP distances and sampling dates (Jombart et al. 2014).  [2]SNPs and patient stay: construct a directed graph where edges were weighted by sum of SNPs distance weight and patient stays",placement:"rightTop",children:Object(n.jsx)(xe.a,{style:{color:"red"}})})})]}),Object(n.jsx)(Ot.a,{disabled:!y,value:t,style:{width:"100%"},onChange:S,children:Object(n.jsx)(ha,{disabled:!e.hammMatrix||!e.metadata,value:"seqtrack",children:"SeqTrack"})})]}),Object(n.jsxs)(g.a,{span:16,children:[Object(n.jsxs)("p",{children:["Layout"," ",Object(n.jsx)("span",{children:Object(n.jsx)(fe.a,{title:"Layout to display the graph.",placement:"rightTop",children:Object(n.jsx)(xe.a,{style:{color:"red"}})})})]}),Object(n.jsxs)(Ot.a,{disabled:!e.hammMatrix,value:a,style:{width:"100%"},onChange:function(a){"mscg"===t&&e.changeLayoutSetting("cose-bilkent"),e.changeLayoutSetting(a)},children:[Object(n.jsx)(ha,{value:"cose",children:" CoSE"}),Object(n.jsx)(ha,{value:"spread",children:"Spread"}),Object(n.jsx)(ha,{value:"fcose",children:"fCoSE"}),Object(n.jsx)(ha,{value:"cose-bilkent",children:"CoSE Bilkent (Compound)"}),Object(n.jsx)(ha,{value:"dagre",children:"Dagre"})]})]}),Object(n.jsxs)(g.a,{span:8,children:[Object(n.jsxs)("p",{children:["Refresh"," ",Object(n.jsx)("span",{children:Object(n.jsx)(fe.a,{title:"Apply selected layout to current graph.",placement:"rightTop",children:Object(n.jsx)(xe.a,{style:{color:"red"}})})})]}),Object(n.jsx)(je.a,{disabled:!e.graphObject,onClick:function(){v||(e.isShowingLoadingModalToStore(!0),e.changeIsUserRelayoutSetting(!0))},type:"primary",children:Object(n.jsx)(oa.a,{})})]}),Object(n.jsx)(g.a,{span:24,children:Object(n.jsxs)(sa.a,{style:{fontSize:"10px"},onChange:function(t){var a=t.target.checked;e.changeIsUserFilterEdgesSetting(a)},checked:i,disabled:!e.hammMatrix||"clustering"!==y,children:["Apply SNPs cutoff"," ",Object(n.jsx)("span",{children:Object(n.jsx)(fe.a,{title:"Apply a cutoff number to limit the maximum pairwise SNPs distance to be displayed.",placement:"rightTop",children:Object(n.jsx)(xe.a,{style:{color:"red"}})})})]})}),Object(n.jsxs)(g.a,{span:24,children:[Object(n.jsxs)("p",{children:["Cutoff number"," ",Object(n.jsx)("span",{children:Object(n.jsx)(fe.a,{title:"Maximum pairwise SNPs distance to be included in graph  (e.g. 25 SNPs cutoff will include edges with 0 to 25 SNPs).",placement:"rightTop",children:Object(n.jsx)(xe.a,{style:{color:"red"}})})})]}),Object(n.jsx)(ia.a,{min:0,disabled:!i||!e.hammMatrix||"clustering"!==y,step:1,value:c,onChange:function(t){t>0&&e.changeEdgeFilterCutoffSetting(t)},style:{marginBottom:"5px"}})]}),"hierSnpsMetaStayOverlap"===t&&Object(n.jsxs)(g.a,{span:24,children:[Object(n.jsxs)("p",{children:["Filter weighted edges",Object(n.jsx)("span",{children:Object(n.jsx)(fe.a,{title:"Filter edges based on its weight.  The weight is a combination score computed from pairwise SNP distances and stay overlap in hierarhical order. The weight assignation are:  #1 (all SNP distances),  #2 (#1+SNP distances less and equal to cutoff), #3 (#2+They had overlap stay at hospital level), #4 (#3+They had overlap stay at ward level), #5 (#4+They had overlap stay at bay level), and #6 (#5+They had overlap stay at bed level). So an edge with weight of #6 represents the highest score for a possible transmission based on their SNPs distance and stay overlap in bed level. *Stay overlap is considered in 7 days range (REF)",placement:"rightTop",children:Object(n.jsx)(xe.a,{style:{color:"red"}})})})]}),Object(n.jsxs)(Ot.a,{disabled:"hierSnpsMetaStayOverlap"!==t,value:O,style:{width:"100%"},onChange:function(t){e.changeTransIcludeLocLevel(t)},children:[Object(n.jsx)(ha,{value:1,children:"SNPs"}),Object(n.jsx)(ha,{value:2,children:"Hospital"}),Object(n.jsx)(ha,{value:3,children:"Ward"}),Object(n.jsx)(ha,{value:4,children:"Bay"}),Object(n.jsx)(ha,{value:5,children:"Bed"})]})]}),Object(n.jsx)(g.a,{span:24,children:Object(n.jsx)(je.a,{disabled:!e.hammMatrix,onClick:function(){r||(e.isShowingLoadingModalToStore(!0),e.changeIsUserReDrawSetting(!0))},type:"primary",children:"Create graph"})}),"clustering"===y&&e.graphObject&&Object(n.jsx)(ca.a,{style:{margin:"10px 0px 0px 0px"}}),"clustering"===y&&e.graphObject&&Object(n.jsxs)(g.a,{span:24,children:[Object(n.jsx)("h5",{children:"Clustering settings"}),Object(n.jsxs)("p",{children:["Method"," ",Object(n.jsx)("span",{children:Object(n.jsx)(fe.a,{title:"Method to detect cluster in the constructed graph. [1]Connected components: using Breadth-first search algorithm (Zhou and Hansen,2006) to find cluster (all connected nodes) [2]Louvain: using Louvain algoritm (Subelj and Bajec, 2011) to find the cluster(s) ",placement:"rightTop",children:Object(n.jsx)(xe.a,{style:{color:"red"}})})})]}),Object(n.jsx)(Ot.a,{disabled:!e.graphObject,value:o,style:{width:"100%"},onChange:function(t){e.changeClusterMethodSetting(t)},children:Object(n.jsx)(ha,{value:"Connected Components",children:"Connected Components"})})]}),"clustering"===y&&e.graphObject&&Object(n.jsx)(g.a,{span:24,children:Object(n.jsx)(je.a,{type:"primary",disabled:!e.graphObject||"mscg"===t,onClick:function(){l||e.changeIsUserClusteringSetting(!0)},children:"Detect clusters"})}),Object(n.jsx)(ca.a,{style:{margin:"10px 0px 0px 0px"}}),Object(n.jsxs)(g.a,{span:24,children:[Object(n.jsx)("h5",{children:"Visualization settings"}),Object(n.jsxs)(sa.a,{style:{fontSize:"10px"},onChange:function(t){var a=t.target.checked;e.changeIsEdgeScaledSetting(a)},checked:d,disabled:!e.graphObject,children:["Scale edge to its weight"," ",Object(n.jsx)("span",{children:Object(n.jsx)(fe.a,{title:"Change the thickness of the edge accordin to its weight. (e.g. the higher the transmission score the thicker the line).",placement:"rightTop",children:Object(n.jsx)(xe.a,{style:{color:"red"}})})})]})]}),Object(n.jsxs)(g.a,{span:24,children:[Object(n.jsxs)("p",{children:["Scaling factor"," ",Object(n.jsx)("span",{children:Object(n.jsx)(fe.a,{title:"Multiply the thickness of the edge with the scaling factor (positive number greater than zero)",placement:"rightTop",children:Object(n.jsx)(xe.a,{style:{color:"red"}})})})]}),Object(n.jsx)(ia.a,{min:1e-5,disabled:!d||!e.graphObject,step:.1,value:u,onChange:function(t){t>0&&e.changeEdgeScaleFactorSetting(t)}})]}),Object(n.jsx)(g.a,{span:24,children:Object(n.jsxs)(sa.a,{style:{fontSize:"10px"},onChange:function(t){var a=t.target.checked;e.changeIsHideEdgesByCutoff(a)},checked:p,disabled:!e.graphObject,children:["Show partial edges"," ",Object(n.jsx)("span",{children:Object(n.jsx)(fe.a,{title:"Only show edges which have weight within the specified range (min to max) (Note: It doesn't remove the edges but only hide it to the background)",placement:"rightTop",children:Object(n.jsx)(xe.a,{style:{color:"red"}})})})]})}),Object(n.jsxs)(g.a,{span:12,children:[Object(n.jsx)("p",{children:"Minimum"}),Object(n.jsx)(ia.a,{min:0,disabled:!p||!e.graphObject,step:.1,value:b.min,onChange:function(t){if(t>=0){var a={min:t,max:b.max};e.changeEdgesHideCutoff(a)}}})]}),Object(n.jsxs)(g.a,{span:12,children:[Object(n.jsx)("p",{children:"Maximum"}),Object(n.jsx)(ia.a,{min:0,disabled:!p||!e.graphObject,step:.1,value:b.max,onChange:function(t){if(t>0){var a={min:b.min,max:t};e.changeEdgesHideCutoff(a)}}})]}),Object(n.jsxs)(g.a,{span:24,children:[Object(n.jsxs)("p",{children:["Node color"," ",Object(n.jsx)("span",{children:Object(n.jsx)(fe.a,{title:"Color nodes by the selected column in metadata or by the clustering result. User can also specify the color manually (e.g. To specify color on column 'patient_group', add new column named 'patient_group:color' in metadata).",placement:"rightTop",children:Object(n.jsx)(xe.a,{style:{color:"red"}})})})]}),Object(n.jsxs)(Ot.a,{disabled:!e.graphObject,value:m,style:{width:"100%"},onChange:function(t){e.changeColorNodeSetting(t)},children:[" ",e.colorLUT&&Object.keys(e.colorLUT)?Object.keys(e.colorLUT).map((function(e,t){return _(e,t)})):["na"].map((function(e,t){return _(e,t)}))]})]}),Object(n.jsxs)(g.a,{span:24,children:[Object(n.jsx)("h5",{children:"Download settings"}),Object(n.jsxs)("p",{children:["Type"," ",Object(n.jsx)("span",{children:Object(n.jsx)(fe.a,{title:"Type of file to be downloaded:  [1]Graph image (SVG) [2]Graph object file (DOT format: suitable for visualization with HAIviz) [3]Clustering result (CSV).",placement:"rightTop",children:Object(n.jsx)(xe.a,{style:{color:"red"}})})})]}),Object(n.jsxs)(Ot.a,{value:x,style:{width:"100%"},onChange:function(t){e.changeExportFormatSetting(t)},disabled:!e.graphObject&&!e.graphClusters,children:[Object(n.jsx)(ha,{disabled:!e.graphObject,value:"svg",children:"Graph image (SVG)"}),Object(n.jsx)(ha,{disabled:!e.graphObject,value:"dot",children:"Graph file (DOT)"}),Object(n.jsx)(ha,{disabled:!e.graphClusters,value:"clusterID",children:"Clustering result (CSV)"})]})]}),Object(n.jsx)(g.a,{span:24,children:Object(n.jsx)(je.a,{disabled:!e.graphClusters&&!e.graphObject,onClick:function(){switch(x){case"clusterID":(t=e.graphClusters.members)&&new la.ExportToCsv({fieldSeparator:",",filename:"GraphSNP_clusterID",quoteStrings:'"',decimalSeparator:".",showLabels:!0,showTitle:!1,useTextFile:!1,useBom:!0,useKeysAsHeaders:!0}).generateCsv(t);break;case"svg":e.changeIsUserDownloadingSetting(!0);break;case"dot":!function(e){var t=-1!==["hierSnpsMetaStayOverlap"].indexOf(e.creator),a=e.nodes,n=e.edges,r=new da({multigraph:!0});Array.isArray(a)&&a.length>0&&a.forEach((function(e){r.setNode(e)})),Array.isArray(n)&&n.length>0&&n.forEach((function(e){var a=e.source,n=e.target,s=0===e.value||e.value?e.value:"null",i=t?"forward":"none";r.setEdge(a,n,{weight:s,dir:i})})),Ze("Graph_in_DOT.gv",ua.write(r))}(e.graphObject)}var t},type:"primary",children:"Download"})})]})]})})),fa=a(372);function ba(e,t){this.nodes=e,this.edges=t}ba.prototype.getSymetricEdges=function(){var e=this.edges;return e=e.filter((function(e){return"upper"===e.part})),new ba(this.nodes,e)},ba.prototype.getEdgesLowerThanCutoff=function(e){var t=this.edges;return e&&e>0&&(t=t.filter((function(t){return t.value<e}))),new ba(this.nodes,t)},ba.prototype.getEdgesGreaterThanCutoff=function(e){var t=this.edges;return e&&e>0&&(t=t.filter((function(t){return t.value>e}))),new ba(this.nodes,t)};var ma=ba,xa=a(20);var Oa=a(20);var ya=a(20);function va(e){this.stays=e}va.prototype.getRangeOfStays=function(){var e,t;return Array.isArray(this.stays)&&this.stays.length>0&&this.stays.forEach((function(a){e=e?e>a.start_date?a.start_date:e:a.start_date,t=t?t<a.end_date?a.end_date:t:a.end_date})),{start_date:e,end_date:t}},va.prototype.getLocationLevel=function(){var e;return Array.isArray(this.stays)&&this.stays.length>0&&this.stays.forEach((function(t){var a=Ke(t);e?a>e&&(e=a):e=a})),e};var Sa=va,_a=Object(Ue.extendMoment)(Ae.a),wa=a(20);function Ta(e,t,a,n,r){for(var s=0,i=a.stays.filter((function(e){return Ke(e)===r})),c=n.stays.filter((function(e){return Ke(e)===r})),o=0;o<i.length;o++)for(var l=i[o],d=_a.range(l.start_date.startOf("day"),l.end_date.endOf("day")),u=0;u<c.length;u++){var p=c[u],h=_a.range(p.start_date.startOf("day"),p.end_date.endOf("day"));if(d.overlaps(h))if(d.intersect(h).diff("days")<=7){var g=Qe(l,p);g>s&&(s=g)}}return s}var Ea=a(20),Da=(Object(Ue.extendMoment)(Ae.a),a(1181));function Ca(e){var t,a=e.nodes,n=function(e){var t,a,n,r,s,i={};for(t=0,a=e.length;t<a;t+=1)r=(n=e[t]).source,s=n.target,i[r]?i[r].push(s):i[r]=[s],i[s]?i[s].push(r):i[s]=[r];return i}(e.edges),r=[],s={};for(t in n)n.hasOwnProperty(t)&&!s[t]&&r.push(Ma(t,n,s));var i=[];r=r.sort((function(e,t){return t.length-e.length}));var c=[];return r.forEach((function(e,t){Array.isArray(e)&&e.length>0&&e.forEach((function(e){c.push(e),i.push({sample:e,clusterID:t+1})}))})),a.forEach((function(e){-1===c.indexOf(e)&&i.push({sample:e,clusterID:"na"})})),{group:r,members:i}}function Ma(e,t,a){var n,r,s,i,c=[],o=[];for(c.push(e),a[e]=!0;c.length>0;)for(e=c.shift(),o.push(e),n=0,r=(s=t[e]).length;n<r;n+=1)a[i=s[n]]||(c.push(i),a[i]=!0);return o}var La=a(367),Ia=a(1347),Na=a(20);function ka(e,t,a,n,r,s,i,c){var o={creator:null,nodes:null,edges:null};switch(t){case"mcg":var l=function(e,t){var a=xa.cloneDeep(e),n=[],r=[];a.forEach((function(e,a){r.push(a);for(var s=e.sort((function(e,t){return e.value-t.value})),i=s[0].value,c=0,o=0;o<s.length;o++){if(s[o].value!==i){c=o;break}c=o}c>0&&s.splice(c),null!==t&&t>0&&(s=s.filter((function(e){return e.value<=t}))),n=n.concat(s)}));var s=new ma(r,n).getSymetricEdges();return{nodes:s.nodes,edges:s.edges}}(e,a);o.creator="mcg",o.nodes=l.nodes,o.edges=l.edges;break;case"cathai":var d=function(e,t){var a=Oa.cloneDeep(e),n=[],r=[];a.forEach((function(e,a){r.push(a);var s=e;null!==t&&t>0&&(s=s.filter((function(e){return e.value<=t}))),n=n.concat(s)}));var s=new ma(r,n).getSymetricEdges();return{nodes:s.nodes,edges:s.edges}}(e,a);o.creator="cathai",o.nodes=d.nodes,o.edges=d.edges;break;case"mscg":if(a){var u=function(e,t){var a=Na.cloneDeep(e),n=(new Map,[]),r=[];a.forEach((function(e,a){if(n.push(a),null!==t&&t>0){var s=e.filter((function(e){return e.value<=t}));r=r.concat(s)}}));var s=new ma(n,r).getSymetricEdges(),i=Ca({nodes:s.nodes,edges:s.edges}),c=[],o=[],l=i.members.filter((function(e){return"na"===e.clusterID}));if(i.group.length>0)for(var d=0;d<i.group.length;d++){var u="Cluster "+(d+1),p=i.group[d];c.push({id:u,data:{type:"compound",size:p.length,contents:p}});for(var h=d+1;h<i.group.length;h++){var g="Cluster "+(h+1);u!==g&&function(){var e=i.group[h],t=[];p.forEach((function(n){e.forEach((function(e){var r=a.get(n).filter((function(t){return t.target===e}));t.push(r[0].value)}))})),o.push({source:u,target:g,value:Object(La.a)(t)})}()}for(var j=function(e){var t=l[e].sample,n=[];p.forEach((function(e){var r=a.get(e).filter((function(e){return e.target===t}));n.push(r[0].value)})),o.push({source:u,target:t,value:Object(La.a)(n)})},f=0;f<l.length;f++)j(f)}if(l.length>0)for(var b=0;b<l.length;b++){var m=l[b].sample;c.push({id:m,data:{type:"singleton",size:null,contents:null}});for(var x=function(e){var t=l[e].sample;if(m!==t){var n=a.get(m).filter((function(e){return e.target===t}));o.push({source:m,target:t,value:n[0].value})}},O=b+1;O<l.length;O++)x(O)}var y=o.map((function(e){return{from:e.source,to:e.target,weight:e.value}}));return{nodes:c,edges:Ia.kruskal(y).map((function(e){return{source:e.from,target:e.to,value:e.weight}}))}}(e,a);o.creator="mscg",o.nodes=u.nodes,o.edges=u.edges}else alert("Require a cut-off. Please input one.");break;case"cge":var p=function(e,t,a){var n=ya.cloneDeep(e),r=[],s=[];n.forEach((function(e,t){s.push(t);for(var a=e.sort((function(e,t){return e.value-t.value})),n=a[0].value,i=0,c=0;c<a.length;c++){if(a[c].value!==n){i=c;break}i=c}a.splice(i),r=r.concat(a)}));var i=new ma(s,r).getSymetricEdges(),c=i.edges;return c.forEach((function(e){e.value=1,null!==a&&e.value<=a&&(e.value=e.value+1),t.forEach((function(t,a){-1!==t.indexOf(e.source)&&-1!==t.indexOf(e.target)&&(e.value=e.value+1)}))})),{nodes:i.nodes,edges:c}}(e,n,a);o.creator="cge",o.nodes=p.nodes,o.edges=p.edges;break;case"seqtrack":var h=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=Ea.cloneDeep(e),s=!1,i=[],c=[];function o(e,r){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:t;if(r.length>1){var o=r.map((function(e){return e.day=c.get(e.id).collectionDay,e})).sort((function(e,t){return e.day>t.day}));if(n&&s){console.log("with mutation");var l=e.day,d=o.map((function(e){var t=Math.abs(l-e.day),a=Da(e.snpDist,t*s,i);return e.dayDiff=t,e.probability=a,e})).sort((function(e,t){return e.probability<t.probability}))[0];return{ances:d.id,snpDist:d.snpDist}}var u=o[0];return{ances:u.id,snpDist:u.snpDist}}}function l(e,t,a){for(var n=[],r=0;r<t.length;r++){var s=t[r].id,i=a.get(s).filter((function(t){return t.target===e.id}));n.push({id:s,snpDist:i[0].value})}return n.sort((function(e,t){return e.snpDist-t.snpDist})),n.filter((function(e){return e.snpDist===n[0].snpDist}))}function d(e,t,a){var n={ances:null,snpDist:null},r=t.filter((function(t){return t.day<e.day}));if(0===r.length)return n.ances="NA",n.snpDist="NA",n;if(1===r.length){n.ances=r[0].id;var s=a.get(r[0].id).filter((function(t){return t.target===e.id}));return n.snpDist=s[0].value,n}var i=l(e,r,a);if(i.length>1){var c=o(e,i);return n.ances=c.ances,n.snpDist=c.snpDist,n}return n.ances=i[0].id,n.snpDist=i[0].snpDist,n}if(r.forEach((function(e,a){var n=a,r=t.get(a),o=r&&r.collectionDay?r.collectionDay:null;r&&o?i.push({id:n,day:o}):(s=!0,c.push(n))})),s&&alert("No collection day data for id(s): ",c.join(", ")),s){return{nodes:null,edges:null}}for(var u=new Map,p=0;p<i.length;p++){var h=i[p],g=d(h,i,r);u.set(h.id,g)}var j={nodes:[],edges:[]};return u.forEach((function(e,t){j.nodes.push(t),"NA"!==e.ances&&j.edges.push({source:e.ances,target:t,value:e.snpDist,dir:"forward"})})),j}(e,s,c);o.creator="seqtrack",o.nodes=h.nodes,o.edges=h.edges;break;case"hierSnpsMetaStayOverlap":var g=function(e,t,a,n,r){var s=wa.cloneDeep(e),i=wa.cloneDeep(a),c=[],o=[];s.forEach((function(e,a){o.push(a);var n=e;null!==t&&t>0&&(n=n.filter((function(e){return e.value<=t}))),c=c.concat(n)}));var l=[],d=[];if(c.length>0)for(var u=0;u<c.length;u++){var p=c[u],h=n.get(p.source).patient_id,g=n.get(p.target).patient_id,j=_a(n.get(p.source).sample_date),f=_a(n.get(p.target).sample_date),b=i.get(h)?new Sa(i.get(h)):null,m=i.get(g)?new Sa(i.get(g)):null;if(b instanceof Sa&&m instanceof Sa&&Array.isArray(b.stays)&&Array.isArray(m.stays)&&b.stays.length>0&&m.stays.length>0){var x=b.getLocationLevel(),O=m.getLocationLevel(),y=Math.min(x,O)?Math.min(x,O):null;if(y){var v=b.getRangeOfStays(),S=m.getRangeOfStays(),_=_a.range(v.start_date.startOf("day"),v.end_date.endOf("day")),w=_a.range(S.start_date.startOf("day"),S.end_date.endOf("day"));if(_.overlaps(w))if(f.isAfter(j,"day")){var T=Ta(0,0,b,m,y);p.dir="forward",p.value=1+T,l.push(p)}else p.dir="none",p.value=1,d.push(p);else p.dir="none",p.value=1,d.push(p)}else p.dir="none",p.value=1,d.push(p)}else p.dir="none",p.value=1,d.push(p)}return l=l.filter((function(e){return e.value>=r})),{nodes:o,edges:l}}(e,a,r,s,i);o.creator="hierSnpsMetaStayOverlap",o.nodes=g.nodes,o.edges=g.edges}return o}encodeURI('data:image/svg+xml;utf-8,<svg width="600" height="600" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.5;">\n    <g transform="matrix(1.07821,0,0,1.07821,301.019,300.574)">\n        <circle cx="0" cy="0" r="268" style="fill:none;stroke:black;stroke-width:7.69px;"/>\n    </g>\n</svg>');var Aa=a(1350);function Ua(e,t){var a=null;switch(t){case"Connected Components":a=Ca(e);break;case"Louvain":a=function(e){var t=e.edges,a=e.nodes,n=[];t.forEach((function(e){n.push(e.source,e.target)})),n=n.filter(Ve);var r=new Map,s=[],i=Aa.jLouvain().nodes(n).edges(t)(),c=[];for(var o in i){c.push(o);var l=i[o]+1;if(s.push({sample:o,clusterID:l}),r.get(l)){var d=r.get(l);d.push(o),r.set(l,d)}else r.set(l,[o])}var u=[];return r.forEach((function(e,t){u.push(e)})),a.forEach((function(e){-1===c.indexOf(e)&&s.push({sample:e,clusterID:"na"})})),console.log("Louvain",u,s),{group:u,members:s}}(e)}return a}var Ra=a(155),Fa=a.n(Ra),Pa=a(599),Ga=a.n(Pa),qa=a(600),za=a.n(qa),Ha=a(20),Ba=a(1356),Va=a(1359),Ya=a(1361);Fa.a.use(za.a),Fa.a.use(Ba),Fa.a.use(Va),Fa.a.use(Ga.a),Fa.a.use(Ya);var Wa=Object(b.b)((function(e){return{metadata:e.metadata,patientMovement:e.patientMovement,sequence:e.sequence,graphObject:e.graphObject,hammMatrix:e.hammMatrix,graphSettings:e.graphSettings,colorLUT:e.colorLUT,graphClusters:e.graphClusters,categoricalMap:e.categoricalMap}}),(function(e){return Object(m.b)({changeIsUserClusteringSetting:zt,changeIsUserReDrawSetting:Ft,hmmMatrixToStore:Te,graphObjectToStore:Ee,graphClusterToStore:De,colorLUTtoStore:ft,changeIsUserDownloadingSetting:Xt,changeChartSessionSetting:Qt,changeIsUserLoadSessionSetting:Zt,changeSelectedNode:ea,isShowingLoadingModalToStore:pa,changeIsUserRelayoutSetting:ta},e)}))((function(e){var t=Object(r.useState)(!1),a=Object(It.a)(t,2),i=a[0],c=a[1],o=Object(r.useState)(!1),l=Object(It.a)(o,2),d=l[0],u=l[1],p=(e.graphSettings.typeOfAnalysis,e.graphSettings.method),h=e.graphSettings.layout,j=e.graphSettings.isUserReDraw,f=e.graphSettings.isUserFilteringEdge?e.graphSettings.edgeFilterCutoff:null,b=e.graphSettings.clusterMethod,m=e.graphSettings.isUserClustering,x=e.graphSettings.isHideEdgesByCutoff,O=e.graphSettings.hiddenEdgesCutoff,y=e.graphSettings.colorNodedBy,v=e.graphSettings.isEdgeScaled,S=e.graphSettings.edgeScaleFactor,_=e.graphSettings.isUserDownloading,w=e.graphSettings.transIncludeLocLevel,T=e.graphSettings.isUserRelayout,E={name:h,animate:!1,fit:!0},D=Object(r.useRef)(null),C=e.graphSettings.chartSession,M=e.graphSettings.isUserReloadSession;Object(r.useEffect)((function(){j&&setTimeout((function(){!function(){var t=e.hammMatrix?e.hammMatrix:new at(e.sequence).getHammingMatrix(),a=e.sequence?e.sequence[0].size:null,n=ka(t,p,f,e.categoricalMap,e.patientMovement,e.metadata,w,a);if(n&&n.nodes&&n.edges){var r=function(e){var t=[],a=e.creator,n=e.nodes;return e.edges.forEach((function(e){t.push({data:{source:e.source,target:e.target,weight:e.value,dir:"forward"===e.dir?"forward":"none"}})})),"mscg"===a?n.forEach((function(e){var a=e.data;a&&"compound"===a.type?(t.push({data:{id:e.id,data:a}}),a.contents.forEach((function(a){t.push({data:{id:a,parent:e.id,data:{type:"singleton",size:null,contents:null}}})}))):t.push({data:{id:e.id,data:a}})})):n.forEach((function(e){t.push({data:{id:e,data:{type:"singleton",size:null,contents:null}}})})),t}(n);if(r){if(C)C.unmount();var s=Fa()({elements:r,container:document.getElementById("graph-cont-cytoscape-canvas"),pannable:!0,selected:!0,boxSelectionEnabled:!1,style:[{selector:"node",style:{shape:"mscg"===p?"round-rectangle":"circle",width:function(e){var t=e.data("data");return t&&t.size?7*t.size:6},height:function(e){var t=e.data("data");return t&&t.size?7*t.size:6},label:"data(id)","text-wrap":"none","text-valign":function(e){var t=e.data("data");return t&&t.size?"center":"'top'"},"font-size":"6px","border-width":1,"border-style":"solid","border-color":"black","background-color":function(t){return y&&e.colorLUT?$e(t.data("id"),y,e.colorLUT):"lightgray"}}},{selector:":parent",shape:"round-rectangle",style:{"background-image":"none","padding-top":"5px","background-position-x":"0","background-position-y":"0","background-width":"100%","background-height":"100%","background-fit":"contain","background-opacity":"0","border-width":"1","text-valign":"top","text-halign":"center"}},{selector:"edge",style:{opacity:function(e){var t=e.data("weight");return x&&(t<O.min||t>O.max)?0:1},label:"data(weight)","font-size":"3px","text-background-color":"#F5E372",color:"red",width:function(e){return Xe(v,e.data("weight"),S,"edge")},"target-arrow-color":"black","target-arrow-shape":function(e){return"forward"===e.data("dir")?"triangle":"none"},"curve-style":"bezier","arrow-scale":function(e){return Xe(v,e.data("weight"),S,"arrow")}}},{selector:":selected",style:{"border-width":2,"border-color":"red","border-style":"double"}}]});if("spread"===h){var i={name:"cose",animate:!1,fit:!0,prelayout:!1};s.layout(i).run()}else s.layout(E).run();s.selectionType("single"),s.nodes().bind("tap",(function(t){var a=t.target.data("data"),n=a&&a.size?a.contents:[t.target.data("id")];e.metadata&&e.changeSelectedNode(n)})),s.on("tap",(function(t){t.target===s&&e.changeSelectedNode([])})),D.current=s,e.hammMatrix&&e.hmmMatrixToStore(t),e.graphObjectToStore(n),e.changeChartSessionSetting(s)}}}(),c(!0),e.changeIsUserReDrawSetting(!1),e.isShowingLoadingModalToStore(!1)}),100)}),[j]),Object(r.useEffect)((function(){M&&setTimeout((function(){!function(){var e=C;e.unmount(),e.mount(document.getElementById("graph-cont-cytoscape-canvas")),D.current=e}(),c(!0),e.changeIsUserLoadSessionSetting(!1),e.isShowingLoadingModalToStore(!1)}),100)}),[M]),Object(r.useEffect)((function(){_&&(Ze("GraphSNP-cytoscape-svg.svg",D.current.svg({scale:1,full:!0})),e.changeIsUserDownloadingSetting(!1))}),[_]),Object(r.useEffect)((function(){m&&e.graphObject&&(u(!0),setTimeout((function(){var t=Ua(e.graphObject,b);u(!1),ge.b.success("Found ".concat(t.group.length," clusters in the graph"),2);var a=Ye(t.members,"clusterID"),n=Ha.cloneDeep(e.colorLUT);n?n=Object(fa.a)(Object(fa.a)({},n),{},{clusterID:a}):n={clusterID:a};e.colorLUTtoStore(n),e.graphClusterToStore(t),e.changeIsUserClusteringSetting(!1)}),100))}),[b,m]),Object(r.useEffect)((function(){T&&D.current&&setTimeout((function(){var t=D.current,a={name:h,animate:!1,fit:!0,prelayout:!1};t.layout(a).run(),D.current=t,e.isShowingLoadingModalToStore(!1),e.changeIsUserRelayoutSetting(!1)}),100)}),[T]),Object(r.useEffect)((function(){if(e.graphObject&&D.current){var t=D.current;v?(t.style().selector("edge").style({width:function(e){return Xe(v,e.data("weight"),S,"edge")},"arrow-scale":function(e){return Xe(v,e.data("weight"),S,"arrow")}}).update(),D.current=t):(t.style().selector("edge").style({width:3,"arrow-scale":1}).update(),D.current=t)}}),[v,S]),Object(r.useEffect)((function(){if(e.graphObject&&D.current){var t=D.current;x?(t.style().selector("edge").style({opacity:function(e){var t=e.data("weight");return x&&(t<O.min||t>O.max)?0:1}}).update(),D.current=t):(t.style().selector("edge").style({opacity:1}).update(),D.current=t),D.current=t}}),[x,O]),Object(r.useEffect)((function(){if(y&&e.colorLUT&&D.current){var t=D.current;t.style().selector("node").style({"background-color":function(t){return $e(t.data("id"),y,e.colorLUT)}}).update(),D.current=t}}),[y,e.colorLUT]);return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsxs)(g.a,{span:24,style:{position:"relative"},children:[Object(n.jsx)("div",{id:"graph-cont-is-empty",style:{display:i?"none":"block"},children:Object(n.jsx)(Lt.a,{description:C?"Reload previous graph":"No graph. Create one",image:Lt.a.PRESENTED_IMAGE_SIMPLE,children:C&&Object(n.jsx)(je.a,{onClick:function(t){M||(e.isShowingLoadingModalToStore(!0),e.changeIsUserLoadSessionSetting(!0))},type:"primary",children:Object(n.jsx)(oa.a,{})})})}),Object(n.jsx)("div",{id:"graph-cont-is-processing",style:{display:d?"block":"none"},children:Object(n.jsxs)("p",{style:{textAlign:"right"},children:[Object(n.jsx)("span",{children:Object(n.jsx)(pe.a,{style:{fontSize:18},spin:!0})})," ","Creating graph ..."]})})]}),Object(n.jsx)("div",{id:"graph-cont-cytoscape-canvas"})]})})),$a=Mt.a.Sider,Xa=Mt.a.Content;var Ja=Object(b.b)((function(e){return{hammingMatrix:e.hammMatrix}}),(function(e){return Object(m.b)({},e)}))((function(e){return Object(n.jsx)(s.a.Fragment,{children:Object(n.jsxs)(Mt.a,{children:[Object(n.jsx)($a,{id:"graphsnp-sider",children:Object(n.jsx)(ja,{})}),Object(n.jsxs)(Mt.a,{id:"graphsnp-container",children:[e.hammingMatrix&&Object(n.jsxs)(Xa,{children:[Object(n.jsx)(ra,{}),Object(n.jsx)(Wa,{})]}),!e.hammingMatrix&&Object(n.jsx)(Xa,{children:Object(n.jsx)(g.a,{span:24,children:Object(n.jsx)("div",{id:"graph-cont-is-empty",style:{display:"block"},children:Object(n.jsx)(Lt.a,{description:"No input: Load one.",image:Lt.a.PRESENTED_IMAGE_SIMPLE})})})})]})]})})})),Ka=a(1455),Qa=a(132),Za=(a(266),Ka.a.Title),en=Ka.a.Text,tn=function(e){return Object(n.jsx)(s.a.Fragment,{children:Object(n.jsxs)("div",{className:"graphsnp-docs-content",children:[Object(n.jsxs)(Za,{level:2,underline:!0,children:[" ","GraphSNP: What is it?"," "]}),Object(n.jsx)(en,{children:"GraphSNP is a web-based application to create and visualise network of pairwise SNP distances for outbreak cluster and transmission analysis. It is a client-side and standalone version of integrated cluster analysis platform CATHAI: Cluster Analysis for Healthcare Associated Infection (REF:Forde et al., 2021)"}),Object(n.jsx)(Za,{level:3,children:"When to use "}),Object(n.jsx)(en,{children:"You can use GraphSNP for:"}),Object(n.jsxs)("ul",{children:[Object(n.jsxs)("li",{children:["Rapid outbreak network visualization:"," ",Object(n.jsx)("b",{children:"No instalation required, drag and drop input files, interactive and easy to use."})]}),Object(n.jsxs)("li",{children:[" ",Object(n.jsx)("b",{children:"Visualize distribution "})," of pairwise SNP distances from a multi-fasta SNPs aligment"," "]}),Object(n.jsxs)("li",{children:[" ",Object(n.jsx)("b",{children:"Create network "}),"of pairwise SNP distances and"," ",Object(n.jsx)("b",{children:"apply SNPs cutoff "}),"for cluster analysis"]}),Object(n.jsxs)("li",{children:[Object(n.jsx)("b",{children:"Automatic cluster detection "})," based on community detection algorithms"]}),Object(n.jsxs)("li",{children:[" ",Object(n.jsx)("b",{children:"Create transmission tree "})," based on SNPs, sampling dates, and patient stay timeline (for nosocomial outbreak)"," "]})]}),Object(n.jsx)(Za,{level:3,children:"How to use "}),Object(n.jsxs)(en,{children:["Simple, have at least a multi-fasta SNPs alignment file as the input file then drag and drop it to",Object(n.jsxs)(Qa.a,{to:"/graphsnp",onClick:function(){e.changeNavLocation("graphsnp")},children:[" ","GraphSNP page."]})," ","You can also add other information like metadata and patient stay timeline to the analysis."]}),Object(n.jsx)(ca.a,{})]})})},an=Ka.a.Title,nn=(Ka.a.Paragraph,Ka.a.Text),rn=function(e){return Object(n.jsx)(s.a.Fragment,{children:Object(n.jsxs)("div",{className:"graphsnp-docs-content",children:[Object(n.jsxs)(an,{level:2,underline:!0,children:[" ","Input file(s)"," "]}),Object(n.jsx)(an,{level:3,children:"A multi-fasta SNPs alignment"}),Object(n.jsx)(nn,{children:"SNPs alignment file must contain at least two equally length of fasta-formatted non-gap nucleotide sequences."}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)(je.a,{type:"primary",href:le,children:"Download SNPs example file"}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)(an,{level:3,children:"Metadata table"}),Object(n.jsx)(nn,{children:"Metadata table must contain at least three non-empty columns: sampleID, sampleDate, and sampleSource. Sample identifier must be identical on both metadata and SNPs alignment."}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)(je.a,{type:"primary",href:de,children:"Download metadata example file"}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{})]})})},sn=Ka.a.Title,cn=Ka.a.Text,on=function(e){return Object(n.jsx)(s.a.Fragment,{children:Object(n.jsxs)("div",{className:"graphsnp-docs-content",children:[Object(n.jsxs)(sn,{level:2,underline:!0,children:["Browser compatibility"," "]}),"GraphSNP was boostrapped using Create React App (CRA) tool and so it works on majority of modern browsers. Except Internet Explorer (IE), GraphSNP was tested and compatible on the following desktop browsers:",Object(n.jsxs)("ul",{children:[Object(n.jsx)("li",{children:" Microsoft Edge (v.xx) "}),Object(n.jsx)("li",{children:" Safari (v.xx)"}),Object(n.jsx)("li",{children:" Chrome (v.xx) "}),Object(n.jsx)("li",{children:" Firefox (v.90.0)"}),Object(n.jsx)("li",{children:" Opera (v.xx) "})]}),Object(n.jsx)(sn,{level:3,children:"Core libraries"}),Object(n.jsxs)(cn,{children:["Thanks to all the frameworks and libraries run on the background, GraphSNP is now up and running and available worldwide. These are some of key frameworks and libraries used by GraphSNP:",Object(n.jsxs)("ul",{children:[Object(n.jsx)("li",{children:Object(n.jsx)("a",{href:"https://reactjs.org/",target:"_blank",rel:"noopener noreferrer",children:"React.js"})}),Object(n.jsx)("li",{children:Object(n.jsx)("a",{href:"https://d3js.org/",target:"_blank",rel:"noopener noreferrer",children:"Data-Driven Documents (D3.js)"})}),Object(n.jsx)("li",{children:Object(n.jsx)("a",{href:"https://ant.design/",target:"_blank",rel:"noopener noreferrer",children:"Ant design UI"})}),Object(n.jsx)("li",{children:Object(n.jsx)("a",{href:"https://js.cytoscape.org/",target:"_blank",rel:"noopener noreferrer",children:"Cytoscape"})}),Object(n.jsx)("li",{children:"Create React App, cytoscape-svg, dotparser, export-to-csv, lodash, moment, moment-range, react-color, react-faux-dom, react-measure, react-player, redux, react router etc."})]})]}),Object(n.jsx)(sn,{level:3,children:"Have any questions? "}),Object(n.jsxs)(cn,{children:["Please feel free to send it to my email:"," ",Object(n.jsx)("span",{style:{weight:"bold",color:"blue"},children:"b.permana@uq.edu.au"})]}),Object(n.jsxs)(sn,{level:2,underline:!0,children:["Cite us"," "]}),Object(n.jsx)(cn,{children:"If you use GraphSNP in your publication, please cite our papers [available soon] and [CATHAI paper]"}),Object(n.jsx)(ca.a,{})]})})};var ln=Object(b.b)(null,(function(e,t){return Object(m.b)({changeNavLocation:ue},e)}))((function(e){return Object(n.jsx)(s.a.Fragment,{children:Object(n.jsxs)(Mt.a,{id:"page-documentation",children:[Object(n.jsx)(tn,{changeNavLocation:e.changeNavLocation}),Object(n.jsx)(rn,{}),Object(n.jsx)(on,{})]})})}));a(569);function dn(e){return{type:K,payload:e}}function un(e){return{type:Q,payload:e}}function pn(e){return{type:Z,payload:e}}function hn(e){return{type:ee,payload:e}}function gn(e){return{type:ne,payload:e}}function jn(e){return{type:re,payload:e}}function fn(e){return{type:se,payload:e}}function bn(e){return{type:ie,payload:e}}function mn(e){return{type:ce,payload:e}}var xn=Ot.a.Option,On=Object(n.jsx)(pe.a,{style:{fontSize:34},spin:!0});var yn=Object(b.b)((function(e){return{snpDistSettings:e.snpDistSettings,hammingMatrix:e.hammMatrix,colorLUT:e.colorLUT,metadata:e.metadata,isShowingLoadingModal:e.isShowingLoadingModal}}),(function(e){return Object(m.b)({dist_changeDataToDisplay:dn,dist_changeDataColumn:un,dist_changeDataColumnLevel:pn,dist_changeChartOrientation:hn,dist_changeExportFormat:gn,dist_changeIsUserDraw:jn,dist_changeIsUserExport:fn},e)}))((function(e){var t=e.metadata?Array.from(e.metadata.values()):null,a=e.snpDistSettings.dataToDisplay,r=e.snpDistSettings.dataColumn,i=e.snpDistSettings.dataColumnLevel,c=(e.snpDistSettings.chartOrientation,e.snpDistSettings.snpDistExportFormat),o=e.snpDistSettings.isUserDrawChart,l=e.snpDistSettings.isUserExportSnpDist;return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(h.a,{children:Object(n.jsx)(g.a,{xs:24,id:"header-content",children:Object(n.jsx)(j.a,{visible:e.isShowingLoadingModal,closable:!1,centered:!0,width:0,footer:null,bodyStyle:{textAlign:"center",padding:"0px"},children:Object(n.jsx)(f.a,{indicator:On,style:{color:"white"},tip:"Preparing Chart",size:"large"})})})}),Object(n.jsxs)(h.a,{gutter:[8,8],children:[Object(n.jsxs)(g.a,{span:24,children:[Object(n.jsx)("h5",{children:"Visualization settings"}),Object(n.jsxs)("p",{children:["Select samples"," ",Object(n.jsx)("span",{children:Object(n.jsx)(fe.a,{title:"Select group of sample for bar chart visualization.",placement:"rightTop",children:Object(n.jsx)(xe.a,{style:{color:"red"}})})})]}),Object(n.jsxs)(Ot.a,{value:a,style:{width:"100%"},disabled:!e.hammingMatrix,onChange:function(t){e.dist_changeDataToDisplay(t)},children:[Object(n.jsx)(xn,{value:"all",children:"All samples"}),Object(n.jsx)(xn,{disabled:!e.metadata,value:"per-category",children:"Specific group (metadata)"})]})]}),"per-category"===a&&e.hammingMatrix&&e.metadata&&Object(n.jsxs)(g.a,{span:24,children:[Object(n.jsxs)("p",{children:["Select metadata column"," ",Object(n.jsx)("span",{children:Object(n.jsx)(fe.a,{title:"Column in metadata which group of sample to be displayed",placement:"rightTop",children:Object(n.jsx)(xe.a,{style:{color:"red"}})})})]}),Object(n.jsx)(Ot.a,{value:r,style:{width:"100%"},disabled:"per-category"!==a||!e.hammingMatrix||!e.metadata,onChange:function(t){e.dist_changeDataColumn(t)},children:e.colorLUT&&Object.keys(e.colorLUT)?Object.keys(e.colorLUT).map((function(e,t){return function(e,t){if(-1===["sample_date","patient_id"].indexOf(e))return Object(n.jsx)(xn,{disabled:!1,value:e,children:e},t)}(e,t)})):["na"].map((function(e,t){return Object(n.jsx)(xn,{disabled:!1,value:e,children:e},t)}))})]}),"per-category"===a&&r&&e.metadata&&t&&Object(n.jsxs)(g.a,{span:24,children:[Object(n.jsxs)("p",{children:["Select group"," ",Object(n.jsx)("span",{children:Object(n.jsx)(fe.a,{title:"Categorical group from the selected metadata column",placement:"rightTop",children:Object(n.jsx)(xe.a,{style:{color:"red"}})})})]}),Object(n.jsx)(Ot.a,{value:i,style:{width:"100%"},disabled:!("all"!==a&&r&&e.metadata&&t),onChange:function(t){e.dist_changeDataColumnLevel(t)},children:r&&t?function(e,t){if(e&&t){var a=e.map((function(e){return e[t]})).filter(Ve);return Array.isArray(a)&&a.length>0?(a.unshift("INTER-Group"),a.unshift("INTRA-Group"),a):["#na_exluded!"]}return["#na_exluded!"]}(t,r).map((function(e,t){return function(e,t){if(-1===["#na_exluded!"].indexOf(e))return Object(n.jsx)(xn,{disabled:!1,value:e,children:e},t)}(e,t)})):["na"].map((function(e,t){return Object(n.jsx)(xn,{disabled:!1,value:e,children:e},t)}))})]}),Object(n.jsx)(g.a,{span:24,children:Object(n.jsx)(je.a,{disabled:!e.hammingMatrix,onClick:function(t){o||e.dist_changeIsUserDraw(!0)},type:"primary",children:"Create Bar chart"})}),Object(n.jsx)(ca.a,{style:{margin:"10px 0px 0px 0px"}}),Object(n.jsxs)(g.a,{span:24,children:[Object(n.jsx)("h5",{children:"Download settings"}),Object(n.jsxs)("p",{children:["Type"," ",Object(n.jsx)("span",{children:Object(n.jsx)(fe.a,{title:"Type of file to be downloaded: Table of pairwise SNP distances (CSV) or Displayed bar chart (SVG)",placement:"rightTop",children:Object(n.jsx)(xe.a,{style:{color:"red"}})})})]}),Object(n.jsxs)(Ot.a,{disabled:!e.hammingMatrix,value:c,onChange:function(t){e.dist_changeExportFormat(t)},style:{width:"100%"},children:[Object(n.jsx)(xn,{disabled:!e.hammingMatrix,value:"symSnpDist",children:"Table of pairwise SNP distances (CSV)"}),Object(n.jsx)(xn,{value:"barChartSvg",children:"Bar chart (SVG)"})]})]}),Object(n.jsx)(g.a,{span:24,children:Object(n.jsx)(je.a,{disabled:!e.hammingMatrix,onClick:function(t){console.log("downlaod handlers"),l||e.dist_changeIsUserExport(!0)},type:"primary",children:"Download"})})]})]})})),vn=a(1453),Sn=a(183),_n=a(1451),wn=a(370),Tn=a(614),En=a(1449),Dn=a(1450),Cn=a(1459),Mn=a(1434),Ln=a(1465);function In(e,t,a,n,r,s,i,c){var o=n.length,l=parseFloat(La.a(n)).toFixed(0),d=parseFloat(wn.a(n)).toFixed(0),u=parseFloat(Tn.a(n,.25)).toFixed(1),p=parseFloat(Tn.a(n,.75)).toFixed(1),h=parseFloat(En.a(n)).toFixed(1),g=parseFloat(Dn.a(n)).toFixed(1),j=r,f=s-30,b=Cn.a(n,(function(e){return e.length}),(function(e){return e})),m=Array.from(b.entries()),x=Array.from(b.keys()),O=Array.from(b.values()),y=Sn.a().range([f,0]),v=_n.a().range([0,j]),S=j/(Mn.a(0,wn.a(x)).length+1),_=y;_.domain([0,wn.a(O)]);var w=v;w.domain(Mn.a(0,wn.a(x)+1));var T=Ln.b().scale(_),E=Ln.a().scale(w).tickValues(function(e){var t=e.length;return t<=10?e.filter((function(e,t){return!(t%1)})):t>10&&t<=100?e.filter((function(e,t){return!(t%5)})):t>100&&t<=1e3?e.filter((function(e,t){return!(t%25)})):t>1e3&&t<=1e4?e.filter((function(e,t){return!(t%50)})):t>1e4?e.filter((function(e,t){return!(t%100)})):void 0}(w.domain())),D={dataColumn:e,dataColumnLevel:t,type:"regular",w:r,h:s,margin:i,data_len:o,data_min:l,data_max:d,data_q1:u,data_q3:p,data_median:h,data_mean:g,margin_stats:30,cont_bar_w:j,cont_bar_h:f,barData:m,bar_bandWidth:S,bar_linear_scale_x:_,bar_band_scale_y:w,bar_axis_x:T,bar_axis_y:E};Nn(a,D),c(D)}function Nn(e,t){var a=t.dataColumn,n=t.dataColumnLevel,r=t.w,s=t.h,i=t.margin,c=t.data_len,o=t.data_min,l=t.data_max,d=t.data_q1,u=t.data_q3,p=t.data_median,h=t.data_mean,g=t.margin_stats,j=t.cont_bar_w,f=t.cont_bar_h,b=t.barData,m=t.bar_bandWidth,x=t.bar_linear_scale_x,O=t.bar_band_scale_y,y=t.bar_axis_x,v=t.bar_axis_y;e.attr("width",r+i.left+i.right).attr("height",s+i.top+i.bottom);var S=e.append("g").attr("id","snpdist_svgGroup").attr("transform","translate("+i.left+","+i.top+")scale(1)"),_=["Pairwise SNP-distances: (n=",c,"); "," Min: ",o,", Q1:",d,", Mean:",h,", Median:",p,", Q3:",u,", Max:",l].join("");S.append("g").attr("id","barchart-stats-g").append("text").attr("x",0).attr("y",g/2).text(_);var w=S.append("g").attr("id","barchart-g").attr("transform","translate(0,"+g+")scale(1)");w.append("g").attr("id","barchart-axis-y").attr("transform","translate(0,"+f+")scale(1)").call(v),w.append("g").attr("id","h-axis-label-g").attr("transform","translate("+j/2+","+f+")scale(1)").append("text").attr("id","h-axis-label").attr("text-anchor","middle").attr("x",0).attr("y",35).style("font-size","8pt").text((function(){return a&&"All samples"===a?"Pairwise SNP-distance (All samples)":"Pairwise SNP-distance ("+a+": "+n+")"})),w.append("g").attr("id","barchart-axis-x").attr("transform","translate(-5,0)scale(1) ").call(y),w.append("g").attr("id","v-axis-label-g").attr("transform","translate(-5,"+f/2+")scale(1) rotate(-90)").append("text").attr("id","v-axis-label").attr("text-anchor","middle").attr("x",0).attr("y",-35).style("font-size","8pt").text("Count"),w.append("g").attr("id","bar-group").selectAll(".barchart-bar").data(b).enter().append("rect").attr("class","barchart-bar").attr("stroke","white").attr("stroke-width","0.5px").attr("fill","gray").attr("x",(function(e){return O(e[0])})).attr("y",(function(e){return x(e[1])})).attr("width",(function(e){return m})).attr("height",(function(e){return Math.abs(x(e[1])-x(0))}))}a(20);var kn=Object(b.b)((function(e){return{snpDistSettings:e.snpDistSettings,hammingMatrix:e.hammMatrix,metadata:e.metadata}}),(function(e){return Object(m.b)({dist_changeIsUserDraw:jn,dist_changeIsUserExport:fn,dist_changeChartSession:bn,dist_changeIsUserLoadSession:mn,isShowingLoadingModalToStore:pa},e)}))((function(e){var t=Object(r.useRef)(),a=Object(r.useRef)(),s=100*Math.max(document.documentElement.clientWidth,window.innerWidth||0)/100-200-20,i=Je(100)-120-20,c={top:20,right:20,bottom:40,left:60},o=s-c.left-c.right,l=i-c.top-c.bottom,d=Object(r.useState)(!1),u=Object(It.a)(d,2),p=u[0],j=u[1],f=e.metadata?Array.from(e.metadata.values()):null,b=e.snpDistSettings.dataToDisplay,m=e.snpDistSettings.dataColumn,x=e.snpDistSettings.dataColumnLevel,O=e.snpDistSettings.snpDistExportFormat,y=e.snpDistSettings.isUserDrawChart,v=e.snpDistSettings.isUserExportSnpDist,S=e.snpDistSettings.chartSession,_=e.snpDistSettings.isUserReloadSession;S&&setTimeout((function(){w(),j(!0)}),10),Object(r.useEffect)((function(){y&&(e.isShowingLoadingModalToStore(!0),setTimeout((function(){!function(){vn.a("#snpdist_svgGroup").remove();var t=[],n=[];e.hammingMatrix.forEach((function(e,a){n.push(a),t=t.concat(e)}));var r=new ma(n,t).getSymetricEdges().edges;if("all"===b){var s=r.map((function(e){return e.value}));In("All samples",null,vn.a(a.current),s,o,l,c,e.dist_changeChartSession)}else{var i=null;if("INTRA-Group"===x||"INTER-Group"===x){var d=[null,"NA","N/A","#N/A","#NA","",!1,"false","nil","null",void 0],u=new Map;f.forEach((function(e){-1===d.indexOf(e[m])&&u.set(e.sample_id,e[m])})),i="INTRA-Group"===x?r.filter((function(e){return u.get(e.source)===u.get(e.target)})):r.filter((function(e){return u.get(e.source)!==u.get(e.target)}))}else{var p=(j=m,O=x,f.filter((function(e){return e[j]===O})).map((function(e){return e.sample_id})));i=r.filter((function(e){return-1!==p.indexOf(e.source)&&-1!==p.indexOf(e.target)}))}var h=i?i.map((function(e){return e.value})):[],g=vn.a(a.current);In(m,x,g,h,o,l,c,e.dist_changeChartSession)}var j,O}(),j(!0),e.dist_changeIsUserDraw(!1),e.isShowingLoadingModalToStore(!1)}),10))}),[y]),Object(r.useEffect)((function(){_&&setTimeout((function(){w(),j(!0),e.dist_changeIsUserLoadSession(!1)}),10)}),[_]),Object(r.useEffect)((function(){if(v)switch(O){case"symSnpDist":var t=[],a=[];e.hammingMatrix.forEach((function(e,n){a.push(n),t=t.concat(e)})),!function(e){e&&new la.ExportToCsv({fieldSeparator:",",filename:"GraphSNP_symetric_pairwise_snp_differences",quoteStrings:'"',decimalSeparator:".",showLabels:!0,showTitle:!1,useTextFile:!1,useBom:!0,useKeysAsHeaders:!0}).generateCsv(e)}(new ma(a,t).getSymetricEdges().edges),e.dist_changeIsUserExport(!1);break;case"barChartSvg":!function(e){var t=document.querySelector("#".concat(e)),a=new XMLSerializer;"summary-piechart"===e&&(t=document.querySelector("#".concat(e," svg")));var n=a.serializeToString(t);Ze("GraphSNP-".concat(e,".svg"),n)}("snpdist-chart-svg")}}),[O,v]);function w(){vn.a("#snpdist_svgGroup").remove(),Nn(vn.a(a.current),S)}return Object(n.jsxs)(h.a,{children:[Object(n.jsx)(g.a,{span:24,children:Object(n.jsx)("div",{id:"snpdist-cont-is-empty",style:{display:"block"},children:Object(n.jsx)(Lt.a,{style:{display:p?"none":"block"},description:S?"Reload previous chart":"No chart, create one ",image:Lt.a.PRESENTED_IMAGE_SIMPLE})})}),Object(n.jsx)(g.a,{ref:t,sm:24,children:Object(n.jsx)("div",{id:"snpdist-chart-container",style:{height:"100%",width:"100%"},children:Object(n.jsx)("svg",{id:"snpdist-chart-svg",ref:a})})})]})})),An=Mt.a.Sider,Un=Mt.a.Content;var Rn=Object(b.b)((function(e){return{hammingMatrix:e.hammMatrix}}),(function(e){return Object(m.b)({},e)}))((function(e){return Object(n.jsx)(s.a.Fragment,{children:Object(n.jsxs)(Mt.a,{children:[Object(n.jsx)(An,{id:"snpdist-sider",children:Object(n.jsx)(yn,{})}),Object(n.jsxs)(Mt.a,{id:"snpdist-container",children:[e.hammingMatrix&&Object(n.jsx)(Un,{children:Object(n.jsx)(kn,{})}),!e.hammingMatrix&&Object(n.jsx)(Un,{children:Object(n.jsx)(g.a,{span:24,children:Object(n.jsx)("div",{id:"snpdist-cont-is-empty",style:{display:"block"},children:Object(n.jsx)(Lt.a,{description:"No input: Load one.",image:Lt.a.PRESENTED_IMAGE_SIMPLE})})})})]})]})})})),Fn=a(154),Pn=a(1477),Gn=a(75),qn=Object(Gn.a)();var zn=Object(b.b)((function(e,t){return{navLocation:e.navSettings.navLocation}}),(function(e,t){return Object(m.b)({changeNavLocation:ue},e)}))((function(e){var t=e.navLocation?e.navLocation:function(e){if(!e)return"none";switch(e){case"/":return"home";case"/graphsnp":return"graphsnp";case"/documentation":return"documentation";case"/snpdistance":return"matrix";default:return"none"}}(qn.location.pathname);return Object(n.jsx)(s.a.Fragment,{children:Object(n.jsxs)(Fn.a,{id:"header-menu",mode:"horizontal",selectedKeys:[t],overflowedIndicator:Object(n.jsx)(Pn.a,{}),children:[Object(n.jsx)(Fn.a.Item,{style:{padding:"0 20px",margin:"0px"},onClick:function(t){e.changeNavLocation(t.key)},children:Object(n.jsx)(Qa.b,{to:"/",exact:!0,children:"Input"})},"home"),Object(n.jsx)(Fn.a.Item,{style:{padding:"0 20px",margin:"0px"},onClick:function(t){e.changeNavLocation(t.key)},children:Object(n.jsx)(Qa.b,{to:"/snpdistance",children:"Distances"})},"snpdistance"),Object(n.jsx)(Fn.a.Item,{style:{padding:"0 20px",margin:"0px"},onClick:function(t){e.changeNavLocation(t.key)},children:Object(n.jsx)(Qa.b,{to:"/graphsnp",children:"Graph"})},"graphsnp"),Object(n.jsx)(Fn.a.Item,{style:{padding:"0 20px",margin:"0px"},onClick:function(t){e.changeNavLocation(t.key)},children:Object(n.jsx)(Qa.b,{to:"/documentation",children:"Documentation"})},"documentation")]})})})),Hn=a.p+"static/media/logo.1375c904.png",Bn=(a(1430),function(e){return Object(n.jsx)(s.a.Fragment,{children:Object(n.jsxs)(h.a,{id:"main-header",children:[Object(n.jsx)(g.a,{id:"header-navigation",xs:18,children:Object(n.jsx)(zn,{})}),Object(n.jsx)(g.a,{id:"header-logo",xs:6,children:Object(n.jsx)("img",{style:{float:"right"},src:Hn,alt:"GraphSNP",height:"75px"})})]})})}),Vn=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=Object(n.jsxs)(p.d,{children:[Object(n.jsx)(p.b,{exact:!0,path:"/",component:Ct}),Object(n.jsx)(p.b,{path:"/graphsnp",component:Ja}),Object(n.jsx)(p.b,{path:"/documentation",component:ln}),Object(n.jsx)(p.b,{path:"/snpdistance",component:Rn}),Object(n.jsx)(p.a,{to:"/"})]});return Object(n.jsxs)(p.c,{history:qn,children:[Object(n.jsx)(Bn,{}),Object(n.jsx)("main",{children:e})]})}}]),a}(r.Component),Yn=function(e,t){switch(t.type){case w:return t.payload;default:return e||cr.sequence}},Wn=function(e,t){switch(t.type){case _:var a=Object.assign({},e);return t.payload&&t.payload!==e.navLocation&&(a.navLocation=t.payload),a;default:return e||cr.navSettings}},$n=function(e,t){switch(t.type){case I:var a=Object.assign({},e);return t.payload&&t.payload!==e.method&&(a.method=t.payload),a;case N:var n=Object.assign({},e);return t.payload&&t.payload!==e.layout&&(n.layout=t.payload),n;case k:var r=Object.assign({},e);return t.payload!==e.isUserReDraw&&(r.isUserReDraw=t.payload),r;case A:var s=Object.assign({},e);return t.payload&&t.payload!==e.edgeFilterCutoff&&(s.edgeFilterCutoff=t.payload),s;case U:var i=Object.assign({},e);return t.payload!==e.isUserFilteringEdge&&(i.isUserFilteringEdge=t.payload),i;case R:var c=Object.assign({},e);return t.payload&&t.payload!==e.clusterMethod&&(c.clusterMethod=t.payload),c;case F:var o=Object.assign({},e);return t.payload!==e.isUserClustering&&(o.isUserClustering=t.payload),o;case P:var l=Object.assign({},e);return t.payload!==e.isEdgeScaled&&(l.isEdgeScaled=t.payload),l;case G:var d=Object.assign({},e);return t.payload!==e.edgeScaleFactor&&(d.edgeScaleFactor=t.payload),d;case q:var u=Object.assign({},e);return t.payload!==e.isHideEdgesByCutoff&&(u.isHideEdgesByCutoff=t.payload),u;case z:var p=Object.assign({},e);return t.payload!==e.hiddenEdgesCutoff&&(p.hiddenEdgesCutoff=t.payload),p;case H:var h=Object.assign({},e);return t.payload&&t.payload!==e.colorNodedBy&&(h.colorNodedBy=t.payload),h;case B:var g=Object.assign({},e);return t.payload&&t.payload!==e.exportFormat&&(g.exportFormat=t.payload),g;case V:var j=Object.assign({},e);return t.payload!==e.isUserDownloading&&(j.isUserDownloading=t.payload),j;case Y:var f=Object.assign({},e);return t.payload&&t.payload!==e.transIncludeLocLevel&&(f.transIncludeLocLevel=t.payload),f;case W:var b=Object.assign({},e);return t.payload&&t.payload!==e.typeOfAnalysis&&(b.typeOfAnalysis=t.payload),b;case $:var m=Object.assign({},e);return t.payload!==e.chartSession&&(m.chartSession=t.payload),m;case X:var x=Object.assign({},e);return t.payload!==e.isUserReloadSession&&(x.isUserReloadSession=t.payload),x;case J:var O=Object.assign({},e);return t.payload!==e.isUserRelayout&&(O.isUserRelayout=t.payload),O;default:return e||cr.graphSettings}},Xn=function(e,t){switch(t.type){case T:return t.payload;default:return e||cr.metadata}},Jn=function(e,t){switch(t.type){case D:return t.payload;default:return e||cr.patientMovement}},Kn=function(e,t){switch(t.type){case x:return t.payload;default:return e||cr.isInputLoading}},Qn=function(e,t){switch(t.type){case y:return t.payload;default:return e||cr.graphObject}},Zn=function(e,t){switch(t.type){case v:return t.payload;default:return e||cr.graphClusters}},er=function(e,t){switch(t.type){case S:return t.payload;default:return e||cr.hammMatrix}},tr=function(e,t){switch(t.type){case E:return t.payload;default:return e||cr.categoricalMap}},ar=function(e,t){switch(t.type){case C:return t.payload;default:return e||cr.colorLUT}},nr=function(e,t){switch(t.type){case K:var a=Object.assign({},e);return t.payload&&t.payload!==e.dataToDisplay&&(a.dataToDisplay=t.payload),a;case Q:var n=Object.assign({},e);return t.payload&&t.payload!==e.dataColumn&&(n.dataColumn=t.payload),n;case Z:var r=Object.assign({},e);return t.payload&&t.payload!==e.dataColumnLevel&&(r.dataColumnLevel=t.payload),r;case ee:var s=Object.assign({},e);return t.payload!==e.chartOrientation&&(s.chartOrientation=t.payload),s;case te:var i=Object.assign({},e);return t.payload!==e.chartType&&(i.chartType=t.payload),i;case ne:var c=Object.assign({},e);return t.payload&&t.payload!==e.snpDistExportFormat&&(c.snpDistExportFormat=t.payload),c;case re:var o=Object.assign({},e);return t.payload!==e.isUserDrawChart&&(o.isUserDrawChart=t.payload),o;case ae:var l=Object.assign({},e);return t.payload!==e.isUserGenerateMatrix&&(l.isUserGenerateMatrix=t.payload),l;case se:var d=Object.assign({},e);return t.payload!==e.isUserExportSnpDist&&(d.isUserExportSnpDist=t.payload),d;case ie:var u=Object.assign({},e);return t.payload!==e.chartSession&&(u.chartSession=t.payload),u;case ce:var p=Object.assign({},e);return t.payload!==e.isUserReloadSession&&(p.isUserReloadSession=t.payload),p;default:return e||cr.snpDistSettings}},rr=function(e,t){switch(t.type){case M:return t.payload;default:return e||cr.selectDemoData}},sr=function(e,t){switch(t.type){case L:return t.payload;default:return e||cr.selectedNode}},ir=function(e,t){switch(t.type){case O:return t.payload;default:return e||cr.isShowingLoadingModal}},cr={sequence:null,metadata:null,patientMovement:null,selectDemoData:null,categoricalMap:null,isInputLoading:!1,hammMatrix:null,graphObject:null,graphClusters:null,selectedNode:null,graphSettings:{typeOfAnalysis:"clustering",method:"cathai",layout:"cose",isUserReDraw:!1,isUserFilteringEdge:!0,edgeFilterCutoff:25,clusterMethod:"Connected Components",isUserClustering:!1,isEdgeScaled:!1,edgeScaleFactor:1,isHideEdgesByCutoff:!1,hiddenEdgesCutoff:{min:0,max:25},colorNodedBy:"na",exportFormat:"clusterID",isUserDownloading:!1,transIncludeLocLevel:1,chartSession:null,isUserReloadSession:!1,isUserRelayout:!1},snpDistSettings:{dataToDisplay:"all",dataColumn:null,dataColumnLevel:null,chartType:"barplot",isUserGenerateMatrix:!1,chartOrientation:"horizontal",isUserDrawChart:!1,snpDistExportFormat:"symSnpDist",isUserExportSnpDist:!1,chartSession:null,isUserReloadSession:!1},navSettings:{navLocation:null},colorLUT:null,isShowingLoadingModal:!1},or=Object(m.c)({sequence:Yn,metadata:Xn,selectDemoData:rr,categoricalMap:tr,patientMovement:Jn,navSettings:Wn,graphSettings:$n,hammMatrix:er,graphObject:Qn,graphClusters:Zn,isInputLoading:Kn,colorLUT:ar,snpDistSettings:nr,selectedNode:sr,isShowingLoadingModal:ir},cr),lr=a(605),dr=a.n(lr),ur=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,1478)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),s(e),i(e)}))},pr=function(){return Object(m.a)(dr.a)(m.d)(or,cr,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())}();c.a.render(Object(n.jsx)(b.a,{store:pr,children:Object(n.jsx)(Vn,{})}),document.getElementById("root")),ur()},266:function(e,t,a){},375:function(e,t,a){},569:function(e,t,a){},624:function(e,t,a){},625:function(e,t,a){},716:function(e,t){},718:function(e,t){}},[[1433,1,2]]]);