(this["webpackJsonpgraph-snp"]=this["webpackJsonpgraph-snp"]||[]).push([[0],{1218:function(e,t,a){},1231:function(e,t,a){},1232:function(e,t,a){},1237:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(63),i=a.n(s),c=(a(711),a(22)),o=a(23),l=a(28),d=a(29),u=(a(712),a(72)),h=a(123),p=a(1269),g=a(1270),j=a(1264),b=a(676),f=a(36),m=a(42),x="GENERAL_RESET",O="PROJECTS_JSON",y="INPUT_LOADING",S="IS_SHOWING_LOADING_MODAL",v="GRAPH_OBJECT",D="GRAPH_CLUSTER",T="MATRIX_HAMMING",w="NAV_LOCATION",N="SEQ_DATA",E="META_DATA",C="METADATA_CATEGORICAL",I="COLOR_LUT",L="SELECT_DEMO_DATA",A="SELECTED_NODE",M="SETTING_METHOD",k="SETTING_LAYOUT",U="SETTING_IS_USER_REDRAW",G="SETTING_EDGE_FILTER_CUTOFF",P="SETTING_IS_USER_FILTER_EDGES",R="SETTING_CLUSTER_METHOD",F="SETTING_IS_USER_CLUSTERING",_="SETTING_IS_EDGE_SCALED",z="SETTING_EDGE_SCALE_FACTOR",V="SETTING_IS_HIDE_EDGES",q="SETTING_EDGE_HIDE_CUTOFF",X="SETTING_COLOR_NODE_BY",H="SETTING_EXPORT_FORMAT",B="SETTING_IS_USER_DOWNLOADING",W="SETTING_TYPE_ANALYSIS",Y="SETTING_CHART_SESSION",J="SETTING_IS_USER_LOAD_SESSION",K="SETTING_IS_USER_RELAYOUT",Q="SETTING_NODE_IS_LABEL_SHOWN",Z="SETTING_EDGE_LABEL_SIZE",$="SETTING_NODE_SIZE",ee="SETTING_IS_CLUST_NOTIF_DISPLAYED",te="SETTING_IS_TRANS_NOTIF_DISPLAYED",ae="DIST_DATA_TO_DISPLAY",ne="DIST_DATA_COLUMN",re="DIST_DATA_COLUMN_LEVEL",se="DIST_CHART_ORIENTATION",ie="DIST_CHART_TYPE",ce="DIST_IS_USER_GENERATE_MATRIX",oe="DIST_EXPORT_FORMAT",le="DIST_IS_USER_DRAW",de="DIST_IS_USER_EXPORT",ue="DIST_CHART_SESSION",he="DIST_IS_USER_LOAD_SESSION",pe="DIST_IS_MODAL_OPEN",ge="CHART_ALL_DIST",je="CHART_ALL_STATS",be="CHART_GROUP_PIE",fe="CHART_GROUP_STATS",me="CHART_GROUP_INTRA_INTER",xe="./data/templateFile/snps_alignment_input_example.fasta",Oe="./data/templateFile/metadata_input_example.csv",ye="./data/templateFile/distanceMatrix_input_example.csv",Se="./data/userManual/GraphSNP_user_manual.pdf";function ve(e){return{type:w,payload:e}}var De=a(91),Te=a.p+"static/media/compatibleBrowsers.cfec2159.png",we=a(33),Ne=a(80),Ee=a(692),Ce=a(1268),Ie=a(1263);function Le(e,t){this.distMatCSV=e,this.headers=t}Le.prototype.createMatrix=function(){var e=this,t=new Map,a=this.headers[0];return this.distMatCSV.forEach((function(n){var r="newRowStart";e.headers.forEach((function(e){if(e!==a){var s=n[a],i=e,c=n[e];if(s!==i||"newRowStart"!==r&&"lower"!==r||(r="diagonal"),s!==i&&("newRowStart"===r||"lower"===r))if(r="lower",t.get(s)){var o=t.get(s);o.push({source:s,target:i,value:c,part:r}),t.set(s,o)}else{var l=[{source:s,target:i,value:c,part:r}];t.set(s,l)}if(s!==i&&("diagonal"===r||"upper"===r))if(r="upper",t.get(s)){var d=t.get(s);d.push({source:s,target:i,value:c,part:r}),t.set(s,d)}else{var u=[{source:s,target:i,value:c,part:r}];t.set(s,u)}}}))})),t};var Ae=Le;a(716);function Me(e){this.seq=e,this.seqIDs=e.map((function(e){return e.id}))}function ke(e,t){if("number"!==typeof e||isNaN(e)||(e=e.toString()),"number"!==typeof t||isNaN(t)||(t=t.toString()),"string"!==typeof e||"string"!==typeof t||e.length!==t.length)return null;for(var a=e.length,n=0;a--;){var r=["A","T","G","C","a","t","g","c"].includes(e[a]),s=["A","T","G","C","a","t","g","c"].includes(t[a]);r&&s&&e[a]!==t[a]&&n++}return n}Me.prototype.getHammingMatrix=function(){for(var e=this.seq,t=this.seqIDs,a=new Map,n=0;n<t.length-1;n++)for(var r=e[n],s=n+1;s<e.length;s++){var i=e[s],c=ke(r.sequence,i.sequence);if(a.get(r.id)){var o=a.get(r.id);o.push({source:r.id,target:i.id,value:c,part:"upper"}),a.set(r.id,o)}else{var l=[{source:r.id,target:i.id,value:c,part:"upper"}];a.set(r.id,l)}if(a.get(i.id)){var d=a.get(i.id);d.push({source:i.id,target:r.id,value:c,part:"lower"}),a.set(i.id,d)}else{var u=[{source:i.id,target:r.id,value:c,part:"lower"}];a.set(i.id,u)}}return a};var Ue=Me,Ge=a(1247),Pe=a(479),Re=(a(695),a(1250),a(1251),a(480)),Fe=a(1278),_e=a(1258),ze=a(1248),Ve=a(1267),qe=a(1249),Xe=a(266),He=a.n(Xe),Be=a(360),We=Object(Be.extendMoment)(He.a),Ye=a(38);function Je(e,t,a){return a.indexOf(e)===t}function Ke(e,t){var a=Ye.cloneDeep(e),n=null;if(Array.isArray(a)&&a.length>0){"clusterID"===t&&(a=a.filter((function(e){return"na"!==e.clusterID})));var r=[],s=[];a.forEach((function(e){r.push(e[t]),"sample_date"===t&&s.push(e.sample_date)}));var i=r.filter(Je),c=s.length>0?Ge.a(s):null,o=Object(ze.a)(qe.a).domain(i),l=c?function(e){var t=We(e[0]),a=We(e[1]),n=t.isoWeek().toString(),r=a.isoWeek().toString(),s=t.isoWeekYear().toString(),i=a.isoWeekYear().toString(),c=parseInt(s+n),o=parseInt(i+r);return Object(_e.a)(Ve.a).domain([c,o])}(c):null,d=new Map;a.forEach((function(e){if("collectionDay"===t){var a=e[t],n=Object(Fe.a)(l(a)).formatHex();d.set(e.sample,n)}else d.set(e.sample,o(e[t]))})),n=d}return n}function Qe(e,t){var a=Ye.cloneDeep(t),n=new Map;return a.forEach((function(t){var a=t[e]&&Object(Fe.a)(t[e])?Object(Fe.a)(t[e]).formatHex():Object(Fe.a)("lightgray").formatHex();n.set(t.sample_id,a)})),n}function Ze(e,t,a){var n="lightgray";if(a[t]&&"na"!==t){var r=a[t];n=r.get(e)?r.get(e):"lightgray"}return n}function $e(e,t,a,n){if(e){var r=t+1,s=r?r*a:1;return"edge"===n||s<1?s:.5}return"edge"===n?1:.5}function et(e,t){var a=document.createElement("a");a.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),a.setAttribute("download",e),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)}var tt=a(38),at=a(717).fastaToJson,nt="An interactive distance viewer for investigating outbreaks and transmission networks using a graph approach.";Object(Ie.a)("%Y-%m-%d");function rt(e){for(var t="",a=e.split("\n"),n=0;n<a.length;n++){var r=a[n];if(r.startsWith(">"))t+=r+"\n";else t+=r.replace(/[^ATCGN]/g,"N")+"\n"}return t}function st(e,t,a,n){return it.apply(this,arguments)}function it(){return(it=Object(Ne.a)(Object(we.a)().mark((function e(t,a,n,r){var s,i,c,o,l,d,u,h,p,g;return Object(we.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.time("loadingSNP"),s=rt(t),e.next=4,at(s);case 4:if(i=e.sent,c=[],!(Array.isArray(i)&&i.length>1)){e.next=46;break}o={},l=[],d=!0,u=0;case 11:if(!(u<i.length)){e.next=43;break}if(h=i[u].messages,p=i[u].parsedSequence,g=i[u].success,-1===l.indexOf(p.size)&&l.push(p.size),g){e.next=21;break}return d=!1,alert("Parsing error:",p.name),r(!1),e.abrupt("break",43);case 21:if(!(h.length>0)){e.next=26;break}return d=!1,alert(h[0]),r(!1),e.abrupt("break",43);case 26:if(!(l.length>1)){e.next=31;break}return d=!1,alert("Size error: Alignment required sequences with same length"),r(!1),e.abrupt("break",43);case 31:if(o[p.name]){e.next=35;break}o[p.name]=!0,e.next=39;break;case 35:return d=!1,alert("Sequence error: Duplicated sequence"),r(!1),e.abrupt("break",43);case 39:d&&c.push({id:p.name,size:p.size,sequence:p.sequence.toLowerCase()});case 40:u++,e.next=11;break;case 43:d&&(Ee.b.success("The sequences have been loaded, now building distance matrix ..",1),setTimeout((function(){var e=new Ue(c).getHammingMatrix();Ee.b.success("Pair-wise SNP distance matrix has been created",1),a(c),n(e),r(!1),console.timeEnd("loadingSNP")}),100)),e.next=48;break;case 46:alert("Error: Check the SNP alignment input requirements"),r(!1);case 48:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ct(e,t,a){return ot.apply(this,arguments)}function ot(){return(ot=Object(Ne.a)(Object(we.a)().mark((function e(t,a,n){var r,s,i,c,o;return Object(we.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.time("loadingMatrix"),e.next=3,Object(Ce.a)(t).then((function(e){return e}));case 3:r=e.sent,s=r.columns,(i=s[0])?(c=[i],o=[],r.forEach((function(e){var t={};s.forEach((function(a){var n=a===i?String(e[a]):parseFloat(e[a]),r=String(a);t[r]=n})),o.push(t),c.push(e[i])})),s.length===c.length&&s.every((function(e,t){return e===c[t]}))?setTimeout((function(){var e=new Ae(o,s).createMatrix();Ee.b.success("Pairwise distance matrix has been created",1),a(e),n(!1),console.timeEnd("loadingMatrix")}),100):(alert("Invalid CSV matrix: not symetrical"),n(!1))):(alert("First column in CSV matrix cannot an empty string"),n(!1));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lt(e,t,a,n,r){return dt.apply(this,arguments)}function dt(){return(dt=Object(Ne.a)(Object(we.a)().mark((function e(t,a,n,r,s){var i,c,o,l,d,u,h,p,g,j,b,f,m;return Object(we.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.time("loadingMetadata"),e.next=3,Object(Ce.a)(t).then((function(e){return e}));case 3:if(i=e.sent,c=["sample_id"],o=Object.keys(i[0]),l=!0,c.forEach((function(e){-1===o.indexOf(e)&&(l=!1)})),l){e.next=12;break}return alert("Error: Metadata requires sample_id column"),s(!1),e.abrupt("return");case 12:if(d=tt.countBy(i,"sample_id"),!((u=Object.keys(d).map((function(e){return{name:e,count:d[e]}})).filter((function(e){return e.count>1}))).length>0)){e.next=18;break}return alert("Error: Duplicated id(s)"+"".concat(JSON.stringify(u))),s(!1),e.abrupt("return");case 18:if(!!!d[""]){e.next=23;break}return alert("Error: Empty id(s)"),s(!1),e.abrupt("return");case 23:if(-1===Object.keys(i[0]).indexOf("collection_day")){e.next=30;break}if(h=!1,i.forEach((function(e){e.sample_id=e.sample_id.replace(/\s*$/,""),e.collection_day=e.collection_day&&parseInt(e.collection_day.replace(/\s*$/,""))?parseInt(e.collection_day.replace(/\s*$/,"")):null,e.collection_day||(h=!0)})),!h){e.next=30;break}return alert("Invalid collection_day "),s(!1),e.abrupt("return");case 30:p=[],g=[],o.forEach((function(e){var t=e.split(":");t.length>1&&"color"===t[1]?g.push(t[0]):"sample_id"!==e&&"collection_day"!==e&&p.push(e)})),j={},b=new Map,f=["0",0,"null","na","#N/A","NA","","excluded","nil"],p.forEach((function(e){var t=e,a=[],n=[];i.forEach((function(e){var r={};r.sample=e.sample_id,r[t]=e[t],n.push(r),a.push(e[t])})),a.filter(Je),a.forEach((function(e){var a=n.filter((function(a){return a[t]===e})).map((function(e){return e.sample}));if(-1===f.indexOf(e)){var r=t.concat("-",e);b.set(r,a)}}));var r=null;g.indexOf(e)>-1?r=Qe(e.concat(":color"),i):r=Ke(n,t);j[t]=r})),m=new Map,i.forEach((function(e){m.set(e.sample_id,e)})),a(m),n(j),r(b),s(!1);case 43:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ut(){return(ut=Object(Ne.a)(Object(we.a)().mark((function e(t,a){var n,r,s;return Object(we.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.blob();case 5:r=e.sent,(s=new FileReader).readAsText(r),s.onloadend=function(e){var t=JSON.parse(e.target.result),n=new Map;t.projects.forEach((function(e){n.set(e.id,e)})),a(n)};case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ht(){return(ht=Object(Ne.a)(Object(we.a)().mark((function e(t,a,n,r,s){var i,c,o;return Object(we.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return i=e.sent,r(!0),e.next=6,i.blob();case 6:c=e.sent,(o=new FileReader).readAsText(c),o.onloadend=function(e){var t=e.target.result;s(t,a,n,r)};case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pt(){return(pt=Object(Ne.a)(Object(we.a)().mark((function e(t,a,n,r,s,i){var c;return Object(we.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ce.a)(t).then((function(e){return e}));case 2:c=e.sent,"sample_id",-1!==Object.keys(c[0]).indexOf("sample_id")?lt(t,a,n,r,i):ct(t,s,i);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}String(100*Math.max(document.documentElement.clientHeight,window.innerHeight||0)/100-400),String(function(e){return e*Math.max(document.documentElement.clientWidth,window.innerWidth||0)/100}(100)-50);var gt=a(3),jt=function(e){return Object(gt.jsx)("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",children:e.text})},bt=function(){return Object(gt.jsx)(r.a.Fragment,{children:Object(gt.jsxs)(p.a,{children:[Object(gt.jsxs)(g.a,{id:"home-footer-hanging",children:["Compatible desktop browsers:",Object(gt.jsx)("br",{}),Object(gt.jsx)("img",{src:Te,height:40,alt:"Compatible desktop browsers"})]}),Object(gt.jsxs)(g.a,{id:"home-footer",children:[Object(gt.jsx)(De.a,{onClick:function(){j.a.info({title:"GraphSNP v1.0",content:Object(gt.jsxs)("div",{style:{overflowX:"auto"},children:[Object(gt.jsx)("p",{children:"Budi Permana"}),Object(gt.jsx)("p",{children:"Built using:"}),Object(gt.jsxs)("ul",{children:[Object(gt.jsx)("li",{children:Object(gt.jsx)("a",{href:"https://reactjs.org/",target:"_blank",rel:"noopener noreferrer",children:"React.js"})}),Object(gt.jsx)("li",{children:Object(gt.jsx)("a",{href:"https://d3js.org/",target:"_blank",rel:"noopener noreferrer",children:"Data-Driven Documents (D3.js)"})}),Object(gt.jsx)("li",{children:Object(gt.jsx)("a",{href:"https://ant.design/",target:"_blank",rel:"noopener noreferrer",children:"Ant design charts and UI"})}),Object(gt.jsx)("li",{children:Object(gt.jsx)("a",{href:"https://js.cytoscape.org/",target:"_blank",rel:"noopener noreferrer",children:"Cytoscape"})}),Object(gt.jsx)("li",{children:"Redux, bio-parsers, graphlib-dot, hamming, kruskal-mst, lodash, moment, ve-sequence-utils."})]})]}),onOk:function(){}})},style:{fontWeight:"Bold",color:"#1E90FF",border:"None",padding:"0px"},children:"GraphSNP v1.0"}),Object(gt.jsxs)("p",{children:[Object(gt.jsx)("b",{children:nt}),Object(gt.jsx)("br",{})," Developed by",Object(gt.jsx)(jt,{text:" Budi Permana ",link:"https://nalarbp.github.io"}),"at",Object(gt.jsx)(jt,{text:" Beatson Lab ",link:"https://beatsonlab.com/"}),Object(gt.jsx)("br",{}),Object(gt.jsx)(jt,{text:"The University of Queensland",link:"https://www.uq.edu.au/"})]})]})]})})},ft=a(404),mt=a(1271),xt=a(1272),Ot=a(696),yt=a(1259),St=a(112);function vt(e){return{type:C,payload:e}}function Dt(e){return{type:ge,payload:e}}function Tt(e){return{type:je,payload:e}}function wt(e){return{type:be,payload:e}}function Nt(e){return{type:fe,payload:e}}function Et(e){return{type:me,payload:e}}function Ct(e){return{type:I,payload:e}}function It(e){return{type:T,payload:e}}function Lt(e){return{type:v,payload:e}}function At(e){return{type:D,payload:e}}function Mt(e){return{type:O,payload:e}}function kt(e){return{type:N,payload:e}}function Ut(e){return{type:E,payload:e}}function Gt(e){return{type:y,payload:e}}function Pt(e){return{type:L,payload:e}}function Rt(e){return{type:M,payload:e}}function Ft(e){return{type:k,payload:e}}function _t(e){return{type:U,payload:e}}function zt(e){return{type:G,payload:e}}function Vt(e){return{type:P,payload:e}}function qt(e){return{type:R,payload:e}}function Xt(e){return{type:F,payload:e}}function Ht(e){return{type:_,payload:e}}function Bt(e){return{type:z,payload:e}}function Wt(e){return{type:V,payload:e}}function Yt(e){return{type:q,payload:e}}function Jt(e){return{type:X,payload:e}}function Kt(e){return{type:H,payload:e}}function Qt(e){return{type:B,payload:e}}function Zt(e){return{type:"SETTING_TRANS_LOC_LEVEL",payload:e}}function $t(e){return{type:W,payload:e}}function ea(e){return{type:Y,payload:e}}function ta(e){return{type:J,payload:e}}function aa(e){return{type:A,payload:e}}function na(e){return{type:K,payload:e}}function ra(e){return{type:Q,payload:e}}function sa(e){return{type:Z,payload:e}}function ia(e){return{type:$,payload:e}}function ca(e){return console.log("action checked"),{type:ee,payload:e}}function oa(e){return{type:te,payload:e}}function la(e){return{type:ae,payload:e}}function da(e){return{type:ne,payload:e}}function ua(e){return{type:oe,payload:e}}function ha(e){return{type:le,payload:e}}function pa(e){return{type:de,payload:e}}function ga(e){return{type:pe,payload:e}}var ja=function(e,t){return t.type===C?t.payload:e||La.categoricalMap},ba=function(e,t){switch(t.type){case ge:var a=Object.assign({},e);return t.payload!==e.allDistData&&(a.allDistData=t.payload),a;case je:var n=Object.assign({},e);return t.payload!==e.allDistStats&&(n.allDistStats=t.payload),n;case be:var r=Object.assign({},e);return t.payload!==e.groupPieData&&(r.groupPieData=t.payload),r;case fe:var s=Object.assign({},e);return t.payload!==e.groupDistStats&&(s.groupDistStats=t.payload),s;case me:var i=Object.assign({},e);return t.payload!==e.groupDistIntraInter&&(i.groupDistIntraInter=t.payload),i;default:return e||La.chartsData}},fa=function(e,t){return t.type===I?t.payload:e||La.colorLUT},ma=function(e,t){return t.type===D?t.payload:e||La.graphClusters},xa=function(e,t){return t.type===v?t.payload:e||La.graphObject},Oa=function(e,t){switch(t.type){case M:var a=Object.assign({},e);return t.payload&&t.payload!==e.method&&(a.method=t.payload),a;case k:var n=Object.assign({},e);return t.payload&&t.payload!==e.layout&&(n.layout=t.payload),n;case U:var r=Object.assign({},e);return t.payload!==e.isUserReDraw&&(r.isUserReDraw=t.payload),r;case G:var s=Object.assign({},e);return t.payload&&t.payload!==e.edgeFilterCutoff&&(s.edgeFilterCutoff=t.payload),s;case P:var i=Object.assign({},e);return t.payload!==e.isUserFilteringEdge&&(i.isUserFilteringEdge=t.payload),i;case R:var c=Object.assign({},e);return t.payload&&t.payload!==e.clusterMethod&&(c.clusterMethod=t.payload),c;case F:var o=Object.assign({},e);return t.payload!==e.isUserClustering&&(o.isUserClustering=t.payload),o;case _:var l=Object.assign({},e);return t.payload!==e.isEdgeScaled&&(l.isEdgeScaled=t.payload),l;case z:var d=Object.assign({},e);return t.payload!==e.edgeScaleFactor&&(d.edgeScaleFactor=t.payload),d;case V:var u=Object.assign({},e);return t.payload!==e.isHideEdgesByCutoff&&(u.isHideEdgesByCutoff=t.payload),u;case q:var h=Object.assign({},e);return t.payload!==e.hiddenEdgesCutoff&&(h.hiddenEdgesCutoff=t.payload),h;case X:var p=Object.assign({},e);return t.payload&&t.payload!==e.colorNodedBy&&(p.colorNodedBy=t.payload),p;case H:var g=Object.assign({},e);return t.payload&&t.payload!==e.exportFormat&&(g.exportFormat=t.payload),g;case B:var j=Object.assign({},e);return t.payload!==e.isUserDownloading&&(j.isUserDownloading=t.payload),j;case W:var b=Object.assign({},e);return t.payload&&t.payload!==e.typeOfAnalysis&&(b.typeOfAnalysis=t.payload),b;case Y:var f=Object.assign({},e);return t.payload!==e.chartSession&&(f.chartSession=t.payload),f;case J:var m=Object.assign({},e);return t.payload!==e.isUserReloadSession&&(m.isUserReloadSession=t.payload),m;case K:var x=Object.assign({},e);return t.payload!==e.isUserRelayout&&(x.isUserRelayout=t.payload),x;case Q:var O=Object.assign({},e);return t.payload!==e.node_isLabelShown&&(O.node_isLabelShown=t.payload),O;case Z:var y=Object.assign({},e);return t.payload!==e.edge_labelSize&&(y.edge_labelSize=t.payload),y;case $:var S=Object.assign({},e);return t.payload!==e.node_size&&(S.node_size=t.payload),S;case ee:var v=Object.assign({},e);return t.payload!==e.isShowClusterNotification&&(v.isShowClusterNotification=t.payload),v;case te:var D=Object.assign({},e);return t.payload!==e.isShowTransNotification&&(D.isShowTransNotification=t.payload),D;default:return e||La.graphSettings}},ya=function(e,t){return t.type===T?t.payload:e||La.hammMatrix},Sa=function(e,t){return t.type===y?t.payload:e||La.isInputLoading},va=function(e,t){return t.type===S?t.payload:e||La.isShowingLoadingModal},Da=function(e,t){return t.type===E?t.payload:e||La.metadata},Ta=function(e,t){if(t.type===w){var a=Object.assign({},e);return t.payload&&t.payload!==e.navLocation&&(a.navLocation=t.payload),a}return e||La.navSettings},wa=function(e,t){return t.type===O?t.payload:e||La.projectJSON},Na=function(e,t){return t.type===L?t.payload:e||La.selectDemoData},Ea=function(e,t){return t.type===A?t.payload:e||La.selectedNode},Ca=function(e,t){return t.type===N?t.payload:e||La.sequence},Ia=function(e,t){switch(t.type){case ae:var a=Object.assign({},e);return t.payload&&t.payload!==e.dataToDisplay&&(a.dataToDisplay=t.payload),a;case ne:var n=Object.assign({},e);return t.payload!==e.dataColumn&&(n.dataColumn=t.payload),n;case re:var r=Object.assign({},e);return t.payload&&t.payload!==e.dataColumnLevel&&(r.dataColumnLevel=t.payload),r;case se:var s=Object.assign({},e);return t.payload!==e.chartOrientation&&(s.chartOrientation=t.payload),s;case ie:var i=Object.assign({},e);return t.payload!==e.chartType&&(i.chartType=t.payload),i;case oe:var c=Object.assign({},e);return t.payload&&t.payload!==e.snpDistExportFormat&&(c.snpDistExportFormat=t.payload),c;case le:var o=Object.assign({},e);return t.payload!==e.isUserDrawChart&&(o.isUserDrawChart=t.payload),o;case ce:var l=Object.assign({},e);return t.payload!==e.isUserGenerateMatrix&&(l.isUserGenerateMatrix=t.payload),l;case de:var d=Object.assign({},e);return t.payload!==e.isUserExportSnpDist&&(d.isUserExportSnpDist=t.payload),d;case ue:var u=Object.assign({},e);return t.payload!==e.chartSession&&(u.chartSession=t.payload),u;case he:var h=Object.assign({},e);return t.payload!==e.isUserReloadSession&&(h.isUserReloadSession=t.payload),h;case pe:var p=Object.assign({},e);return t.payload!==e.isModalOpen&&(p.isModalOpen=t.payload),p;default:return e||La.snpDistSettings}},La={projectJSON:null,sequence:null,metadata:null,selectDemoData:null,categoricalMap:null,isInputLoading:!1,hammMatrix:null,graphObject:null,graphClusters:null,selectedNode:[],graphSettings:{typeOfAnalysis:"clustering",method:"mscg",layout:"cose-bilkent",isUserReDraw:!1,isUserFilteringEdge:!0,edgeFilterCutoff:15,clusterMethod:"Connected Components",isUserClustering:!1,isEdgeScaled:!1,edgeScaleFactor:1,isHideEdgesByCutoff:!1,hiddenEdgesCutoff:{min:0,max:15},colorNodedBy:"na",exportFormat:"clusterID",isUserDownloading:!1,chartSession:null,isUserReloadSession:!1,isUserRelayout:!1,node_isLabelShown:!0,node_size:5,edge_labelSize:3,isShowClusterNotification:!1,isShowTransNotification:!1},snpDistSettings:{dataToDisplay:"all",dataColumn:null,dataColumnLevel:null,chartType:"barplot",isUserGenerateMatrix:!1,chartOrientation:"horizontal",isUserDrawChart:!1,snpDistExportFormat:"symSnpDist",isUserExportSnpDist:!1,chartSession:null,isUserReloadSession:!1,isModalOpen:{visible:!1,chartSettings:null,chartType:null}},chartsData:{allDistData:null,allDistStats:null,groupPieData:null,groupDistStats:null,groupDistIntraInter:null},navSettings:{navLocation:null},colorLUT:null,isShowingLoadingModal:!1},Aa=Object(m.c)({projectJSON:wa,sequence:Ca,metadata:Da,selectDemoData:Na,categoricalMap:ja,navSettings:Ta,graphSettings:Oa,hammMatrix:ya,graphObject:xa,graphClusters:ma,isInputLoading:Sa,colorLUT:fa,snpDistSettings:Ia,selectedNode:Ea,isShowingLoadingModal:va,chartsData:ba},La),Ma=function(e,t){return t.type===x?Aa(void 0,t):Aa(e,t)};function ka(){Rt(La.graphSettings.method),Ft(La.graphSettings.layout),zt(La.graphSettings.edgeFilterCutoff),Vt(La.graphSettings.isUserFilteringEdge),qt(La.graphSettings.clusterMethod),Ht(La.graphSettings.isEdgeScaled),Bt(La.graphSettings.edgeScaleFactor),Wt(La.graphSettings.isHideEdgesByCutoff),Yt(La.graphSettings.hiddenEdgesCutoff),Jt(La.graphSettings.colorNodedBy),Kt(La.graphSettings.exportFormat),$t(La.graphSettings.typeOfAnalysis),ea(La.graphSettings.chartSession),aa(La.graphSettings.isUserReloadSession),ra(La.graphSettings.node_isLabelShown),sa(La.graphSettings.edge_labelSize)}function Ua(){la(La.snpDistSettings.dataToDisplay),da(La.snpDistSettings.dataColumn),La.snpDistSettings.dataColumnLevel,ua(La.snpDistSettings.snpDistExportFormat),La.snpDistSettings.chartSession}var Ga=yt.a.Dragger;var Pa=Object(f.b)((function(e){return{metadata:e.metadata,sequence:e.sequence,hammMatrix:e.hammMatrix}}),(function(e){return Object(m.b)({sequenceToStore:kt,hmmMatrixToStore:It,graphObjectToStore:Lt,graphClusterToStore:At,metadataToStore:Ut,colorLUTtoStore:Ct,isinputLoadingToStore:Gt,categoricalMapToStore:vt,chart_changeAllDistData:Dt,chart_changeAllDistStats:Tt,chart_changeGroupPieData:wt,chart_changeGroupDistStats:Nt,chart_changeGroupDistIntraInter:Et},e)}))((function(e){var t=function(t){return"SNP"===t?e.sequence||e.hammMatrix?Object(gt.jsx)(ft.a,{style:{fontSize:"12px",color:"lightgreen"}}):Object(gt.jsx)(mt.a,{style:{fontSize:"12px"}}):"Metadata"===t?e.metadata?Object(gt.jsx)(ft.a,{style:{fontSize:"12px",color:"lightgreen"}}):Object(gt.jsx)(mt.a,{style:{fontSize:"12px"}}):void 0};return Object(gt.jsx)(r.a.Fragment,{children:Object(gt.jsx)("div",{id:"home-input-area",children:Object(gt.jsx)(Ga,{disabled:!(!e.hammMatrix||!e.metadata),accept:".csv, .fa, .fasta, .fna, .aln, .msa",showUploadList:!1,name:"inputFiles",multiple:!0,maxCount:2,action:"dummy-post",style:{backgroundColor:"transparent",minHeight:"calc(100vh - 400px)",minWidth:"calc(100vw - 50px)"},beforeUpload:function(t,a){if(t===a[0]||t===a[1]){var n=function(e){return-1!==[".fa",".fasta",".fna",".aln",".msa"].indexOf(e)?"SNP":-1!==[".csv"].indexOf(e)?"MetaOrMatrix":void 0}(t.name.match(/\.[0-9a-z]+$/i)[0]);if("SNP"===n){var r=new FileReader;r.readAsText(t),e.isinputLoadingToStore(!0),r.onloadend=function(t){st(t.target.result,e.sequenceToStore,e.hmmMatrixToStore,e.isinputLoadingToStore)}}if("MetaOrMatrix"===n){var s=new FileReader;s.readAsDataURL(t),e.isinputLoadingToStore(!0),s.onloadend=function(t){!function(e,t,a,n,r,s){pt.apply(this,arguments)}(t.target.result,e.metadataToStore,e.colorLUTtoStore,e.categoricalMapToStore,e.hmmMatrixToStore,e.isinputLoadingToStore)}}}return!1},children:Object(gt.jsxs)(p.a,{id:"home-input-dragger",justify:"space-around",align:"middle",children:[Object(gt.jsx)(g.a,{xs:24,children:Object(gt.jsx)(p.a,{align:"center",children:Object(gt.jsxs)(g.a,{xs:24,md:16,xl:12,xxl:8,children:[Object(gt.jsx)("p",{id:"home-input-dragger-text-title",children:"GraphSNP"}),Object(gt.jsx)("p",{id:"home-input-dragger-text-subtitle",children:nt}),Object(gt.jsx)("p",{id:"home-input-dragger-text",children:"[Drag and drop input files here and click either Distances or Graph to start visualising]"})]})})}),Object(gt.jsx)(g.a,{xs:24,children:Object(gt.jsxs)(p.a,{id:"home-input-dragger-buttons",align:"center",children:[Object(gt.jsxs)(g.a,{xs:24,sm:8,md:7,xl:5,xxl:3,children:[Object(gt.jsxs)(De.a,{id:"home-input-button-snps",shape:"round",size:"large",type:"ghost",children:[t("SNP"),"Alignment/matrix","  ",Object(gt.jsx)("span",{style:{marginLeft:"5px"},children:Object(gt.jsx)(St.a,{title:"The alignment file must contain a minimum of two fasta-formatted, non-gap, ATGC-exclusive nucleotide sequences of equal length (accepted file extension includes: .fa, .fasta, .fna, .mfa, .aln, .txt. A distance matrix input is a symmetric distance matrix table written in comma separated values (CSV) format (accepted file extension: .csv).",placement:"rightTop",children:Object(gt.jsx)(xt.a,{style:{fontSize:"14px",color:"white"}})})})]}),Object(gt.jsx)(De.a,{disabled:!e.hammMatrix,title:"Remove loaded alingment/matrix",type:"ghost",style:{backgroundColor:"transparent"},className:"home-input-remove-button ",shape:"circle",size:"small",onClick:function(){e.sequenceToStore(null),e.hmmMatrixToStore(null),e.graphObjectToStore(null),e.graphClusterToStore(null),e.chart_changeAllDistData(null),e.chart_changeAllDistStats(null),e.chart_changeGroupPieData(null),e.chart_changeGroupDistStats(null),e.chart_changeGroupDistIntraInter(null),ka(),Ua()},children:Object(gt.jsx)(Ot.a,{})})]}),Object(gt.jsxs)(g.a,{xs:24,sm:8,md:7,xl:5,xxl:3,children:[Object(gt.jsxs)(De.a,{id:"home-input-button-metadata",shape:"round",size:"large",type:"ghost",children:[t("Metadata")," Metadata"," ",Object(gt.jsx)("span",{style:{marginLeft:"5px"},children:Object(gt.jsx)(St.a,{title:"A metadata table written in CSV format (accepted file extension: .csv) with mandatory column sample_id, containing ids match to alignment/matrix file. An additional column listing sample\u2019s collection time (scaled in days, header: collection_day) is required for transmission analysis.",placement:"rightTop",children:Object(gt.jsx)(xt.a,{style:{fontSize:"14px",color:"white"}})})})]}),Object(gt.jsx)(De.a,{disabled:!e.metadata,title:"Remove loaded metadata",type:"ghost",style:{backgroundColor:"transparent"},className:"home-input-remove-button ",shape:"circle",size:"small",onClick:function(){e.metadataToStore(null),e.categoricalMapToStore(null),e.colorLUTtoStore(null),e.chart_changeAllDistData(null),e.chart_changeAllDistStats(null),e.chart_changeGroupPieData(null),e.chart_changeGroupDistStats(null),e.chart_changeGroupDistIntraInter(null),ka(),Ua()},children:Object(gt.jsx)(Ot.a,{})})]})]})})]})})})})})),Ra=a(289);function Fa(e){return{type:x,payload:e}}var _a=Ra.a.Option;var za=Object(f.b)((function(e){return{projectJSON:e.projectJSON,selectDemoData:e.selectDemoData,metadata:e.metadata,hammMatrix:e.hammMatrix}}),(function(e){return Object(m.b)({projectJSONToStore:Mt,selectDemoDataToStore:Pt,sequenceToStore:kt,metadataToStore:Ut,isinputLoadingToStore:Gt,hmmMatrixToStore:It,colorLUTtoStore:Ct,categoricalMapToStore:vt,resetStore:Fa},e)}))((function(e){var t=[];null===e.projectJSON&&function(e,t){ut.apply(this,arguments)}("./data/project.json",e.projectJSONToStore),e.projectJSON&&e.projectJSON.forEach((function(e,a){t.push(Object(gt.jsx)(_a,{value:a,children:e.name},a))}));var a=e.metadata&&e.hammMatrix?e.selectDemoData:null;return Object(gt.jsx)(r.a.Fragment,{children:Object(gt.jsxs)(Ra.a,{value:a,onChange:function(t){if(e.projectJSON&&t){e.resetStore();var a=e.projectJSON.get(t);a.metadata&&lt(a.metadata,e.metadataToStore,e.colorLUTtoStore,e.categoricalMapToStore,e.isinputLoadingToStore),"alignment"===a.matrixOrAlignment?a.snpDistance&&function(e,t,a,n,r){ht.apply(this,arguments)}(a.snpDistance,e.sequenceToStore,e.hmmMatrixToStore,e.isinputLoadingToStore,st):"matrix"===a.matrixOrAlignment&&a.snpDistance&&ct(a.snpDistance,e.hmmMatrixToStore,e.isinputLoadingToStore),e.selectDemoDataToStore(t)}else e.selectDemoDataToStore(null)},className:"gp-select",children:[Object(gt.jsx)(_a,{value:null,children:"Preloaded datasets"}),t]})})})),Va=(a(889),Object(gt.jsx)(h.a,{style:{fontSize:34},spin:!0}));var qa=Object(f.b)((function(e){return{isInputLoading:e.isInputLoading}}),(function(e){return Object(m.b)({changeNavLocation:ve},e)}))((function(e){return Object(gt.jsxs)(r.a.Fragment,{children:[Object(gt.jsx)(p.a,{children:Object(gt.jsx)(g.a,{id:"home-loading-info",children:Object(gt.jsx)(j.a,{visible:e.isInputLoading,closable:!1,centered:!0,width:0,footer:null,bodyStyle:{textAlign:"center",padding:"0px"},children:Object(gt.jsx)(b.a,{indicator:Va,style:{color:"white"},tip:"Preparing Data",size:"large"})})})}),Object(gt.jsx)(p.a,{id:"home-input-placeholder",children:Object(gt.jsx)(Pa,{})}),Object(gt.jsxs)(p.a,{id:"home-preloaded-data",children:[Object(gt.jsx)("p",{style:{fontSize:"10px"},children:Object(gt.jsx)("b",{children:"Select a preloaded dataset for a quick demo"})}),Object(gt.jsx)(za,{})]}),Object(gt.jsx)(p.a,{children:Object(gt.jsx)(bt,{})})]})})),Xa=a(1253),Ha=a(160),Ba=a(7),Wa=a(8),Ya=a(1273),Ja=a(247),Ka=a.n(Ja),Qa=a(677),Za=a.n(Qa),$a=a(678),en=a.n($a);function tn(e){return{type:S,payload:e}}function an(e){var t,a=e.nodes,n=function(e){var t,a,n,r,s,i={};for(t=0,a=e.length;t<a;t+=1)r=(n=e[t]).source,s=n.target,i[r]?i[r].push(s):i[r]=[s],i[s]?i[s].push(r):i[s]=[r];return i}(e.edges),r=[],s={};for(t in n)n.hasOwnProperty(t)&&!s[t]&&r.push(nn(t,n,s));var i=[];r=r.sort((function(e,t){return t.length-e.length}));var c=[];return r.forEach((function(e,t){Array.isArray(e)&&e.length>0&&e.forEach((function(e){c.push(e),i.push({sample:e,clusterID:t+1})}))})),a.forEach((function(e){-1===c.indexOf(e)&&i.push({sample:e,clusterID:"na"})})),{group:r,members:i}}function nn(e,t,a){var n,r,s,i,c=[],o=[];for(c.push(e),a[e]=!0;c.length>0;)for(e=c.shift(),o.push(e),n=0,r=(s=t[e]).length;n<r;n+=1)a[i=s[n]]||(c.push(i),a[i]=!0);return o}var rn=a(927);function sn(e,t){var a=null;if(e.clusterGroup)a=e.clusterGroup;else switch(t){case"Connected Components":a=an(e);break;case"Louvain":a=function(e){var t=e.edges,a=e.nodes,n=[];t.forEach((function(e){n.push(e.source,e.target)})),n=n.filter(Je);var r=new Map,s=[],i=rn.jLouvain().nodes(n).edges(t)(),c=[];for(var o in i){c.push(o);var l=i[o]+1;if(s.push({sample:o,clusterID:l}),r.get(l)){var d=r.get(l);d.push(o),r.set(l,d)}else r.set(l,[o])}var u=[];return r.forEach((function(e,t){u.push(e)})),a.forEach((function(e){-1===c.indexOf(e)&&s.push({sample:e,clusterID:"na"})})),{group:u,members:s}}(e)}return a}function cn(e,t){this.nodes=e,this.edges=t}cn.prototype.getSymetricEdges=function(){var e=this.edges;return e=e.filter((function(e){return"upper"===e.part})),new cn(this.nodes,e)},cn.prototype.getEdgesLowerThanCutoff=function(e){var t=this.edges;return e&&e>0&&(t=t.filter((function(t){return t.value<e}))),new cn(this.nodes,t)},cn.prototype.getEdgesGreaterThanCutoff=function(e){var t=this.edges;return e&&e>0&&(t=t.filter((function(t){return t.value>e}))),new cn(this.nodes,t)};var on=cn,ln=a(38);var dn=a(38);var un=a(38);var hn=a(928),pn=a(38);var gn=a(38),jn=(Object(Be.extendMoment)(He.a),a(931));function bn(e,t,a,n,r,s){var i={creator:null,nodes:null,edges:null};switch(t){case"mcg":var c=function(e,t){var a=un.cloneDeep(e),n=[],r=[];a.forEach((function(e,a){r.push(a);for(var s=e.sort((function(e,t){return e.value-t.value})),i=s[0].value,c=0,o=0;o<s.length;o++){if(s[o].value!==i){c=o;break}c=o}c>0&&s.splice(c),null!==t&&t>0&&(s=s.filter((function(e){return e.value<=t}))),n=n.concat(s)}));var s=new on(r,n).getSymetricEdges();return{nodes:s.nodes,edges:s.edges}}(e,a);i.creator="mcg",i.nodes=c.nodes,i.edges=c.edges;break;case"cathai":var o=function(e,t){var a=ln.cloneDeep(e),n=[],r=[];a.forEach((function(e,a){r.push(a);var s=e;null!==t&&t>0&&(s=s.filter((function(e){return e.value<=t}))),n=n.concat(s)}));var s=new on(r,n).getSymetricEdges();return{nodes:s.nodes,edges:s.edges}}(e,a);i.creator="cathai",i.nodes=o.nodes,i.edges=o.edges;break;case"mscg":if(a){var l=function(e,t){var a=pn.cloneDeep(e),n=(new Map,[]),r=[];a.forEach((function(e,a){if(n.push(a),null!==t&&t>0){var s=e.filter((function(e){return e.value<=t}));r=r.concat(s)}}));var s=new on(n,r).getSymetricEdges(),i=an({nodes:s.nodes,edges:s.edges}),c=[],o=[],l=i.members.filter((function(e){return"na"===e.clusterID}));if(i.group.length>0)for(var d=0;d<i.group.length;d++){var u="Group "+(d+1),h=i.group[d];c.push({id:u,data:{type:"compound",size:h.length,contents:h}});for(var p=function(){var e="Group "+(g+1);if(u!==e){var t=i.group[g],n=[];h.forEach((function(e){t.forEach((function(t){var r=a.get(e).filter((function(e){return e.target===t}));n.push(r[0].value)}))})),o.push({source:u,target:e,value:Object(Pe.a)(n)})}},g=d+1;g<i.group.length;g++)p();for(var j=function(){var e=l[b].sample,t=[];h.forEach((function(n){var r=a.get(n).filter((function(t){return t.target===e}));t.push(r[0].value)})),o.push({source:u,target:e,value:Object(Pe.a)(t)})},b=0;b<l.length;b++)j()}if(l.length>0)for(var f=0;f<l.length;f++){var m=l[f].sample;c.push({id:m,data:{type:"singleton",size:null,contents:null}});for(var x=function(){var e=l[O].sample;if(m!==e){var t=a.get(m).filter((function(t){return t.target===e}));o.push({source:m,target:e,value:t[0].value})}},O=f+1;O<l.length;O++)x()}var y=o.map((function(e){return{from:e.source,to:e.target,weight:e.value}}));return{nodes:c,edges:hn.kruskal(y).map((function(e){return{source:e.from,target:e.to,value:e.weight}})),clusterGroup:i}}(e,a);i.creator="mscg",i.nodes=l.nodes,i.edges=l.edges,i.clusterGroup=l.clusterGroup}else alert("Require a cut-off. Please input one.");break;case"cge":var d=function(e,t,a){var n=dn.cloneDeep(e),r=[],s=[];n.forEach((function(e,t){s.push(t);for(var a=e.sort((function(e,t){return e.value-t.value})),n=a[0].value,i=0,c=0;c<a.length;c++){if(a[c].value!==n){i=c;break}i=c}a.splice(i),r=r.concat(a)}));var i=new on(s,r).getSymetricEdges(),c=i.edges;return c.forEach((function(e){e.value=1,null!==a&&e.value<=a&&(e.value=e.value+1),t.forEach((function(t,a){-1!==t.indexOf(e.source)&&-1!==t.indexOf(e.target)&&(e.value=e.value+1)}))})),{nodes:i.nodes,edges:c}}(e,n,a);i.creator="cge",i.nodes=d.nodes,i.edges=d.edges;break;case"seqtrack":var u=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=gn.cloneDeep(e),s=!1,i=[],c=[];function o(e,r){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:t;if(r.length>1){var o=r.map((function(e){return e.day=c.get(e.id).collection_day,e})).sort((function(e,t){return e.day>t.day}));if(n&&s){console.log("with mutation");var l=e.day,d=o.map((function(e){var t=Math.abs(l-e.day),a=jn(e.snpDist,t*s,i);return e.dayDiff=t,e.probability=a,e})).sort((function(e,t){return e.probability<t.probability}))[0];return{ances:d.id,snpDist:d.snpDist}}var u=o[0];return{ances:u.id,snpDist:u.snpDist}}}function l(e,t,a){for(var n=[],r=0;r<t.length;r++){var s=t[r].id,i=a.get(s).filter((function(t){return t.target===e.id}));n.push({id:s,snpDist:i[0].value})}return n.sort((function(e,t){return e.snpDist-t.snpDist})),n.filter((function(e){return e.snpDist===n[0].snpDist}))}function d(e,t,a){var n={ances:null,snpDist:null},r=t.filter((function(t){return t.day<e.day}));if(0===r.length)return n.ances="NA",n.snpDist="NA",n;if(1===r.length){n.ances=r[0].id;var s=a.get(r[0].id).filter((function(t){return t.target===e.id}));return n.snpDist=s[0].value,n}var i=l(e,r,a);if(i.length>1){var c=o(e,i);return n.ances=c.ances,n.snpDist=c.snpDist,n}return n.ances=i[0].id,n.snpDist=i[0].snpDist,n}if(r.forEach((function(e,a){var n=a,r=t.get(a),o=r&&r.collection_day?r.collection_day:null;r&&o?i.push({id:n,day:o}):(s=!0,c.push(n))})),s&&alert("No collection day data for id(s): ",c.join(", ")),s){return{nodes:null,edges:null}}for(var u=new Map,h=0;h<i.length;h++){var p=i[h],g=d(p,i,r);u.set(p.id,g)}var j={nodes:[],edges:[]};return u.forEach((function(e,t){j.nodes.push(t),"NA"!==e.ances&&j.edges.push({source:e.ances,target:t,value:e.snpDist,dir:"forward"})})),j}(e,r,s);i.creator="seqtrack",i.nodes=u.nodes,i.edges=u.edges}return i}var fn=a(38),mn=a(1101),xn=a(1104);Ka.a.use(Za.a),Ka.a.use(mn),Ka.a.use(xn),Ka.a.use(en.a);var On=Object(f.b)((function(e){return{metadata:e.metadata,sequence:e.sequence,graphObject:e.graphObject,hammMatrix:e.hammMatrix,graphSettings:e.graphSettings,colorLUT:e.colorLUT,graphClusters:e.graphClusters,categoricalMap:e.categoricalMap,selectedNode:e.selectedNode}}),(function(e){return Object(m.b)({changeIsUserClusteringSetting:Xt,changeIsUserReDrawSetting:_t,hmmMatrixToStore:It,graphObjectToStore:Lt,graphClusterToStore:At,colorLUTtoStore:Ct,changeIsUserDownloadingSetting:Qt,changeChartSessionSetting:ea,changeIsUserLoadSessionSetting:ta,changeSelectedNode:aa,isShowingLoadingModalToStore:tn,changeIsUserRelayoutSetting:na},e)}))((function(e){var t=Object(n.useState)(!1),a=Object(Wa.a)(t,2),s=a[0],i=a[1],c=Object(n.useState)(!1),o=Object(Wa.a)(c,2),l=o[0],d=o[1],u=e.graphSettings.method,p=(e.graphSettings.typeOfAnalysis,e.graphSettings.layout),j=e.graphSettings.isUserReDraw,b=e.graphSettings.isUserFilteringEdge?e.graphSettings.edgeFilterCutoff:null,f=e.graphSettings.clusterMethod,m=e.graphSettings.isUserClustering,x=e.graphSettings.isHideEdgesByCutoff,O=e.graphSettings.hiddenEdgesCutoff,y=e.graphSettings.colorNodedBy,S=e.graphSettings.isEdgeScaled,v=e.graphSettings.edgeScaleFactor,D=e.graphSettings.isUserDownloading,T=e.graphSettings.isUserRelayout,w=e.graphSettings.node_isLabelShown,N=e.graphSettings.edge_labelSize,E=e.graphSettings.node_size,C=e.graphSettings.exportFormat,I=(e.graphSettings.isShowClusterNotification,e.graphSettings.isShowTransNotification,{name:p,animate:!1,fit:!0}),L=Object(n.useRef)(null),A=e.graphSettings.chartSession,M=e.graphSettings.isUserReloadSession,k="6px";Object(n.useEffect)((function(){j&&setTimeout((function(){!function(){console.time("draw MST");var t=e.hammMatrix?e.hammMatrix:new Ue(e.sequence).getHammingMatrix(),a=e.sequence?e.sequence[0].size:null,n=bn(t,u,b,e.categoricalMap,e.metadata,a);if(n&&n.nodes&&n.edges){var r=function(e){var t=[],a=e.creator,n=e.nodes;return e.edges.forEach((function(e){t.push({data:{source:e.source,target:e.target,weight:e.value,dir:"forward"===e.dir?"forward":"none"}})})),"mscg"===a?n.forEach((function(e){var a=e.data;a&&"compound"===a.type?(t.push({data:{id:e.id,data:a}}),a.contents.forEach((function(a){t.push({data:{id:a,parent:e.id,data:{type:"singleton",size:null,contents:null}}})}))):t.push({data:{id:e.id,data:a}})})):n.forEach((function(e){t.push({data:{id:e,data:{type:"singleton",size:null,contents:null}}})})),t}(n);if(r){if(A)A.unmount();var s=Ka()({elements:r,container:document.getElementById("graph-cont-cytoscape-canvas"),pannable:!0,selected:!0,boxSelectionEnabled:!1,style:[{selector:"node",style:{shape:"mscg"===u?"round-rectangle":"circle",width:function(e){var t=e.data("data");return t&&t.size?7*t.size:6},height:function(e){var t=e.data("data");return t&&t.size?7*t.size:6},label:"data(id)","text-wrap":"none","text-valign":function(e){var t=e.data("data");return t&&t.size?"center":"top"},"font-size":k,"border-width":1,"border-style":"solid","border-color":"black","background-color":function(t){return y&&e.colorLUT?Ze(t.data("id"),y,e.colorLUT):"lightgray"}}},{selector:":parent",shape:"round-rectangle",style:{"background-image":"none","padding-top":"5px","background-position-x":"0","background-position-y":"0","background-width":"100%","background-height":"100%","background-fit":"contain","background-opacity":"0","border-width":"1","text-valign":"top","text-halign":"center"}},{selector:"edge",style:{opacity:function(e){var t=e.data("weight");return x&&(t<O.min||t>O.max)?0:1},label:"data(weight)","font-size":String(N)+"px","text-background-color":"#F5E372",color:"red",width:function(e){return $e(S,e.data("weight"),v,"edge")},"target-arrow-color":"black","target-arrow-shape":function(e){return"forward"===e.data("dir")?"triangle":"none"},"curve-style":"bezier","arrow-scale":function(e){return $e(S,e.data("weight"),v,"arrow")}}},{selector:":selected",style:{"border-width":2,"border-color":"red","border-style":"double"}}]});if("spread"===p){var i={name:"cose",animate:!1,fit:!0,prelayout:!1};s.layout(i).run()}else s.layout(I).run();s.selectionType("single"),s.nodes().bind("tap",(function(t){var a=t.target.data("data"),n=a&&a.size?a.contents:[t.target.data("id")];s.elements("node:selected").map((function(e){return e?e.id():null}));e.changeSelectedNode(n)})),s.on("tap",(function(t){t.target===s&&e.changeSelectedNode([])})),L.current=s,e.hammMatrix&&e.hmmMatrixToStore(t),e.graphObjectToStore(n),e.changeChartSessionSetting(s),console.timeEnd("draw MST")}}}(),i(!0),e.changeIsUserReDrawSetting(!1),e.isShowingLoadingModalToStore(!1)}),100)}),[j]),Object(n.useEffect)((function(){M&&setTimeout((function(){!function(){var e=A;e.unmount(),e.mount(document.getElementById("graph-cont-cytoscape-canvas")),L.current=e}(),i(!0),e.changeIsUserLoadSessionSetting(!1),e.isShowingLoadingModalToStore(!1)}),100)}),[M]),Object(n.useEffect)((function(){if(D){var t=L.current;if("svg"===C)et("graph.svg",t.svg({scale:1,full:!0})),e.changeIsUserDownloadingSetting(!1);if("png"===C){var a=t.png(),n=document.createElement("a");n.download="graph.png",n.href=a,n.click(),e.changeIsUserDownloadingSetting(!1)}}}),[D]),Object(n.useEffect)((function(){m&&e.graphObject&&(d(!0),setTimeout((function(){var t=sn(e.graphObject,f);d(!1),Ee.b.success("Found ".concat(t.group.length," clusters in the graph"),2);var a=Ke(t.members,"clusterID"),n=fn.cloneDeep(e.colorLUT);n?n=Object(Ba.a)(Object(Ba.a)({},n),{},{clusterID:a}):n={clusterID:a};e.colorLUTtoStore(n),e.graphClusterToStore(t),e.changeIsUserClusteringSetting(!1)}),100))}),[f,m]),Object(n.useEffect)((function(){T&&L.current&&setTimeout((function(){var t=L.current,a={name:p,animate:!1,fit:!0,prelayout:!1};t.layout(a).run(),L.current=t,e.isShowingLoadingModalToStore(!1),e.changeIsUserRelayoutSetting(!1)}),100)}),[T]),Object(n.useEffect)((function(){if(e.graphObject&&L.current){var t=L.current;S?(t.style().selector("edge").style({width:function(e){return $e(S,e.data("weight"),v,"edge")},"arrow-scale":function(e){return $e(S,e.data("weight"),v,"arrow")}}).update(),L.current=t):(t.style().selector("edge").style({width:3,"arrow-scale":1}).update(),L.current=t)}}),[S,v]),Object(n.useEffect)((function(){if(e.graphObject&&L.current){var t=L.current;x?(t.style().selector("edge").style({opacity:function(e){var t=e.data("weight");return x&&(t<O.min||t>O.max)?0:1}}).update(),L.current=t):(t.style().selector("edge").style({opacity:1}).update(),L.current=t),L.current=t}}),[x,O]),Object(n.useEffect)((function(){if(y&&e.colorLUT&&L.current){var t=L.current;t.style().selector("node").style({"background-color":function(t){return Ze(t.data("id"),y,e.colorLUT)}}).update(),L.current=t}}),[y,e.colorLUT]),Object(n.useEffect)((function(){if(L.current){var e=L.current;w?e.style().selector("node").style({"font-size":k}).update():e.style().selector("node").style({"font-size":"0px"}).update(),L.current=e}}),[w]),Object(n.useEffect)((function(){if(L.current){var e=L.current;e.style().selector("edge").style({"font-size":String(N)+"px"}).update(),L.current=e}}),[N]),Object(n.useEffect)((function(){if(L.current){var e=L.current;e.style().selector("node").style({width:String(E)+"px",height:String(E)+"px"}).update(),L.current=e}}),[E]),Object(n.useEffect)((function(){if(e.selectedNode&&L.current){var t=L.current;e.selectedNode.length>=1?e.selectedNode.forEach((function(e){t.filter('node[id = "'.concat(e,'"]')).select()})):t.filter("node").unselect(),L.current=t}}),[e.selectedNode]);return Object(gt.jsxs)(r.a.Fragment,{children:[Object(gt.jsxs)(g.a,{span:24,style:{position:"relative"},children:[Object(gt.jsx)("div",{id:"graph-cont-is-empty",style:{display:s?"none":"block"},children:Object(gt.jsx)(Ha.a,{description:A?"Reload previous graph":"No graph. Create one",image:Ha.a.PRESENTED_IMAGE_SIMPLE,children:A&&Object(gt.jsx)(De.a,{onClick:function(t){M||(e.isShowingLoadingModalToStore(!0),e.changeIsUserLoadSessionSetting(!0))},type:"primary",children:Object(gt.jsx)(Ya.a,{})})})}),Object(gt.jsx)("div",{id:"graph-cont-is-processing",style:{display:l?"block":"none"},children:Object(gt.jsxs)("p",{style:{textAlign:"right"},children:[Object(gt.jsx)("span",{children:Object(gt.jsx)(h.a,{style:{fontSize:18},spin:!0})})," ","Creating graph ..."]})})]}),Object(gt.jsx)("div",{id:"graph-cont-cytoscape-canvas"})]})})),yn=a(1274),Sn=a(1266),vn=a(1257),Dn=Sn.a.Panel;var Tn=Object(f.b)((function(e){return{metadata:e.metadata,colorLUT:e.colorLUT,selectedNode:e.selectedNode,graphObject:e.graphObject}}),(function(e){return Object(m.b)({changeSelectedNode:aa},e)}))((function(e){var t=Object(n.useState)({columns:null,cells:null}),a=Object(Wa.a)(t,2),s=a[0],i=a[1];return Object(n.useEffect)((function(){if(e.metadata)if(e.selectedNode.length>=1){var t=[];if(e.selectedNode.forEach((function(a){e.metadata.get(a)&&t.push(e.metadata.get(a))})),t.length>=1){var a=[];Object.keys(t[0]).forEach((function(e,t){a.push({title:e,dataIndex:e,key:e+t.toString()})})),t.forEach((function(e,t){e.key=t}));var n=a.filter((function(e){return!e.dataIndex.includes(":color")&&!e.dataIndex.includes("key")}));i({columns:n,cells:t})}else i({columns:null,cells:null})}else i({columns:null,cells:null})}),[e.selectedNode]),Object(gt.jsx)(r.a.Fragment,{children:Object(gt.jsx)("div",{id:"metadata-box",children:e.metadata&&e.graphObject&&Object(gt.jsx)(p.a,{style:{paddingBottom:"0px"},children:Object(gt.jsx)(g.a,{span:24,children:Object(gt.jsx)(Sn.a,{accordion:!0,bordered:!1,expandIconPosition:"left",children:Object(gt.jsxs)(Dn,{style:{marginBottom:"0px",textAlign:"left",overflowY:"auto"},header:Object(gt.jsxs)("p",{style:{marginBottom:"0px"},children:[Object(gt.jsx)(yn.a,{})," Selected node metadata"]}),children:[e.selectedNode&&e.graphObject&&s.columns&&Object(gt.jsx)(vn.a,{size:"small",pagination:!1,style:{width:"100%"},dataSource:s.cells,columns:s.columns}),!e.selectedNode&&Object(gt.jsx)("p",{children:"No selected node"})]},"1")})})})})})})),wn=a(694),Nn=a(245);var En=Object(f.b)((function(e){return{graphObject:e.graphObject,typeOfAnalysis:e.graphSettings.typeOfAnalysis,isShowClustNotif:e.graphSettings.isShowClusterNotification,isShowTransNotif:e.graphSettings.isShowTransNotification}}),(function(e){return Object(m.b)({changeIsShowClustNotif:ca,changeIsShowTransNotif:oa},e)}))((function(e){return Object(gt.jsx)(r.a.Fragment,{children:Object(gt.jsxs)(p.a,{children:[null!=e.graphObject&&"clustering"===e.typeOfAnalysis&&!e.isShowClustNotif&&Object(gt.jsxs)(g.a,{xs:24,children:[wn.a.destroy(),wn.a.info({message:"Cluster Graph",className:"graphOutNotification",duration:30,placement:"bottom",maxCount:1,description:Object(gt.jsxs)("div",{id:"result-notification-container",children:[Object(gt.jsx)("p",{children:'We advise caution when using fixed SNP thresholds to define clusters, particularly during "long-term" outbreaks or when there is significant community carriage. SNP thresholds are generally post hoc, arbitrary and can be confounded by intra-host diversity and other factors that can influence mutation rates (e.g. exposure to antibiotics). Please note that the SNP threshold can be modified by adjusting the "Cutoff number" input.'}),Object(gt.jsxs)(Nn.a,{style:{fontSize:"14px",color:"rgb(0, 113, 219)"},onChange:function(t){var a=t.target.checked;e.changeIsShowClustNotif(a),setTimeout((function(){return wn.a.destroy()}),900)},children:["Understood. Do not show this message again."," "]})]})})]}),null!=e.graphObject&&"transmission"===e.typeOfAnalysis&&!e.isShowTransNotif&&Object(gt.jsxs)(g.a,{xs:24,children:[wn.a.destroy(),wn.a.info({message:"Transmission Tree",className:"graphOutNotification",duration:30,placement:"bottom",maxCount:1,description:Object(gt.jsxs)("div",{id:"result-notification-container",children:[Object(gt.jsxs)("p",{children:["Please note that the"," ",Object(gt.jsx)("a",{href:"https://pubmed.ncbi.nlm.nih.gov/20551981/",target:"_blank",rel:"noreferrer",children:"SeqTrack"})," ","algorithm attempts to infer ancestry based on genetic distance, regardless of SNP thresholds, and isolate collection dates. Consequently, all possible transmission links converge on the earliest collected sample, which can obscure disparate transmission clusters and falsely infer transmission dynamics. To mask unlikely transmissions filtering has been applied using a predefined range (default: 0-15 SNPs). Masking thresholds can be adjusted using the 'Show Partial Edge' function."]}),Object(gt.jsxs)(Nn.a,{style:{fontSize:"14px",color:"rgb(0, 113, 219)"},onChange:function(t){var a=t.target.checked;e.changeIsShowTransNotif(a),setTimeout((function(){return wn.a.destroy()}),900)},children:["Understood. Do not show this message again."," "]})]})})]})]})})})),Cn=a(1262),In=a(1252),Ln=a(1261),An=a(485),Mn=a(602).Graph,kn=a(1213);var Un=Ra.a.Option,Gn=Object(gt.jsx)(h.a,{style:{fontSize:34},spin:!0});var Pn=Object(f.b)((function(e){return{metadata:e.metadata,sequence:e.sequence,hammMatrix:e.hammMatrix,graphSettings:e.graphSettings,graphObject:e.graphObject,graphClusters:e.graphClusters,colorLUT:e.colorLUT,isShowingLoadingModal:e.isShowingLoadingModal,selectedNode:e.selectedNode,selectDemoData:e.selectDemoData,projectJSON:e.projectJSON}}),(function(e){return Object(m.b)({changeMethodSetting:Rt,changeLayoutSetting:Ft,changeIsUserReDrawSetting:_t,changeEdgeFilterCutoffSetting:zt,changeClusterMethodSetting:qt,changeIsUserClusteringSetting:Xt,changeIsEdgeScaledSetting:Ht,changeEdgeScaleFactorSetting:Bt,changeColorNodeSetting:Jt,changeExportFormatSetting:Kt,changeIsUserDownloadingSetting:Qt,changeIsHideEdgesByCutoff:Wt,changeEdgesHideCutoff:Yt,changeTransIcludeLocLevel:Zt,changeTypeOfAnalysisSetting:$t,changeIsUserFilterEdgesSetting:Vt,changeIsUserRelayoutSetting:na,changeEdgeLabelSizeSetting:sa,changeNodeIsLabelShown:ra,changeNodeSizeSetting:ia,isShowingLoadingModalToStore:tn,changeSelectedNode:aa,isinputLoadingToStore:Gt,graphObjectToStore:Lt},e)}))((function(e){var t=e.graphSettings.method,a=e.graphSettings.layout,n=e.graphSettings.isUserReDraw,s=e.graphSettings.isUserFilteringEdge,i=e.graphSettings.edgeFilterCutoff,c=e.graphSettings.clusterMethod,o=e.graphSettings.isUserClustering,l=e.graphSettings.isEdgeScaled,d=e.graphSettings.edgeScaleFactor,u=e.graphSettings.isHideEdgesByCutoff,h=e.graphSettings.hiddenEdgesCutoff,f=e.graphSettings.colorNodedBy,m=e.graphSettings.exportFormat,x=e.graphSettings.typeOfAnalysis,O=e.graphSettings.isUserRelayout,y=e.graphSettings.node_isLabelShown,S=[];e.hammMatrix&&e.hammMatrix.forEach((function(e,t){S.push(Object(gt.jsx)(Un,{children:t},t))}));var v=function(t){"mscg"===t?e.changeLayoutSetting("cose-bilkent"):e.changeLayoutSetting("cose"),e.changeMethodSetting(t)},D=function(e,t){return Object(gt.jsx)(Un,{disabled:!1,value:e,children:e},t)};return Object(gt.jsx)(r.a.Fragment,{children:Object(gt.jsxs)(p.a,{gutter:[8,8],children:[Object(gt.jsx)(g.a,{xs:24,id:"modal-content",children:Object(gt.jsx)(j.a,{visible:e.isShowingLoadingModal,closable:!1,centered:!0,width:0,footer:null,bodyStyle:{textAlign:"center",padding:"0px"},children:Object(gt.jsx)(b.a,{indicator:Gn,style:{color:"white"},tip:"Preparing Graph",size:"large"})})}),Object(gt.jsxs)(g.a,{span:24,children:[Object(gt.jsxs)("h5",{children:["Select preloaded dataset"," ",Object(gt.jsx)("span",{children:Object(gt.jsx)(St.a,{title:"Select and visualise a preloaded dataset in the app.",placement:"rightTop",children:Object(gt.jsx)(xt.a,{style:{color:"red"}})})})]}),Object(gt.jsx)(za,{})]}),Object(gt.jsxs)(g.a,{span:24,children:[Object(gt.jsx)("h5",{children:"Graph settings"}),Object(gt.jsxs)("p",{children:["Type of analysis"," ",Object(gt.jsx)("span",{children:Object(gt.jsx)(St.a,{title:"Analysis to be performed. Clustering: construct an undirected graph and detect putative cluster(s). Transmission: construct a directed graph to show the putative transmission flow",placement:"rightTop",children:Object(gt.jsx)(xt.a,{style:{color:"red"}})})})]}),Object(gt.jsxs)(Ra.a,{disabled:!e.hammMatrix,value:x,style:{width:"100%"},onChange:function(t){e.graphObjectToStore(null),"clustering"===t?(e.changeMethodSetting("cathai"),e.changeIsHideEdgesByCutoff(!1)):(e.changeMethodSetting("seqtrack"),e.changeIsHideEdgesByCutoff(!0),e.changeEdgeLabelSizeSetting(8)),e.changeTypeOfAnalysisSetting(t)},children:[Object(gt.jsxs)(Un,{disabled:!e.hammMatrix,value:"clustering",children:[" ","Clustering"," "]}),Object(gt.jsx)(Un,{disabled:!e.hammMatrix||!e.metadata,value:"transmission",children:"Transmission"})]})]}),"clustering"===x&&Object(gt.jsxs)(g.a,{span:24,children:[Object(gt.jsxs)("p",{children:["Method"," ",Object(gt.jsx)("span",{children:Object(gt.jsx)(St.a,{title:"Method to construct clustering graph.  CATHAI: given a SNP threshold, remove edges and bridges to produce the connected components (Cuddihy et al. 2022).  Threshold-based MST: given a SNP threshold, detect connected components and build a minimum spanning tree (MST)",placement:"rightTop",children:Object(gt.jsx)(xt.a,{style:{color:"red"}})})})]}),Object(gt.jsxs)(Ra.a,{disabled:!e.hammMatrix||!x,value:t,style:{width:"100%"},onChange:v,children:[Object(gt.jsx)(Un,{value:"cathai",children:"CATHAI"}),Object(gt.jsx)(Un,{value:"mscg",disabled:!s,children:"Threshold-based MST"})]})]}),"transmission"===x&&Object(gt.jsxs)(g.a,{span:24,children:[Object(gt.jsxs)("p",{children:["Method"," ",Object(gt.jsx)("span",{children:Object(gt.jsx)(St.a,{title:"Method to construct transmission graph.  SeqTrack: construct a parsimonous transmission tree based on SNP distances and sampling dates (Jombart et al. 2014)",placement:"rightTop",children:Object(gt.jsx)(xt.a,{style:{color:"red"}})})})]}),Object(gt.jsx)(Ra.a,{disabled:!x,value:t,style:{width:"100%"},onChange:v,children:Object(gt.jsx)(Un,{disabled:!e.hammMatrix||!e.metadata,value:"seqtrack",children:"SeqTrack"})})]}),Object(gt.jsxs)(g.a,{span:16,children:[Object(gt.jsxs)("p",{children:["Layout"," ",Object(gt.jsx)("span",{children:Object(gt.jsx)(St.a,{title:"Layout to display the graph.",placement:"rightTop",children:Object(gt.jsx)(xt.a,{style:{color:"red"}})})})]}),Object(gt.jsxs)(Ra.a,{disabled:!e.hammMatrix,value:a,style:{width:"100%"},onChange:function(a){"mscg"===t&&e.changeLayoutSetting("cose-bilkent"),e.changeLayoutSetting(a)},children:[Object(gt.jsx)(Un,{value:"cose",children:" CoSE"}),Object(gt.jsx)(Un,{value:"spread",children:"Spread"}),Object(gt.jsx)(Un,{value:"fcose",children:"fCoSE"}),Object(gt.jsx)(Un,{value:"cose-bilkent",children:"CoSE Bilkent (Compound)"})]})]}),Object(gt.jsxs)(g.a,{span:8,children:[Object(gt.jsxs)("p",{children:["Refresh"," ",Object(gt.jsx)("span",{children:Object(gt.jsx)(St.a,{title:"Apply selected layout to current graph.",placement:"rightTop",children:Object(gt.jsx)(xt.a,{style:{color:"red"}})})})]}),Object(gt.jsx)(De.a,{disabled:!e.graphObject,onClick:function(){O||(e.isShowingLoadingModalToStore(!0),e.changeIsUserRelayoutSetting(!0))},type:"primary",children:Object(gt.jsx)(Ya.a,{})})]}),Object(gt.jsx)(g.a,{span:24,children:Object(gt.jsxs)(Nn.a,{style:{fontSize:"10px"},onChange:function(t){var a=t.target.checked;e.changeIsUserFilterEdgesSetting(a)},checked:s,disabled:!e.hammMatrix||"clustering"!==x,children:["Apply SNPs cutoff"," ",Object(gt.jsx)("span",{children:Object(gt.jsx)(St.a,{title:"Apply a threshold number to limit the maximum pairwise SNP distance to be displayed.",placement:"rightTop",children:Object(gt.jsx)(xt.a,{style:{color:"red"}})})})]})}),Object(gt.jsxs)(g.a,{span:24,children:[Object(gt.jsxs)("p",{children:["Cutoff number"," ",Object(gt.jsx)("span",{children:Object(gt.jsx)(St.a,{title:"Maximum pairwise SNPs distance to be included in graph  (e.g. 25 SNPs cutoff will include edges with 0 to 25 SNPs).",placement:"rightTop",children:Object(gt.jsx)(xt.a,{style:{color:"red"}})})})]}),Object(gt.jsx)(Cn.a,{min:0,disabled:!s||!e.hammMatrix||"clustering"!==x,step:1,value:i,onChange:function(t){t>0&&e.changeEdgeFilterCutoffSetting(t)},style:{marginBottom:"5px"}})]}),Object(gt.jsx)(g.a,{span:24,children:Object(gt.jsx)(De.a,{disabled:!e.hammMatrix,onClick:function(){n||(e.isShowingLoadingModalToStore(!0),e.changeIsUserReDrawSetting(!0))},type:"primary",children:"Create Graph"})}),"clustering"===x&&e.graphObject&&Object(gt.jsx)(In.a,{style:{margin:"10px 0px 0px 0px"}}),"clustering"===x&&e.graphObject&&Object(gt.jsxs)(g.a,{span:24,children:[Object(gt.jsx)("h5",{children:"Clustering settings"}),Object(gt.jsxs)("p",{children:["Method"," ",Object(gt.jsx)("span",{children:Object(gt.jsx)(St.a,{title:"Method to detect and report cluster(s) membership of the constructed graph. Connected components: using Breadth-first search algorithm (Zhou and Hansen,2006) to all connected nodes",placement:"rightTop",children:Object(gt.jsx)(xt.a,{style:{color:"red"}})})})]}),Object(gt.jsx)(Ra.a,{disabled:!e.graphObject,value:c,style:{width:"100%"},onChange:function(t){e.changeClusterMethodSetting(t)},children:Object(gt.jsx)(Un,{value:"Connected Components",children:"Connected Components"})})]}),"clustering"===x&&e.graphObject&&Object(gt.jsx)(g.a,{span:24,children:Object(gt.jsx)(De.a,{type:"primary",disabled:!e.graphObject,onClick:function(){o||e.changeIsUserClusteringSetting(!0)},children:"Detect Clusters"})}),Object(gt.jsx)(In.a,{style:{margin:"10px 0px 0px 0px"}}),Object(gt.jsx)("h5",{children:"Node settings"}),Object(gt.jsxs)(g.a,{span:24,children:[Object(gt.jsxs)("p",{children:["Node size"," ",Object(gt.jsx)("span",{children:Object(gt.jsx)(St.a,{title:"Change node size",placement:"rightTop",children:Object(gt.jsx)(xt.a,{style:{color:"red"}})})})]}),Object(gt.jsx)(Ln.a,{value:e.graphSettings.node_size,min:0,max:100,onChange:function(t){e.changeNodeSizeSetting(t)},disabled:!e.graphObject})]}),Object(gt.jsxs)(g.a,{span:24,children:[Object(gt.jsxs)("p",{children:["Node color"," ",Object(gt.jsx)("span",{children:Object(gt.jsx)(St.a,{title:"Color nodes by the selected column in metadata or by the clustering result. User can also specify the color manually (e.g. To specify color on column 'patient_group', add new column named 'patient_group:color' in metadata).",placement:"rightTop",children:Object(gt.jsx)(xt.a,{style:{color:"red"}})})})]}),Object(gt.jsxs)(Ra.a,{disabled:!e.graphObject,value:f,style:{width:"100%"},onChange:function(t){e.changeColorNodeSetting(t)},children:[" ",e.colorLUT&&Object.keys(e.colorLUT)?Object.keys(e.colorLUT).map((function(e,t){return D(e,t)})):["na"].map((function(e,t){return D(e,t)}))]})]}),Object(gt.jsxs)(g.a,{span:24,children:[Object(gt.jsxs)("p",{children:["Select node(s)"," ",Object(gt.jsx)("span",{children:Object(gt.jsx)(St.a,{title:"Select one or more node IDs to highlight the node(s) on the graph",placement:"rightTop",children:Object(gt.jsx)(xt.a,{style:{color:"red"}})})})]}),Object(gt.jsx)(Ra.a,{mode:"multiple",allowClear:!0,style:{width:"100%"},placeholder:"Select ID(s)",onChange:function(t){e.changeSelectedNode(t)},value:e.selectedNode,children:S})]}),Object(gt.jsx)(g.a,{span:24,children:Object(gt.jsxs)(Nn.a,{style:{fontSize:"10px"},onChange:function(t){var a=t.target.checked;e.changeNodeIsLabelShown(a)},checked:y,disabled:!e.graphObject,children:["Show node label"," ",Object(gt.jsx)("span",{children:Object(gt.jsx)(St.a,{title:"Show or hide node's label.",placement:"rightTop",children:Object(gt.jsx)(xt.a,{style:{color:"red"}})})})]})}),Object(gt.jsx)("h5",{children:"Edge settings"}),Object(gt.jsxs)(g.a,{span:24,children:[Object(gt.jsxs)("p",{children:["Edge label size"," ",Object(gt.jsx)("span",{children:Object(gt.jsx)(St.a,{title:"Change edge label size",placement:"rightTop",children:Object(gt.jsx)(xt.a,{style:{color:"red"}})})})]}),Object(gt.jsx)(Ln.a,{value:e.graphSettings.edge_labelSize,min:0,max:100,onChange:function(t){e.changeEdgeLabelSizeSetting(t)},disabled:!e.graphObject})]}),Object(gt.jsx)(g.a,{span:24,children:Object(gt.jsxs)(Nn.a,{style:{fontSize:"10px"},onChange:function(t){var a=t.target.checked;e.changeIsEdgeScaledSetting(a)},checked:l,disabled:!e.graphObject,children:["Scale edge to weight"," ",Object(gt.jsx)("span",{children:Object(gt.jsx)(St.a,{title:"Change the thickness of the edge accordin to its weight. (e.g. the higher the transmission score the thicker the line).",placement:"rightTop",children:Object(gt.jsx)(xt.a,{style:{color:"red"}})})})]})}),Object(gt.jsxs)(g.a,{span:24,children:[Object(gt.jsxs)("p",{children:["Scaling factor"," ",Object(gt.jsx)("span",{children:Object(gt.jsx)(St.a,{title:"Multiply the thickness of the edge with the scaling factor (positive number greater than zero)",placement:"rightTop",children:Object(gt.jsx)(xt.a,{style:{color:"red"}})})})]}),Object(gt.jsx)(Cn.a,{min:1e-5,disabled:!l||!e.graphObject,step:.1,value:d,onChange:function(t){t>0&&e.changeEdgeScaleFactorSetting(t)}})]}),Object(gt.jsx)(g.a,{span:24,children:Object(gt.jsxs)(Nn.a,{style:{fontSize:"10px"},onChange:function(t){var a=t.target.checked;e.changeIsHideEdgesByCutoff(a)},checked:u,disabled:!e.graphObject,children:["Show partial edges"," ",Object(gt.jsx)("span",{children:Object(gt.jsx)(St.a,{title:"Only show edges which have weight within the specified range (min to max) (Note: It doesn't remove the edges but only hide it to the background)",placement:"rightTop",children:Object(gt.jsx)(xt.a,{style:{color:"red"}})})})]})}),Object(gt.jsxs)(g.a,{span:11,children:[Object(gt.jsx)("p",{children:"Minimum"}),Object(gt.jsx)(Cn.a,{min:0,disabled:!u||!e.graphObject,step:.1,value:h.min,onChange:function(t){if(t>=0){var a={min:t,max:h.max};e.changeEdgesHideCutoff(a)}}})]}),Object(gt.jsxs)(g.a,{span:11,children:[Object(gt.jsx)("p",{children:"Maximum"}),Object(gt.jsx)(Cn.a,{min:0,disabled:!u||!e.graphObject,step:.1,value:h.max,onChange:function(t){if(t>0){var a={min:h.min,max:t};e.changeEdgesHideCutoff(a)}}})]}),Object(gt.jsxs)(g.a,{span:24,children:[Object(gt.jsx)("h5",{children:"Download settings"}),Object(gt.jsxs)("p",{children:["Type"," ",Object(gt.jsx)("span",{children:Object(gt.jsx)(St.a,{title:"Type of file to be downloaded:  Graph image (SVG). Graph object file in DOT format. Cluster(s) membership table(CSV).",placement:"rightTop",children:Object(gt.jsx)(xt.a,{style:{color:"red"}})})})]}),Object(gt.jsxs)(Ra.a,{value:m,style:{width:"100%"},onChange:function(t){e.changeExportFormatSetting(t)},disabled:!e.graphObject&&!e.graphClusters,children:[Object(gt.jsx)(Un,{disabled:!e.graphObject,value:"svg",children:"Graph image (SVG)"}),Object(gt.jsx)(Un,{disabled:!e.graphObject,value:"png",children:"Graph image (PNG)"}),Object(gt.jsx)(Un,{disabled:!e.graphObject,value:"dot",children:"Graph file (DOT)"}),Object(gt.jsx)(Un,{disabled:!e.graphClusters,value:"clusterID",children:"Clustering result (CSV)"})]})]}),Object(gt.jsx)(g.a,{span:24,children:Object(gt.jsx)(De.a,{disabled:!e.graphClusters&&!e.graphObject,onClick:function(){switch(m){case"clusterID":e.graphClusters?(t=e.graphClusters.members)&&new An.ExportToCsv({fieldSeparator:",",filename:"GraphSNP_clusterID",quoteStrings:'"',decimalSeparator:".",showLabels:!0,showTitle:!1,useTextFile:!1,useBom:!0,useKeysAsHeaders:!0}).generateCsv(t):alert("No file: Need to initiate detect cluster first ");break;case"svg":case"png":e.changeIsUserDownloadingSetting(!0);break;case"dot":!function(e){var t=-1!==["hierSnpsMetaStayOverlap"].indexOf(e.creator),a=e.nodes,n=e.edges,r=new Mn({multigraph:!0});Array.isArray(a)&&a.length>0&&a.forEach((function(e){r.setNode(e)})),Array.isArray(n)&&n.length>0&&n.forEach((function(e){var a=e.source,n=e.target,s=0===e.value||e.value?e.value:"null",i=t?"forward":"none";r.setEdge(a,n,{weight:s,dir:i})})),et("Graph_in_DOT.gv",kn.write(r))}(e.graphObject)}var t},type:"primary",children:"Download"})})]})})})),Rn=(a(1218),Xa.a.Sider),Fn=Xa.a.Content;var _n=Object(f.b)((function(e){return{hammingMatrix:e.hammMatrix}}),(function(e){return Object(m.b)({},e)}))((function(e){return Object(gt.jsx)(r.a.Fragment,{children:Object(gt.jsxs)(Xa.a,{children:[Object(gt.jsxs)(Rn,{id:"graphsnp-sider",collapsible:!1,children:[Object(gt.jsx)(Pn,{}),Object(gt.jsx)(En,{})]}),Object(gt.jsxs)(Xa.a,{id:"graphsnp-container",children:[e.hammingMatrix&&Object(gt.jsxs)(Fn,{children:[Object(gt.jsx)(Tn,{}),Object(gt.jsx)(On,{})]}),!e.hammingMatrix&&Object(gt.jsx)(Fn,{children:Object(gt.jsx)(g.a,{span:24,children:Object(gt.jsx)("div",{id:"graph-cont-is-empty",style:{display:"block"},children:Object(gt.jsx)(Ha.a,{description:"No input: Load one.",image:Ha.a.PRESENTED_IMAGE_SIMPLE})})})})]})]})})})),zn=a(1260),Vn=a(148),qn=(a(329),zn.a.Title),Xn=zn.a.Text,Hn=function(e){return Object(gt.jsx)(r.a.Fragment,{children:Object(gt.jsxs)("div",{className:"graphsnp-docs-content",children:[Object(gt.jsxs)(qn,{level:2,underline:!0,children:[" ","GraphSNP: What is it?"," "]}),Object(gt.jsx)(Xn,{children:"GraphSNP is an interactive visualisation tool running in a web browser that allows users to rapidly generate pairwise SNP distance networks, investigate SNP distance distributions, identify clusters of related organisms, and reconstruct transmission routes."}),Object(gt.jsx)(qn,{level:3,children:"When to use "}),Object(gt.jsx)(Xn,{children:"You can use GraphSNP for:"}),Object(gt.jsxs)("ul",{children:[Object(gt.jsxs)("li",{children:["Rapid SNP distance or (other type of distances) network visualisation:"," ",Object(gt.jsx)("b",{children:"No instalation required, drag and drop input files, interactive and easy to use."})]}),Object(gt.jsxs)("li",{children:[" ",Object(gt.jsx)("b",{children:"Visualise and investigate distance distribution "})," ","interactively."]}),Object(gt.jsxs)("li",{children:[" ",Object(gt.jsx)("b",{children:"Create network "}),"of pairwise SNP distances and"," ",Object(gt.jsx)("b",{children:"apply SNPs cutoff "}),"for cluster analysis."]}),Object(gt.jsxs)("li",{children:[Object(gt.jsx)("b",{children:"Detect and report cluster's membership"})," based on community detection algorithms."]}),Object(gt.jsxs)("li",{children:[" ",Object(gt.jsx)("b",{children:"Create transmission tree "})," based on SNPs and collection day."," "]})]}),Object(gt.jsx)(qn,{level:3,children:"How to use "}),Object(gt.jsxs)(Xn,{children:["Drag and drop a multi-fasta SNPs alignment or a distance matrix and a metadata file into",Object(gt.jsxs)(Vn.a,{to:"/",onClick:function(){e.changeNavLocation("home")},children:[" ","Input"]})," ","page. Then visualise it at"," ",Object(gt.jsxs)(Vn.a,{to:"/snpdistance",onClick:function(){e.changeNavLocation("snpdistance")},children:[" ","Distances"]})," ","and"," ",Object(gt.jsxs)(Vn.a,{to:"/graphsnp",onClick:function(){e.changeNavLocation("graphsnp")},children:[" ","GraphSNP"]})," ","page."]}),Object(gt.jsx)(qn,{level:3,children:"User Manual "}),Object(gt.jsxs)(Xn,{children:["For more detailed information about GrapSNP, please download GraphSNP user manual below.",Object(gt.jsx)("br",{}),Object(gt.jsx)("br",{})]}),Object(gt.jsx)(De.a,{type:"danger",href:Se,children:"Download GraphSNP User Manual"}),Object(gt.jsx)(In.a,{})]})})},Bn=zn.a.Title,Wn=(zn.a.Paragraph,zn.a.Text),Yn=function(){return Object(gt.jsxs)(r.a.Fragment,{children:[Object(gt.jsxs)("div",{className:"graphsnp-docs-content",children:[Object(gt.jsxs)(Bn,{level:2,underline:!0,children:[" ","Input file(s)"," "]}),Object(gt.jsx)(Bn,{level:3,children:"A multi-fasta SNP alignment"}),Object(gt.jsx)(Wn,{children:"The alignment file must contain a minimum of two fasta-formatted nucleotide sequences of equal length."}),Object(gt.jsx)("br",{}),Object(gt.jsx)("br",{}),Object(gt.jsx)(De.a,{type:"primary",href:xe,children:"Download alignment example file"}),Object(gt.jsx)("br",{}),Object(gt.jsx)("br",{}),Object(gt.jsx)(Bn,{level:3,children:"A distance matrix"}),Object(gt.jsx)(Wn,{children:"Alternative to the alignment, a symmetric pairwise distance matrix can be used if users precompute the distance using 3rd party tools. The symmetric distance matrix should be written in CSV format."}),Object(gt.jsx)("br",{}),Object(gt.jsx)("br",{}),Object(gt.jsx)(De.a,{type:"primary",href:ye,children:"Download distance matrix example file"}),Object(gt.jsx)("br",{}),Object(gt.jsx)("br",{}),Object(gt.jsx)(Bn,{level:3,children:"Metadata table"}),Object(gt.jsx)(Wn,{children:"Metadata table must contain at least one non-empty column of sample_id. Sample identifier must be identical on both metadata and SNP alignment or matrix file. An additional column listing sample\u2019s collection time (scaled in days, header: collection_day) is required for transmission analysis"}),Object(gt.jsx)("br",{}),Object(gt.jsx)("br",{}),Object(gt.jsx)(De.a,{type:"primary",href:Oe,children:"Download metadata example file"}),Object(gt.jsx)("br",{})]}),Object(gt.jsx)(In.a,{})]})},Jn=zn.a.Title,Kn=zn.a.Text,Qn=function(e){return Object(gt.jsx)(r.a.Fragment,{children:Object(gt.jsxs)("div",{className:"graphsnp-docs-content",children:[Object(gt.jsxs)(Jn,{level:2,underline:!0,children:["Browser compatibility"," "]}),"GraphSNP was boostrapped using Create React App (CRA) tool and works on majority of modern browsers. GraphSNP was tested and compatible on the following browsers:",Object(gt.jsxs)("ul",{children:[Object(gt.jsx)("li",{children:" Microsoft Edge "}),Object(gt.jsx)("li",{children:" Chrome"}),Object(gt.jsx)("li",{children:" Firefox"}),Object(gt.jsx)("li",{children:" Opera"})]}),Object(gt.jsx)(Jn,{level:3,children:"Core libraries"}),Object(gt.jsxs)(Kn,{children:["Thanks to all the frameworks and libraries run on the background, GraphSNP is now up and running and available worldwide. These are some of key frameworks and libraries used by GraphSNP:",Object(gt.jsxs)("ul",{children:[Object(gt.jsx)("li",{children:Object(gt.jsx)("a",{href:"https://reactjs.org/",target:"_blank",rel:"noopener noreferrer",children:"React.js"})}),Object(gt.jsx)("li",{children:Object(gt.jsx)("a",{href:"https://d3js.org/",target:"_blank",rel:"noopener noreferrer",children:"Data-Driven Documents (D3.js)"})}),Object(gt.jsx)("li",{children:Object(gt.jsx)("a",{href:"https://ant.design/",target:"_blank",rel:"noopener noreferrer",children:"Ant design UI"})}),Object(gt.jsx)("li",{children:Object(gt.jsx)("a",{href:"https://js.cytoscape.org/",target:"_blank",rel:"noopener noreferrer",children:"Cytoscape"})}),Object(gt.jsx)("li",{children:"Redux, bio-parsers, graphlib-dot, kruskal-mst, lodash, moment."})]})]}),Object(gt.jsx)(Jn,{level:3,children:"Have any questions? "}),Object(gt.jsxs)(Kn,{children:["Please feel free to send it to my email:"," ",Object(gt.jsx)("span",{style:{weight:"bold",color:"blue"},children:"b.permana@uq.edu.au"})]}),Object(gt.jsxs)(Jn,{level:2,underline:!0,children:["Related publications"," "]}),Object(gt.jsx)(Kn,{children:Object(gt.jsxs)("ul",{children:[Object(gt.jsxs)("li",{children:[" ","GraphSNP (available soon). In the meantime, please cite this website: https://graphsnp.beatsonlab.com"," "]}),Object(gt.jsxs)("li",{children:[" ",Object(gt.jsx)("a",{href:"https://academic.oup.com/bioinformaticsadvances/article/2/1/vbac040/6594149",target:"_blank",rel:"noopener noreferrer",children:"CATHAI: cluster analysis tool for healthcare-associated infections"})," "]})]})}),Object(gt.jsx)(In.a,{})]})})};var Zn=Object(f.b)(null,(function(e,t){return Object(m.b)({changeNavLocation:ve},e)}))((function(e){return Object(gt.jsx)(r.a.Fragment,{children:Object(gt.jsxs)(Xa.a,{id:"page-documentation",children:[Object(gt.jsx)(Hn,{changeNavLocation:e.changeNavLocation}),Object(gt.jsx)(Yn,{}),Object(gt.jsx)(Qn,{})]})})})),$n=a(1275),er=a(1254),tr=a(1265),ar=function(e){return Object(gt.jsx)(p.a,{className:"snpDist-chart-header",children:Object(gt.jsx)(g.a,{xs:20,style:{textAlign:"left"},children:Object(gt.jsxs)("p",{children:[e.title," ",Object(gt.jsx)("span",{children:Object(gt.jsx)(St.a,{title:e.desc,placement:"rightTop",children:Object(gt.jsx)(xt.a,{style:{color:"red"}})})})]})})})},nr=function(){return Object(gt.jsx)(r.a.Fragment,{children:Object(gt.jsxs)("p",{children:["No chart."," ",Object(gt.jsx)("span",{children:Object(gt.jsx)(St.a,{title:"Please load the input files then create or recreate the chart using button within the settings panel",placement:"rightTop",children:Object(gt.jsx)(xt.a,{style:{color:"red"}})})})]})})};function rr(e,t,a){var n=a[t],r=new Map;n.forEach((function(e,t){r.get(e)||r.set(e,t)}));var s={};return r.forEach((function(a,n){var r=e.get(a)[t];s[r]=n})),s}var sr=function(e){return{data:e,xField:"bin",yField:"count",xAxis:{title:{text:"Distance"}},yAxis:{title:{text:"Count",autoRotate:!0}},slider:{start:0,end:1}}},ir=function(e,t,a,n){var r=rr(n,t,a);return{renderer:"svg",appendPadding:10,data:e,angleField:"count",colorField:"group",color:function(e){var t=e.group;return r[t]},radius:1,innerRadius:.6,label:{type:"inner",offset:"-50%",content:"{value}",style:{textAlign:"center",fontSize:14}},interactions:[{type:"element-selected"},{type:"element-active"}],statistic:{title:{content:"Grouped by:",style:{fontSize:"14px",textOverflow:"ellipsis"}},content:{style:{fontSize:"14px",whiteSpace:"pre-wrap",overflow:"hidden",textOverflow:"ellipsis"},content:t}}}},cr=function(e,t,a,n){var r=rr(n,t,a);return{renderer:"svg",data:e,colorField:"x",color:function(e){var t=e.x;return r[t]},xField:"x",yField:"y",yAxis:{title:{text:"Distance",autoRotate:!0}},shape:"smooth-hollow"}},or=function(e,t){var a=e.querySelector("svg"),n=(new XMLSerializer).serializeToString(a),r=new Blob([n],{type:"image/svg+xml"}),s=document.createElement("a");s.href=URL.createObjectURL(r),s.download=t+".svg",s.click()};var lr=Object(f.b)((function(e){return{chartData:e.chartsData.allDistData,metadata:e.metadata,hammingMatrix:e.hammMatrix}}),(function(e){return Object(m.b)({dist_changeIsModalOpen:ga},e)}))((function(e){return Object(gt.jsxs)("div",{className:"snpDist-chart-content",children:[!e.chartData&&Object(gt.jsx)(nr,{}),e.chartData&&Object(gt.jsxs)(r.a.Fragment,{children:[Object(gt.jsx)(De.a,{disabled:!e.chartData,size:"small",className:"snpDist-chart-download-button",onClick:function(){var t={visible:!0,chartSettings:sr(e.chartData),chartType:"column"};e.dist_changeIsModalOpen(t)},children:Object(gt.jsx)($n.a,{title:"Render in higher resolution, and download SVG"})}),Object(gt.jsx)(er.a,Object(Ba.a)({id:"all-bar-chart"},sr(e.chartData)))]})]})})),dr=a(1276),ur=a(1255);var hr=Object(f.b)((function(e){return{chartData:e.chartsData.allDistStats,metadata:e.metadata,hammingMatrix:e.hammMatrix}}),(function(e){return Object(m.b)({dist_changeIsModalOpen:ga},e)}))((function(e){var t,a=Object(n.useRef)();return Object(gt.jsxs)("div",{className:"snpDist-chart-content",children:[!e.chartData&&Object(gt.jsx)(nr,{}),e.chartData&&Object(gt.jsxs)(r.a.Fragment,{children:[Object(gt.jsx)(De.a,{disabled:!e.chartData,size:"small",className:"snpDist-chart-download-button",onClick:function(){var e=a.current;or(e,"all_samples_violin")},children:Object(gt.jsx)(dr.a,{title:"Download SVG"})}),Object(gt.jsx)("div",{ref:a,children:Object(gt.jsx)(ur.a,Object(Ba.a)({},(t=e.chartData,{renderer:"svg",data:t,xField:"x",yField:"y",yAxis:{title:{text:"Distance",autoRotate:!0}},shape:"smooth-hollow"})))})]})]})})),pr=a(1256);var gr=Object(f.b)((function(e){return{dataColumn:e.snpDistSettings.dataColumn,chartData:e.chartsData.groupPieData,metadata:e.metadata,hammingMatrix:e.hammMatrix,colLUT:e.colorLUT}}))((function(e){var t=Object(n.useRef)();return Object(gt.jsxs)("div",{className:"snpDist-chart-content",children:[!e.chartData&&Object(gt.jsx)(nr,{}),e.chartData&&Object(gt.jsxs)(r.a.Fragment,{children:[Object(gt.jsx)(De.a,{disabled:!e.chartData,size:"small",className:"snpDist-chart-download-button",onClick:function(){var e=t.current;or(e,"grouping_variable")},children:Object(gt.jsx)(dr.a,{title:"Download SVG"})}),Object(gt.jsx)("div",{ref:t,children:Object(gt.jsx)(pr.a,Object(Ba.a)({},ir(e.chartData,e.dataColumn,e.colLUT,e.metadata)))})]})]})}));var jr=Object(f.b)((function(e){return{dataColumn:e.snpDistSettings.dataColumn,chartData:e.chartsData.groupDistStats,metadata:e.metadata,hammingMatrix:e.hammMatrix,colLUT:e.colorLUT}}))((function(e){var t=Object(n.useRef)();return Object(gt.jsxs)("div",{className:"snpDist-chart-content",children:[!e.chartData&&Object(gt.jsx)(nr,{}),e.chartData&&Object(gt.jsxs)(r.a.Fragment,{children:[Object(gt.jsx)(De.a,{disabled:!e.chartData,size:"small",className:"snpDist-chart-download-button",onClick:function(){var e=t.current;or(e,"grouped_violin")},children:Object(gt.jsx)(dr.a,{title:"Download SVG"})}),Object(gt.jsx)("div",{ref:t,children:Object(gt.jsx)(ur.a,Object(Ba.a)({},cr(e.chartData,e.dataColumn,e.colLUT,e.metadata)))})]})]})}));var br=Object(f.b)((function(e){return{isModalOpen:e.snpDistSettings.isModalOpen}}),(function(e){return Object(m.b)({dist_changeIsModalOpen:ga},e)}))((function(e){var t=Object(n.useRef)(null);return Object(gt.jsx)("div",{children:Object(gt.jsx)(j.a,{title:Object(gt.jsx)(De.a,{onClick:function(){var e=t.current;or(e,"all_samples_barchart")},children:Object(gt.jsx)(dr.a,{title:"Download SVG"})}),visible:e.isModalOpen.visible,closable:!0,centered:!0,width:"90vw",footer:null,onCancel:function(){e.dist_changeIsModalOpen(!1)},maskStyle:{background:"rgba(0, 0, 0, 0.85)"},bodyStyle:{textAlign:"center",padding:"20px",overflow:"auto",height:"80vh"},children:function(e){if(e.visible&&e.chartType&&e.chartSettings){var a=e.chartSettings;if(a.renderer="svg","column"===e.chartType)return Object(gt.jsx)("div",{ref:t,children:Object(gt.jsx)(er.a,Object(Ba.a)({},a))})}}(e.isModalOpen)})})}));var fr=Object(f.b)((function(e){return{chartData:e.chartsData.groupDistIntraInter,metadata:e.metadata,hammingMatrix:e.hammMatrix}}))((function(e){var t,a=Object(n.useRef)();return Object(gt.jsxs)("div",{className:"snpDist-chart-content",children:[!e.chartData&&Object(gt.jsx)(nr,{}),e.chartData&&Object(gt.jsxs)(r.a.Fragment,{children:[Object(gt.jsx)(De.a,{disabled:!e.chartData,size:"small",className:"snpDist-chart-download-button",onClick:function(){var e=a.current;or(e,"intra_inter_group_violin")},children:Object(gt.jsx)(dr.a,{})}),Object(gt.jsx)("div",{ref:a,children:Object(gt.jsx)(ur.a,Object(Ba.a)({},(t=e.chartData,{renderer:"svg",data:t,xField:"x",yField:"y",yAxis:{title:{text:"Distance",autoRotate:!0}},shape:"smooth-hollow"})))})]})]})})),mr=Ra.a.Option;var xr=Object(f.b)((function(e){return{snpDistSettings:e.snpDistSettings,hammingMatrix:e.hammMatrix,colorLUT:e.colorLUT,metadata:e.metadata,isShowingLoadingModal:e.isShowingLoadingModal}}),(function(e){return Object(m.b)({dist_changeDataToDisplay:la,dist_changeDataColumn:da,chart_changeAllDistData:Dt,chart_changeAllDistStats:Tt,chart_changeGroupPieData:wt,chart_changeGroupDistStats:Nt,chart_changeGroupDistIntraInter:Et},e)}))((function(e){var t=e.snpDistSettings.dataToDisplay,a=e.snpDistSettings.dataColumn;return Object(gt.jsxs)(r.a.Fragment,{children:[Object(gt.jsxs)("h5",{children:["Select sample(s) for the charts"," ",Object(gt.jsx)("span",{children:Object(gt.jsx)(St.a,{title:"Select all and or group of samples for the visualisation.",placement:"rightTop",children:Object(gt.jsx)(xt.a,{style:{color:"red"}})})})]}),Object(gt.jsxs)(Ra.a,{value:t,className:"gp-select",disabled:!e.hammingMatrix,onChange:function(t){e.dist_changeDataToDisplay(t),"all"===t&&(e.chart_changeGroupPieData(null),e.chart_changeGroupDistStats(null),e.chart_changeGroupDistIntraInter(null))},children:[Object(gt.jsx)(mr,{value:"all",children:"All samples"}),Object(gt.jsx)(mr,{disabled:!e.metadata,value:"all-and-group",children:"All + Group"})]}),"all-and-group"===t&&e.hammingMatrix&&e.metadata&&Object(gt.jsxs)(r.a.Fragment,{children:[Object(gt.jsxs)("h5",{children:["Select variable group (column)"," ",Object(gt.jsx)("span",{children:Object(gt.jsx)(St.a,{title:"Column in metadata",placement:"rightTop",children:Object(gt.jsx)(xt.a,{style:{color:"red"}})})})]}),Object(gt.jsx)(Ra.a,{value:a,className:"gp-select",disabled:"all-and-group"!==t||!e.hammingMatrix||!e.metadata,onChange:function(t){e.dist_changeDataColumn(t),e.chart_changeGroupPieData(null),e.chart_changeGroupDistStats(null),e.chart_changeGroupDistIntraInter(null)},children:e.colorLUT&&Object.keys(e.colorLUT)?Object.keys(e.colorLUT).map((function(e,t){return function(e,t){if(-1===["sample_date","patient_id"].indexOf(e))return Object(gt.jsx)(mr,{disabled:!1,value:e,children:e},t)}(e,t)})):["na"].map((function(e,t){return Object(gt.jsx)(mr,{disabled:!1,value:e,children:e},t)}))})]})]})}));var Or=Object(f.b)((function(e){return{chartsData:e.chartsData,snpDistSettings:e.snpDistSettings,hammingMatrix:e.hammMatrix,metadata:e.metadata}}),(function(e){return Object(m.b)({chart_changeAllDistData:Dt,chart_changeAllDistStats:Tt,chart_changeGroupPieData:wt,chart_changeGroupDistStats:Nt,chart_changeGroupDistIntraInter:Et},e)}))((function(e){return Object(gt.jsxs)(r.a.Fragment,{children:[Object(gt.jsxs)("h5",{children:["Draw charts"," ",Object(gt.jsx)("span",{children:Object(gt.jsx)(St.a,{title:"Click the button to start drawing charts.",placement:"rightTop",children:Object(gt.jsx)(xt.a,{style:{color:"red"}})})})]}),Object(gt.jsx)(De.a,{disabled:!e.hammingMatrix,onClick:function(){var t=[],a=[];e.hammingMatrix.forEach((function(e,n){a.push(n),t=t.concat(e)}));var n=new on(a,t).getSymetricEdges().edges;if(!e.chartsData.allDistData){var r=function(e){var t=e.map((function(e){return e.value})),a=tr.a(t,(function(e){return e.length}),(function(e){return e})),n=[];a.forEach((function(e,t){n.push({bin:t,count:e})}));for(var r=Re.a(Array.from(a.keys())),s=0;s<r;s++)a.get(s)||n.push({bin:s,count:0});return{all_distData:n.sort((function(e,t){return e.bin-t.bin})).map((function(e){return{bin:String(e.bin),count:e.count}})),all_distStats:t.map((function(e){return{x:"all",y:e}}))}}(n);e.chart_changeAllDistData(r.all_distData),e.chart_changeAllDistStats(r.all_distStats)}if(!e.chartsData.groupPieData){var s=e.metadata&&e.snpDistSettings.dataColumn&&"all"!==e.snpDistSettings.dataToDisplay?function(e,t){var a=Array.from(e.values()),n=tr.a(a,(function(e){return e.length}),(function(e){return e[t]})),r=[];return n.forEach((function(e,t){r.push({group:t,count:e})})),r.length>0?r:null}(e.metadata,e.snpDistSettings.dataColumn):null;e.chart_changeGroupPieData(s)}if(!e.chartsData.groupDistIntraInter){var i=e.metadata&&e.snpDistSettings.dataColumn&&"all"!==e.snpDistSettings.dataToDisplay?function(e,t,a){if(a){var n=[],r=[];return e.forEach((function(e){var s=t.get(e.source)[a],i=t.get(e.target)[a];s===i&&(n.push({x:s,y:e.value}),r.push({x:"intra-group",y:e.value})),s!==i&&r.push({x:"inter-group",y:e.value})})),{all:n,intraInter:r}}return null}(n,e.metadata,e.snpDistSettings.dataColumn):{all:null,intraInter:null};e.chart_changeGroupDistStats(i.all),e.chart_changeGroupDistIntraInter(i.intraInter)}},type:"primary",children:"Draw chart(s)"})]})})),yr=Object(gt.jsx)(h.a,{style:{fontSize:34},spin:!0});var Sr=Object(f.b)((function(e){return{snpDistSettings:e.snpDistSettings,hammingMatrix:e.hammMatrix,colorLUT:e.colorLUT,metadata:e.metadata,isShowingLoadingModal:e.isShowingLoadingModal}}),(function(e){return Object(m.b)({dist_changeExportFormat:ua,dist_changeIsUserDraw:ha,dist_changeIsUserExport:pa},e)}))((function(e){return Object(gt.jsxs)(r.a.Fragment,{children:[Object(gt.jsx)(p.a,{children:Object(gt.jsx)(j.a,{visible:e.isShowingLoadingModal,closable:!1,centered:!0,width:0,footer:null,bodyStyle:{textAlign:"center",padding:"0px"},children:Object(gt.jsx)(b.a,{indicator:yr,style:{color:"white"},tip:"Preparing Chart",size:"large"})})}),Object(gt.jsxs)(p.a,{gutter:[16,16],id:"gp-settings-box-container",children:[Object(gt.jsxs)(g.a,{className:"gp-settings-box",xs:22,sm:10,lg:5,children:[Object(gt.jsxs)("h5",{children:["Select preloaded dataset"," ",Object(gt.jsx)("span",{children:Object(gt.jsx)(St.a,{title:"Ignore this tab, if you have loaded your data",placement:"rightTop",children:Object(gt.jsx)(xt.a,{style:{color:"red"}})})})]}),Object(gt.jsx)(za,{})]}),Object(gt.jsx)(g.a,{className:"gp-settings-box",xs:22,sm:10,lg:5,children:Object(gt.jsx)(xr,{})}),Object(gt.jsx)(g.a,{className:"gp-settings-box",xs:22,sm:10,lg:5,children:Object(gt.jsx)(Or,{})})]})]})})),vr=(a(1231),Sn.a.Panel);var Dr=Object(f.b)((function(e){return{hammingMatrix:e.hammMatrix}}),(function(e){return Object(m.b)({},e)}))((function(e){return Object(gt.jsxs)(r.a.Fragment,{children:[Object(gt.jsxs)(p.a,{className:"gp-collapsible-container",children:[Object(gt.jsx)(br,{}),Object(gt.jsx)(Sn.a,{style:{backgroundColor:"rgba(255, 255, 255, 0.95)",borderBottom:"1px solid lightgray",width:"100vw"},accordion:!0,bordered:!1,expandIconPosition:"left",defaultActiveKey:[],ghost:!0,children:Object(gt.jsx)(vr,{header:Object(gt.jsxs)("p",{children:["Charts Settings: click to create charts"," ",Object(gt.jsx)("span",{children:Object(gt.jsx)(St.a,{title:"Click to show and hide settings panel to create the charts",placement:"rightTop",children:Object(gt.jsx)(xt.a,{style:{color:"red"}})})})]}),children:Object(gt.jsx)(Sr,{})},"1")})]}),Object(gt.jsxs)(p.a,{id:"snpdist-charts-container",children:[Object(gt.jsx)(g.a,{xs:24,sm:16,md:16,children:Object(gt.jsxs)("div",{className:"snpDist-chart-box",children:[Object(gt.jsx)(ar,{title:"Distance distribution (all)",chartID:"gp-all-bar",desc:"A bar chart displaying the count (y-axis) of each SNP distance or other distance type (x-axis) in all sample's pairwise distances."}),Object(gt.jsx)(lr,{})]})}),Object(gt.jsx)(g.a,{xs:24,sm:8,md:8,children:Object(gt.jsxs)("div",{className:"snpDist-chart-box",children:[Object(gt.jsx)(ar,{title:"Distance statistics (all)",chartID:"gp-all-boxplot",desc:"The violin chart shows the distribution of SNP distances or other distance types (y-axis) of all samples. Hover on chart to display the statistics."}),Object(gt.jsx)(hr,{})]})}),Object(gt.jsx)(g.a,{xs:24,sm:9,md:8,children:Object(gt.jsxs)("div",{className:"snpDist-chart-box",children:[Object(gt.jsx)(ar,{title:"Distances by group",chartID:"gp-group-boxplot",desc:"The violin chart shows the distribution of SNP distances or other distance types (y-axis) grouped by categorical variables (x-axis) as specified in a metadata column. Hover on chart to display the statistics."}),Object(gt.jsx)(jr,{})]})}),Object(gt.jsx)(g.a,{xs:24,sm:9,md:8,children:Object(gt.jsxs)("div",{className:"snpDist-chart-box",children:[Object(gt.jsx)(ar,{title:"Intra & inter-group",chartID:"gp-group-intra-inter-boxplot",desc:"The violin chart displays the distribution of SNP distances or other distance types (represented on the y-axis) based on the categorical grouping specified in a metadata column (represented on the x-axis). The chart distinguishes between intra-group distances (within the same group) and inter-group distances (between different groups). Hover on chart to display the statistics."}),Object(gt.jsx)(fr,{})]})}),Object(gt.jsx)(g.a,{xs:24,sm:6,md:8,children:Object(gt.jsxs)("div",{className:"snpDist-chart-box",children:[Object(gt.jsx)(ar,{title:"Grouping variable",chartID:"gp-group-piechart",desc:"The doughnut chart displays the variables used for grouping as specified in a metadata column."}),Object(gt.jsx)(gr,{})]})})]})]})})),Tr=a(1277),wr=a(396),Nr=a(94),Er=Object(Nr.a)();var Cr=Object(f.b)((function(e,t){return{navLocation:e.navSettings.navLocation}}),(function(e,t){return Object(m.b)({changeNavLocation:ve},e)}))((function(e){var t=e.navLocation?e.navLocation:function(e){if(!e)return"none";switch(e){case"/":return"home";case"/graphsnp":return"graphsnp";case"/documentation":return"documentation";case"/snpdistance":return"matrix";default:return"none"}}(Er.location.pathname);return Object(gt.jsx)(r.a.Fragment,{children:Object(gt.jsxs)(wr.a,{id:"header-menu",mode:"horizontal",selectedKeys:[t],overflowedIndicator:Object(gt.jsx)(Tr.a,{}),children:[Object(gt.jsx)(wr.a.Item,{style:{padding:"0 20px",margin:"0px"},onClick:function(t){e.changeNavLocation(t.key)},children:Object(gt.jsx)(Vn.b,{to:"/",exact:!0,children:"Input"})},"home"),Object(gt.jsx)(wr.a.Item,{style:{padding:"0 20px",margin:"0px"},onClick:function(t){e.changeNavLocation(t.key)},children:Object(gt.jsx)(Vn.b,{to:"/snpdistance",children:"Distances"})},"snpdistance"),Object(gt.jsx)(wr.a.Item,{style:{padding:"0 20px",margin:"0px"},onClick:function(t){e.changeNavLocation(t.key)},children:Object(gt.jsx)(Vn.b,{to:"/graphsnp",children:"Graph"})},"graphsnp"),Object(gt.jsx)(wr.a.Item,{style:{padding:"0 20px",margin:"0px"},onClick:function(t){e.changeNavLocation(t.key)},children:Object(gt.jsx)(Vn.b,{to:"/documentation",children:"Documentation"})},"documentation")]})})})),Ir=(a(1232),function(e){return Object(gt.jsx)(r.a.Fragment,{children:Object(gt.jsxs)(p.a,{className:"main-header",children:[Object(gt.jsx)(g.a,{id:"header-navigation",xs:18,children:Object(gt.jsx)(Cr,{})}),Object(gt.jsx)(g.a,{id:"header-logo",xs:6,children:Object(gt.jsx)("img",{style:{float:"right"},src:"data:image/png;base64,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",alt:"GraphSNP",height:"70px"})})]})})}),Lr=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=Object(gt.jsxs)(u.d,{children:[Object(gt.jsx)(u.b,{exact:!0,path:"/",component:qa}),Object(gt.jsx)(u.b,{path:"/graphsnp",component:_n}),Object(gt.jsx)(u.b,{path:"/documentation",component:Zn}),Object(gt.jsx)(u.b,{path:"/snpdistance",component:Dr}),Object(gt.jsx)(u.a,{to:"/"})]});return Object(gt.jsxs)(u.c,{history:Er,children:[Object(gt.jsx)(Ir,{}),Object(gt.jsx)("main",{children:e})]})}}]),a}(n.Component),Ar=Lr,Mr=a(689),kr=a.n(Mr),Ur=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,1279)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),s(e),i(e)}))},Gr=function(){return Object(m.a)(kr.a)(m.d)(Ma,La,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())}();i.a.render(Object(gt.jsx)(f.a,{store:Gr,children:Object(gt.jsx)(Ar,{})}),document.getElementById("root")),Ur()},329:function(e,t,a){},711:function(e,t,a){},712:function(e,t,a){},840:function(e,t){},842:function(e,t){},868:function(e,t){},870:function(e,t){},889:function(e,t,a){}},[[1237,1,2]]]);