(this["webpackJsonpgraph-snp"]=this["webpackJsonpgraph-snp"]||[]).push([[0],{1085:function(e,t,a){},1430:function(e,t,a){},1433:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(0),s=a.n(r),i=a(31),o=a.n(i),c=(a(624),a(206)),l=a(207),d=a(208),u=a(217),p=(a(625),a(50)),h=a(1468),g=a(1467),j=a(1459),f=a(588),b=(a(376),a(37)),m=a(32),x="PROJECTS_JSON",O="INPUT_LOADING",y="IS_SHOWING_LOADING_MODAL",S="GRAPH_OBJECT",v="GRAPH_CLUSTER",T="MATRIX_HAMMING",w="NAV_LOCATION",E="SEQ_DATA",D="META_DATA",L="METADATA_CATEGORICAL",N="TIME_TREE_DATA",C="COLOR_LUT",M="SELECT_DEMO_DATA",A="SELECTED_NODE",I="SETTING_METHOD",U="SETTING_LAYOUT",k="SETTING_IS_USER_REDRAW",_="SETTING_EDGE_FILTER_CUTOFF",P="SETTING_IS_USER_FILTER_EDGES",R="SETTING_CLUSTER_METHOD",F="SETTING_IS_USER_CLUSTERING",G="SETTING_IS_EDGE_SCALED",q="SETTING_EDGE_SCALE_FACTOR",V="SETTING_IS_HIDE_EDGES",z="SETTING_EDGE_HIDE_CUTOFF",X="SETTING_COLOR_NODE_BY",H="SETTING_EXPORT_FORMAT",J="SETTING_IS_USER_DOWNLOADING",B="SETTING_TRANS_LOC_LEVEL",W="SETTING_TYPE_ANALYSIS",Y="SETTING_CHART_SESSION",Q="SETTING_IS_USER_LOAD_SESSION",K="SETTING_IS_USER_RELAYOUT",Z="SETTING_NODE_IS_LABEL_SHOWN",$="SETTING_EDGE_LABEL_SIZE",ee="DIST_DATA_TO_DISPLAY",te="DIST_DATA_COLUMN",ae="DIST_DATA_COLUMN_LEVEL",ne="DIST_CHART_ORIENTATION",re="DIST_CHART_TYPE",se="DIST_IS_USER_GENERATE_MATRIX",ie="DIST_EXPORT_FORMAT",oe="DIST_IS_USER_DRAW",ce="DIST_IS_USER_EXPORT",le="DIST_CHART_SESSION",de="DIST_IS_USER_LOAD_SESSION",ue="./data/templateFile/snps_alignment_input_example.fasta",pe="./data/templateFile/metadata_input_example.csv",he="./data/templateFile/distanceMatrix_input_example.csv",ge="./data/userManual/GraphSNP_userManual_v2022Apr01.pdf",je="./data/project.json";function fe(e){return{type:w,payload:e}}var be=a(1475),me=a(1454),xe=a(613),Oe=a(68),ye=a(98),Se=a(1471),ve=a(1472),Te=a(1473),we=a(1474);function Ee(e){return{type:x,payload:e}}function De(e){return{type:E,payload:e}}function Le(e){return{type:D,payload:e}}function Ne(e){return{type:N,payload:e}}function Ce(e){return{type:O,payload:e}}function Me(e){return{type:M,payload:e}}function Ae(e){return{type:T,payload:e}}function Ie(e){return{type:S,payload:e}}function Ue(e){return{type:v,payload:e}}var ke=a(46),_e=a.n(ke),Pe=a(155),Re=a(1464),Fe=a(1457),Ge=a(95),qe=a.n(Ge),Ve=a(101),ze=a(1463),Xe=a(572),He=a(1470),Je=a(1446),Be=a(1445),We=a(1469),Ye=Object(Ve.extendMoment)(qe.a),Qe=a(22);function Ke(e,t,a){return a.indexOf(e)===t}function Ze(e,t){var a=Qe.cloneDeep(e),n=null;if(Array.isArray(a)&&a.length>0){"clusterID"===t&&(a=a.filter((function(e){return"na"!==e.clusterID})));var r=[],s=[];a.forEach((function(e){r.push(e[t]),"sample_date"===t&&s.push(e.sample_date)}));var i=r.filter(Ke),o=s.length>0?Be.a(s):null,c=Object(Xe.a)(Je.a).domain(i),l=o?function(e){var t=Ye(e[0]),a=Ye(e[1]),n=t.isoWeek().toString(),r=a.isoWeek().toString(),s=t.isoWeekYear().toString(),i=a.isoWeekYear().toString(),o=parseInt(s+n),c=parseInt(i+r);return Object(ze.a)(He.a).domain([o,c])}(o):null,d=new Map;a.forEach((function(e){if("collectionDay"===t){var a=e[t],n=Object(We.a)(l(a)).formatHex();d.set(e.sample,n)}else d.set(e.sample,c(e[t]))})),n=d}return n}function $e(e,t){var a=Qe.cloneDeep(t),n=new Map;return a.forEach((function(t){var a=t[e]&&Object(We.a)(t[e])?Object(We.a)(t[e]).formatHex():Object(We.a)("lightgray").formatHex();n.set(t.sample_id,a)})),n}function et(e,t,a){var n="lightgray";if(a[t]&&"na"!==t){var r=a[t];n=r.get(e)?r.get(e):"lightgray"}return n}function tt(e,t,a,n){if(e){var r=t+1,s=r?r*a:1;return"edge"===n||s<1?s:.25}return"edge"===n?1:.25}function at(e){return e*Math.max(document.documentElement.clientHeight,window.innerHeight||0)/100}function nt(e){var t=0;return e.hospital_id&&(t=1,e.ward_id&&(t=2,e.bay_id&&(t=3,e.bed_id&&(t=4)))),t}function rt(e,t){var a=0;return e.hospital_id===t.hospital_id&&(a=1,e.ward_id===t.ward_id&&(a=2,e.bay_id===t.bay_id&&(a=3,e.bed_id===t.bed_id&&(a=4)))),a}function st(e,t){var a=document.createElement("a");a.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),a.setAttribute("download",e),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)}var it=a(630);function ot(e){this.seq=e,this.seqIDs=e.map((function(e){return e.id}))}ot.prototype.getHammingMatrix=function(){for(var e=this.seq,t=this.seqIDs,a=new Map,n=0;n<t.length-1;n++)for(var r=e[n],s=n+1;s<e.length;s++){var i=e[s],o=it(r.sequence,i.sequence);if(a.get(r.id)){var c=a.get(r.id);c.push({source:r.id,target:i.id,value:o,part:"upper"}),a.set(r.id,c)}else{var l=[{source:r.id,target:i.id,value:o,part:"upper"}];a.set(r.id,l)}if(a.get(i.id)){var d=a.get(i.id);d.push({source:i.id,target:r.id,value:o,part:"lower"}),a.set(i.id,d)}else{var u=[{source:i.id,target:r.id,value:o,part:"lower"}];a.set(i.id,u)}}return a};var ct=ot;function lt(e,t){this.distMatCSV=e,this.headers=t}lt.prototype.createMatrix=function(){var e=this,t=new Map,a=this.headers[0];return this.distMatCSV.forEach((function(n){var r="newRowStart";e.headers.forEach((function(e){if(e!==a){var s=n[a],i=e,o=n[e];if(s!==i||"newRowStart"!==r&&"lower"!==r||(r="diagonal"),s!==i&&("newRowStart"===r||"lower"===r))if(r="lower",t.get(s)){var c=t.get(s);c.push({source:s,target:i,value:o,part:r}),t.set(s,c)}else{var l=[{source:s,target:i,value:o,part:r}];t.set(s,l)}if(s!==i&&("diagonal"===r||"upper"===r))if(r="upper",t.get(s)){var d=t.get(s);d.push({source:s,target:i,value:o,part:r}),t.set(s,d)}else{var u=[{source:s,target:i,value:o,part:r}];t.set(s,u)}}}))})),t};var dt=lt,ut=a(22),pt=(Object(Ve.extendMoment)(qe.a),a(631).fastaToJson);Object(Fe.a)("%Y-%m-%d");function ht(e,t,a,n){return gt.apply(this,arguments)}function gt(){return(gt=Object(Pe.a)(_e.a.mark((function e(t,a,n,r){var s,i,o,c,l,d,u,p,h;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pt(t);case 2:if(s=e.sent,i=[],!(Array.isArray(s)&&s.length>1)){e.next=44;break}o={},c=[],l=!0,d=0;case 9:if(!(d<s.length)){e.next=41;break}if(u=s[d].messages,p=s[d].parsedSequence,h=s[d].success,-1===c.indexOf(p.size)&&c.push(p.size),h){e.next=19;break}return l=!1,alert("Parsing error:",p.name),r(!1),e.abrupt("break",41);case 19:if(!(u.length>0)){e.next=24;break}return l=!1,alert(u[0]),r(!1),e.abrupt("break",41);case 24:if(!(c.length>1)){e.next=29;break}return l=!1,alert("Size error: Alignment required sequences with same length"),r(!1),e.abrupt("break",41);case 29:if(o[p.name]){e.next=33;break}o[p.name]=!0,e.next=37;break;case 33:return l=!1,alert("Sequence error: Duplicated sequence"),r(!1),e.abrupt("break",41);case 37:l&&i.push({id:p.name,size:p.size,sequence:p.sequence.toLowerCase()});case 38:d++,e.next=9;break;case 41:l&&(xe.b.success("The sequences have been loaded, now building distance matrix ..",1),setTimeout((function(){var e=new ct(i).getHammingMatrix();xe.b.success("Pair-wise SNP distance matrix has been created",1),a(i),n(e),r(!1)}),100)),e.next=46;break;case 44:alert("Error: Check the SNP alignment input requirements"),r(!1);case 46:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jt(e,t,a){return ft.apply(this,arguments)}function ft(){return(ft=Object(Pe.a)(_e.a.mark((function e(t,a,n){var r,s,i,o,c;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Re.a)(t).then((function(e){return e}));case 2:r=e.sent,s=r.columns,i=s[0],console.log(i),i?(o=[i],c=[],r.forEach((function(e){var t={};s.forEach((function(a){var n=a===i?String(e[a]):parseFloat(e[a]),r=String(a);t[r]=n})),c.push(t),o.push(e[i])})),s.length===o.length&&s.every((function(e,t){return e===o[t]}))?setTimeout((function(){var e=new dt(c,s).createMatrix();xe.b.success("Pairwise distance matrix has been created",1),a(e),n(!1)}),100):(alert("Invalid CSV matrix: not symetrical"),n(!1))):(alert("First column in CSV matrix cannot an empty string"),n(!1));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bt(e,t,a,n,r){return mt.apply(this,arguments)}function mt(){return(mt=Object(Pe.a)(_e.a.mark((function e(t,a,n,r,s){var i,o,c,l,d,u,p,h,g,j,f,b,m;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Re.a)(t).then((function(e){return e}));case 2:if(i=e.sent,o=["sample_id"],c=Object.keys(i[0]),l=!0,o.forEach((function(e){-1===c.indexOf(e)&&(l=!1)})),l){e.next=11;break}return alert("Error: Metadata requires sample_id column"),s(!1),e.abrupt("return");case 11:if(d=ut.countBy(i,"sample_id"),!((u=Object.keys(d).map((function(e){return{name:e,count:d[e]}})).filter((function(e){return e.count>1}))).length>0)){e.next=17;break}return alert("Error: Duplicated id(s)"+"".concat(JSON.stringify(u))),s(!1),e.abrupt("return");case 17:if(!!!d[""]){e.next=22;break}return alert("Error: Empty id(s)"),s(!1),e.abrupt("return");case 22:if(-1===Object.keys(i[0]).indexOf("collection_day")){e.next=29;break}if(p=!1,i.forEach((function(e){e.sample_id=e.sample_id.replace(/\s*$/,""),e.collection_day=e.collection_day&&parseInt(e.collection_day.replace(/\s*$/,""))?parseInt(e.collection_day.replace(/\s*$/,"")):null,e.collection_day||(p=!0)})),!p){e.next=29;break}return alert("Invalid collection_day "),s(!1),e.abrupt("return");case 29:h=[],g=[],c.forEach((function(e){var t=e.split(":");t.length>1&&"color"===t[1]?g.push(t[0]):"sample_id"!==e&&h.push(e)})),j={},f=new Map,b=["0",0,"null","na","#N/A","NA","","excluded","nil"],h.forEach((function(e){var t=e,a=[],n=[];i.forEach((function(e){var r={};r.sample=e.sample_id,r[t]=e[t],n.push(r),a.push(e[t])})),a.filter(Ke),a.forEach((function(e){var a=n.filter((function(a){return a[t]===e})).map((function(e){return e.sample}));if(-1===b.indexOf(e)){var r=t.concat("-",e);f.set(r,a)}}));var r=null;g.indexOf(e)>-1?r=$e(e.concat(":color"),i):r=Ze(n,t);j[t]=r})),m=new Map,i.forEach((function(e){m.set(e.sample_id,e)})),a(m),n(j),r(f),s(!1);case 42:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xt(e,t){return Ot.apply(this,arguments)}function Ot(){return(Ot=Object(Pe.a)(_e.a.mark((function e(t,a){var n,r,s;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.blob();case 5:r=e.sent,(s=new FileReader).readAsText(r),s.onloadend=function(e){var t=JSON.parse(e.target.result),n=new Map;t.projects.forEach((function(e){n.set(e.id,e)})),a(n)};case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yt(e,t,a,n,r){return St.apply(this,arguments)}function St(){return(St=Object(Pe.a)(_e.a.mark((function e(t,a,n,r,s){var i,o,c;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return i=e.sent,r(!0),e.next=6,i.blob();case 6:o=e.sent,(c=new FileReader).readAsText(o),c.onloadend=function(e){var t=e.target.result;s(t,a,n,r)};case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var vt=me.a.Dragger;var Tt=Object(b.b)((function(e){return{sequence:e.sequence,hammMatrix:e.hammMatrix,patientMovement:e.patientMovement}}),(function(e){return Object(m.b)({sequenceToStore:De,isinputLoadingToStore:Ce,hmmMatrixToStore:Ae},e)}))((function(e){return Object(n.jsx)(s.a.Fragment,{children:Object(n.jsxs)("div",{children:[Object(n.jsx)(vt,{accept:".fa, .fasta, .fna, .mfa, .csv",showUploadList:!1,style:{backgroundColor:"transparent",height:"500px"},name:"file",multiple:!1,action:"dummy-post",beforeUpload:function(t){if(t){var a=null,n=t.name.match(/\.[0-9a-z]+$/i)[0];if("seq"===(a=-1!==[".fa",".fasta",".fna",".mfa",".aln",".faa",".txt"].indexOf(n)?"seq":"mat")){var r=new FileReader;r.readAsText(t),e.isinputLoadingToStore(!0),r.onloadend=function(t){ht(t.target.result,e.sequenceToStore,e.hmmMatrixToStore,e.isinputLoadingToStore)}}else if("mat"===a){var s=new FileReader;s.readAsDataURL(t),e.isinputLoadingToStore(!0),s.onloadend=function(t){jt(t.target.result,e.hmmMatrixToStore,e.isinputLoadingToStore)}}else xe.b.error("Invalid input file",.5)}return!1},children:Object(n.jsx)("div",{id:"input-loader-snps",children:Object(n.jsxs)(Oe.a,{id:"input-loader-button-snps",shape:"round",size:"large",children:[e.sequence||e.hammMatrix?Object(n.jsx)(Se.a,{style:{fontSize:"14pt"}}):Object(n.jsx)(ve.a,{})," SNPs alignment ","  ",Object(n.jsx)("span",{style:{marginLeft:"5px"},children:Object(n.jsx)(ye.a,{title:"Input or drag and drop non-ambiguous multi-fasta SNPs alignment (.fa, .fna,  .mfa, .fsa) or a distance matrix (.csv) file here",placement:"rightTop",children:Object(n.jsx)(Te.a,{style:{fontSize:"14px",color:"white"}})})})]})})}),Object(n.jsx)("div",{className:"remove-button-container",children:Object(n.jsx)(Oe.a,{disabled:!e.hammMatrix,title:"Remove loaded SNPs alignment",type:"ghost",className:"input-loader-remove-button ",shape:"circle",size:"small",onClick:function(t){e.sequenceToStore(null),e.hmmMatrixToStore(null)},children:Object(n.jsx)(we.a,{})})})]})})}));function wt(e){return{type:C,payload:e}}function Et(e){return{type:L,payload:e}}var Dt=me.a.Dragger;var Lt=Object(b.b)((function(e){return{metadata:e.metadata}}),(function(e){return Object(m.b)({metadataToStore:Le,colorLUTtoStore:wt,isinputLoadingToStore:Ce,categoricalMapToStore:Et},e)}))((function(e){return Object(n.jsx)(s.a.Fragment,{children:Object(n.jsxs)("div",{children:[Object(n.jsx)(Dt,{accept:".csv",showUploadList:!1,style:{height:"500px",backgroundColor:"transparent"},name:"file",multiple:!1,action:"dummy-post",beforeUpload:function(t){if(t){var a=new FileReader;a.readAsDataURL(t),e.isinputLoadingToStore(!0),a.onloadend=function(t){bt(t.target.result,e.metadataToStore,e.colorLUTtoStore,e.categoricalMapToStore,e.isinputLoadingToStore)}}return!1},children:Object(n.jsx)("div",{id:"input-loader-metadata",children:Object(n.jsxs)(Oe.a,{id:"input-loader-button-metadata",shape:"round",size:"large",children:[e.metadata?Object(n.jsx)(Se.a,{style:{fontSize:"14pt"}}):Object(n.jsx)(ve.a,{})," Metadata"," ",Object(n.jsx)("span",{style:{marginLeft:"5px"},children:Object(n.jsx)(ye.a,{title:"Input or drag and drop metadata file (CSV) here",placement:"rightTop",children:Object(n.jsx)(Te.a,{style:{fontSize:"14px",color:"white"}})})})]})})}),Object(n.jsx)("div",{className:"remove-button-container",children:Object(n.jsx)(Oe.a,{disabled:!e.metadata,title:"Remove loaded metadata",type:"ghost",className:"input-loader-remove-button ",shape:"circle",size:"small",onClick:function(t){e.metadataToStore(null),e.colorLUTtoStore(null),e.categoricalMapToStore(null)},children:Object(n.jsx)(we.a,{})})})]})})})),Nt=a(216),Ct=Nt.a.Option;var Mt=Object(b.b)((function(e){return{projectJSON:e.projectJSON,selectDemoData:e.selectDemoData}}),(function(e){return Object(m.b)({projectJSONToStore:Ee,selectDemoDataToStore:Me,sequenceToStore:De,metadataToStore:Le,patientMovementToStore:Ne,isinputLoadingToStore:Ce,hmmMatrixToStore:Ae,colorLUTtoStore:wt,categoricalMapToStore:Et},e)}))((function(e){var t=[];null===e.projectJSON&&xt(je,e.projectJSONToStore),e.projectJSON&&e.projectJSON.forEach((function(e,a){t.push(Object(n.jsx)(Ct,{value:a,children:e.name},a))}));var a=e.selectDemoData;return Object(n.jsx)(s.a.Fragment,{children:Object(n.jsx)(g.a,{xs:24,children:Object(n.jsxs)(Nt.a,{value:a,onChange:function(t){if(e.projectJSON&&t){e.sequenceToStore(null),e.hmmMatrixToStore(null),e.metadataToStore(null),e.colorLUTtoStore(null),e.categoricalMapToStore(null),e.patientMovementToStore(null);var a=e.projectJSON.get(t);a.metadata&&bt(a.metadata,e.metadataToStore,e.colorLUTtoStore,e.categoricalMapToStore,e.isinputLoadingToStore),"alignment"===a.matrixOrAlignment?a.snpDistance&&yt(a.snpDistance,e.sequenceToStore,e.hmmMatrixToStore,e.isinputLoadingToStore,ht):"matrix"===a.matrixOrAlignment&&a.snpDistance&&jt(a.snpDistance,e.hmmMatrixToStore,e.isinputLoadingToStore),e.selectDemoDataToStore(t)}else e.selectDemoDataToStore(null)},children:[Object(n.jsx)(Ct,{value:null,children:"Preloaded dataset"}),t]})})})})),At=function(e){return Object(n.jsx)(h.a,{children:Object(n.jsx)(g.a,{sm:24,id:"footer-component",children:Object(n.jsxs)("p",{children:[Object(n.jsx)("a",{href:"https://graphsnp.beatsonlab.com",target:"_blank",rel:"noopener noreferrer",children:Object(n.jsx)("b",{children:"GraphSNP v1.0"})}),Object(n.jsx)("br",{}),Object(n.jsxs)("b",{children:[" ","Graph-based, drag and drop web visualization tool for ",Object(n.jsx)("br",{}),"cluster and transmission analysis using pairwise SNP-distance."]}),Object(n.jsx)("br",{})," Developed by Budi Permana at"," ",Object(n.jsxs)("a",{href:"https://beatsonlab.com/",target:"_blank",rel:"noopener noreferrer",children:[" ","Beatson Lab"]}),Object(n.jsx)("br",{})," ",Object(n.jsx)("a",{href:"https://www.uq.edu.au/",target:"_blank",rel:"noopener noreferrer",children:"The University of Queensland"})," ","| Australia"]})})})},It=a(586),Ut=a.n(It),kt=Object(n.jsx)(be.a,{style:{fontSize:34},spin:!0}),_t=String(at(100)-380)+"px",Pt={fpsLimit:24,particles:{number:{value:25},size:{value:4},links:{enable:!0,distance:75},move:{enable:!0,speed:2,outModes:{default:"bounce"}}},interactivity:{events:{onhover:{enable:!1,mode:"repulse"}}}};var Rt=Object(b.b)((function(e){return{isInputLoading:e.isInputLoading}}),(function(e){return Object(m.b)({changeNavLocation:fe},e)}))((function(e){return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(h.a,{children:Object(n.jsx)(g.a,{xs:24,id:"header-content",children:Object(n.jsx)(j.a,{visible:e.isInputLoading,closable:!1,centered:!0,width:0,footer:null,bodyStyle:{textAlign:"center",padding:"0px"},children:Object(n.jsx)(f.a,{indicator:kt,style:{color:"white"},tip:"Preparing Data",size:"large"})})})}),Object(n.jsxs)(h.a,{id:"input-wrapper",children:[Object(n.jsx)(Ut.a,{params:Pt,height:_t,style:{position:"absolute",height:"200px"}}),Object(n.jsx)(g.a,{xs:24,sm:12,children:Object(n.jsx)(Tt,{})}),Object(n.jsx)(g.a,{xs:24,sm:12,children:Object(n.jsx)(Lt,{})})]}),Object(n.jsx)(h.a,{id:"demo-selection",children:Object(n.jsx)(Mt,{})}),Object(n.jsx)(At,{})]})})),Ft=a(1448),Gt=a(116),qt=(a(1085),a(62)),Vt=a(1461),zt=a(1452),Xt=a(1476);function Ht(e){return{type:I,payload:e}}function Jt(e){return{type:U,payload:e}}function Bt(e){return{type:k,payload:e}}function Wt(e){return{type:_,payload:e}}function Yt(e){return{type:P,payload:e}}function Qt(e){return{type:R,payload:e}}function Kt(e){return{type:F,payload:e}}function Zt(e){return{type:G,payload:e}}function $t(e){return{type:q,payload:e}}function ea(e){return{type:V,payload:e}}function ta(e){return{type:z,payload:e}}function aa(e){return{type:X,payload:e}}function na(e){return{type:H,payload:e}}function ra(e){return{type:J,payload:e}}function sa(e){return{type:B,payload:e}}function ia(e){return{type:W,payload:e}}function oa(e){return{type:Y,payload:e}}function ca(e){return{type:Q,payload:e}}function la(e){return{type:A,payload:e}}function da(e){return{type:K,payload:e}}function ua(e){return{type:Z,payload:e}}function pa(e){return{type:$,payload:e}}var ha=Vt.a.Panel;Object(Ve.extendMoment)(qe.a);var ga=Object(b.b)((function(e){return{metadata:e.metadata,colorLUT:e.colorLUT,selectedNode:e.selectedNode,graphObject:e.graphObject}}),(function(e){return Object(m.b)({changeSelectedNode:la},e)}))((function(e){var t=Object(r.useState)({columns:null,cells:null}),a=Object(qt.a)(t,2),i=a[0],o=a[1];return Object(r.useEffect)((function(){if(e.metadata)if(e.selectedNode.length>=1){var t=[];if(e.selectedNode.forEach((function(a){e.metadata.get(a)&&t.push(e.metadata.get(a))})),t.length>=1){var a=[];Object.keys(t[0]).forEach((function(e,t){a.push({title:e,dataIndex:e,key:e+t.toString()})})),t.forEach((function(e,t){e.key=t}));var n=a.filter((function(e){return console.log(e.dataIndex),!e.dataIndex.includes(":color")&&!e.dataIndex.includes("key")}));o({columns:n,cells:t})}else o({columns:null,cells:null})}else o({columns:null,cells:null})}),[e.selectedNode]),Object(n.jsx)(s.a.Fragment,{children:Object(n.jsx)("div",{id:"metadata-box",children:e.metadata&&e.graphObject&&Object(n.jsx)(h.a,{style:{paddingBottom:"0px"},children:Object(n.jsx)(g.a,{span:24,children:Object(n.jsx)(Vt.a,{accordion:!0,bordered:!1,expandIconPosition:"left",children:Object(n.jsxs)(ha,{style:{marginBottom:"0px",textAlign:"left",overflowY:"auto"},header:Object(n.jsxs)("p",{style:{marginBottom:"0px"},children:[Object(n.jsx)(Xt.a,{})," Selected node metadata"]}),children:[e.selectedNode&&e.graphObject&&i.columns&&Object(n.jsx)(zt.a,{size:"small",pagination:!1,style:{width:"100%"},dataSource:i.cells,columns:i.columns}),!e.selectedNode&&Object(n.jsx)("p",{children:"No selected node"})]},"1")})})})})})})),ja=a(218),fa=a(1465),ba=a(1447),ma=a(1455),xa=a(1477),Oa=a(367),ya=a(344).Graph,Sa=a(1174);function va(e){return{type:y,payload:e}}var Ta=Nt.a.Option,wa=Object(n.jsx)(be.a,{style:{fontSize:34},spin:!0});var Ea=Object(b.b)((function(e){return{metadata:e.metadata,patientMovement:e.patientMovement,sequence:e.sequence,hammMatrix:e.hammMatrix,graphSettings:e.graphSettings,graphObject:e.graphObject,graphClusters:e.graphClusters,colorLUT:e.colorLUT,isShowingLoadingModal:e.isShowingLoadingModal,selectedNode:e.selectedNode,selectDemoData:e.selectDemoData,projectJSON:e.projectJSON}}),(function(e){return Object(m.b)({changeMethodSetting:Ht,changeLayoutSetting:Jt,changeIsUserReDrawSetting:Bt,changeEdgeFilterCutoffSetting:Wt,changeClusterMethodSetting:Qt,changeIsUserClusteringSetting:Kt,changeIsEdgeScaledSetting:Zt,changeEdgeScaleFactorSetting:$t,changeColorNodeSetting:aa,changeExportFormatSetting:na,changeIsUserDownloadingSetting:ra,changeIsHideEdgesByCutoff:ea,changeEdgesHideCutoff:ta,changeTransIcludeLocLevel:sa,changeTypeOfAnalysisSetting:ia,changeIsUserFilterEdgesSetting:Yt,changeIsUserRelayoutSetting:da,changeEdgeLabelSizeSetting:pa,changeNodeIsLabelShown:ua,isShowingLoadingModalToStore:va,changeSelectedNode:la,projectJSONToStore:Ee,selectDemoDataToStore:Me,sequenceToStore:De,metadataToStore:Le,patientMovementToStore:Ne,isinputLoadingToStore:Ce,hmmMatrixToStore:Ae,colorLUTtoStore:wt,categoricalMapToStore:Et},e)}))((function(e){var t=e.graphSettings.method,a=e.graphSettings.layout,r=e.graphSettings.isUserReDraw,i=e.graphSettings.isUserFilteringEdge,o=e.graphSettings.edgeFilterCutoff,c=e.graphSettings.clusterMethod,l=e.graphSettings.isUserClustering,d=e.graphSettings.isEdgeScaled,u=e.graphSettings.edgeScaleFactor,p=e.graphSettings.isHideEdgesByCutoff,b=e.graphSettings.hiddenEdgesCutoff,m=e.graphSettings.colorNodedBy,x=e.graphSettings.exportFormat,O=e.graphSettings.transIncludeLocLevel,y=e.graphSettings.typeOfAnalysis,S=e.graphSettings.isUserRelayout,v=e.graphSettings.node_isLabelShown,T=(e.graphSettings.edge_labelSize,e.selectDemoData),w=[],E=[];e.hammMatrix&&e.hammMatrix.forEach((function(e,t){w.push(Object(n.jsx)(Ta,{children:t},t))})),null===e.projectJSON&&xt(je,e.projectJSONToStore),e.projectJSON&&e.projectJSON.forEach((function(e,t){E.push(Object(n.jsx)(Ta,{value:t,children:e.name},t))}));var D=function(t){"mscg"===t?e.changeLayoutSetting("cose-bilkent"):e.changeLayoutSetting("cose"),e.changeMethodSetting(t)},L=function(e,t){return Object(n.jsx)(Ta,{disabled:!1,value:e,children:e},t)};return Object(n.jsx)(s.a.Fragment,{children:Object(n.jsxs)(h.a,{gutter:[8,8],children:[Object(n.jsx)(g.a,{xs:24,id:"modal-content",children:Object(n.jsx)(j.a,{visible:e.isShowingLoadingModal,closable:!1,centered:!0,width:0,footer:null,bodyStyle:{textAlign:"center",padding:"0px"},children:Object(n.jsx)(f.a,{indicator:wa,style:{color:"white"},tip:"Preparing Graph",size:"large"})})}),Object(n.jsxs)(g.a,{span:24,children:[Object(n.jsx)("h5",{children:"Preloaded dataset"}),Object(n.jsxs)(Nt.a,{value:T,style:{width:"100%",textOverflow:"ellipsis"},onChange:function(t){if(e.projectJSON&&t){e.sequenceToStore(null),e.hmmMatrixToStore(null),e.metadataToStore(null),e.colorLUTtoStore(null),e.categoricalMapToStore(null),e.patientMovementToStore(null);var a=e.projectJSON.get(t);a.metadata&&bt(a.metadata,e.metadataToStore,e.colorLUTtoStore,e.categoricalMapToStore,e.isinputLoadingToStore),"alignment"===a.matrixOrAlignment?a.snpDistance&&yt(a.snpDistance,e.sequenceToStore,e.hmmMatrixToStore,e.isinputLoadingToStore,ht):"matrix"===a.matrixOrAlignment&&a.snpDistance&&jt(a.snpDistance,e.hmmMatrixToStore,e.isinputLoadingToStore),e.selectDemoDataToStore(t)}else e.selectDemoDataToStore(null)},children:[Object(n.jsx)(Ta,{value:null,children:"Select dataset"}),E]})]}),Object(n.jsxs)(g.a,{span:24,children:[Object(n.jsx)("h5",{children:"Graph settings"}),Object(n.jsxs)("p",{children:["Type of analysis"," ",Object(n.jsx)("span",{children:Object(n.jsx)(ye.a,{title:"Analysis to be performed. [1]Clustering: construct an undirected graph and detect putative cluster(s). [2]Transmission: construct a directed graph to show the putative transmission flow",placement:"rightTop",children:Object(n.jsx)(Te.a,{style:{color:"red"}})})})]}),Object(n.jsxs)(Nt.a,{disabled:!e.hammMatrix,value:y,style:{width:"100%"},onChange:function(t){"clustering"===t?e.changeMethodSetting("cathai"):e.changeMethodSetting("seqtrack"),e.changeTypeOfAnalysisSetting(t)},children:[Object(n.jsxs)(Ta,{disabled:!e.hammMatrix,value:"clustering",children:[" ","Clustering"," "]}),Object(n.jsx)(Ta,{disabled:!e.hammMatrix||!e.metadata,value:"transmission",children:"Transmission"})]})]}),"clustering"===y&&Object(n.jsxs)(g.a,{span:24,children:[Object(n.jsxs)("p",{children:["Method"," ",Object(n.jsx)("span",{children:Object(n.jsx)(ye.a,{title:"Method to construct clustering graph.  [1] CATHAI: given the SNP cut-off, create networks of pairwise SNP-distances between samples (Forde et al. 2021)",placement:"rightTop",children:Object(n.jsx)(Te.a,{style:{color:"red"}})})})]}),Object(n.jsxs)(Nt.a,{disabled:!e.hammMatrix||!y,value:t,style:{width:"100%"},onChange:D,children:[Object(n.jsx)(Ta,{value:"cathai",children:"CATHAI"}),Object(n.jsx)(Ta,{value:"mscg",disabled:!i,children:"MST Single-linkage Cluster"})]})]}),"transmission"===y&&Object(n.jsxs)(g.a,{span:24,children:[Object(n.jsxs)("p",{children:["Method"," ",Object(n.jsx)("span",{children:Object(n.jsx)(ye.a,{title:"Method to construct transmission graph.  [1]SeqTrack: construct a parsimonous transmission tree based on SNP distances and sampling dates (Jombart et al. 2014).  [2]SNPs and patient stay: construct a directed graph where edges were weighted by sum of SNPs distance weight and patient stays",placement:"rightTop",children:Object(n.jsx)(Te.a,{style:{color:"red"}})})})]}),Object(n.jsx)(Nt.a,{disabled:!y,value:t,style:{width:"100%"},onChange:D,children:Object(n.jsx)(Ta,{disabled:!e.hammMatrix||!e.metadata,value:"seqtrack",children:"SeqTrack"})})]}),Object(n.jsxs)(g.a,{span:16,children:[Object(n.jsxs)("p",{children:["Layout"," ",Object(n.jsx)("span",{children:Object(n.jsx)(ye.a,{title:"Layout to display the graph.",placement:"rightTop",children:Object(n.jsx)(Te.a,{style:{color:"red"}})})})]}),Object(n.jsxs)(Nt.a,{disabled:!e.hammMatrix,value:a,style:{width:"100%"},onChange:function(a){"mscg"===t&&e.changeLayoutSetting("cose-bilkent"),e.changeLayoutSetting(a)},children:[Object(n.jsx)(Ta,{value:"cose",children:" CoSE"}),Object(n.jsx)(Ta,{value:"spread",children:"Spread"}),Object(n.jsx)(Ta,{value:"fcose",children:"fCoSE"}),Object(n.jsx)(Ta,{value:"cose-bilkent",children:"CoSE Bilkent (Compound)"}),Object(n.jsx)(Ta,{value:"dagre",children:"Dagre"})]})]}),Object(n.jsxs)(g.a,{span:8,children:[Object(n.jsxs)("p",{children:["Refresh"," ",Object(n.jsx)("span",{children:Object(n.jsx)(ye.a,{title:"Apply selected layout to current graph.",placement:"rightTop",children:Object(n.jsx)(Te.a,{style:{color:"red"}})})})]}),Object(n.jsx)(Oe.a,{disabled:!e.graphObject,onClick:function(){S||(e.isShowingLoadingModalToStore(!0),e.changeIsUserRelayoutSetting(!0))},type:"primary",children:Object(n.jsx)(xa.a,{})})]}),Object(n.jsx)(g.a,{span:24,children:Object(n.jsxs)(ja.a,{style:{fontSize:"10px"},onChange:function(t){var a=t.target.checked;e.changeIsUserFilterEdgesSetting(a)},checked:i,disabled:!e.hammMatrix||"clustering"!==y,children:["Apply SNPs cutoff"," ",Object(n.jsx)("span",{children:Object(n.jsx)(ye.a,{title:"Apply a cutoff number to limit the maximum pairwise SNPs distance to be displayed.",placement:"rightTop",children:Object(n.jsx)(Te.a,{style:{color:"red"}})})})]})}),Object(n.jsxs)(g.a,{span:24,children:[Object(n.jsxs)("p",{children:["Cutoff number"," ",Object(n.jsx)("span",{children:Object(n.jsx)(ye.a,{title:"Maximum pairwise SNPs distance to be included in graph  (e.g. 25 SNPs cutoff will include edges with 0 to 25 SNPs).",placement:"rightTop",children:Object(n.jsx)(Te.a,{style:{color:"red"}})})})]}),Object(n.jsx)(fa.a,{min:0,disabled:!i||!e.hammMatrix||"clustering"!==y,step:1,value:o,onChange:function(t){t>0&&e.changeEdgeFilterCutoffSetting(t)},style:{marginBottom:"5px"}})]}),"hierSnpsMetaStayOverlap"===t&&Object(n.jsxs)(g.a,{span:24,children:[Object(n.jsxs)("p",{children:["Filter weighted edges",Object(n.jsx)("span",{children:Object(n.jsx)(ye.a,{title:"Filter edges based on its weight.  The weight is a combination score computed from pairwise SNP distances and stay overlap in hierarhical order. The weight assignation are:  #1 (all SNP distances),  #2 (#1+SNP distances less and equal to cutoff), #3 (#2+They had overlap stay at hospital level), #4 (#3+They had overlap stay at ward level), #5 (#4+They had overlap stay at bay level), and #6 (#5+They had overlap stay at bed level). So an edge with weight of #6 represents the highest score for a possible transmission based on their SNPs distance and stay overlap in bed level. *Stay overlap is considered in 7 days range (REF)",placement:"rightTop",children:Object(n.jsx)(Te.a,{style:{color:"red"}})})})]}),Object(n.jsxs)(Nt.a,{disabled:"hierSnpsMetaStayOverlap"!==t,value:O,style:{width:"100%"},onChange:function(t){e.changeTransIcludeLocLevel(t)},children:[Object(n.jsx)(Ta,{value:1,children:"SNPs"}),Object(n.jsx)(Ta,{value:2,children:"Hospital"}),Object(n.jsx)(Ta,{value:3,children:"Ward"}),Object(n.jsx)(Ta,{value:4,children:"Bay"}),Object(n.jsx)(Ta,{value:5,children:"Bed"})]})]}),Object(n.jsx)(g.a,{span:24,children:Object(n.jsx)(Oe.a,{disabled:!e.hammMatrix,onClick:function(){r||(e.isShowingLoadingModalToStore(!0),e.changeIsUserReDrawSetting(!0))},type:"primary",children:"Create graph"})}),"clustering"===y&&e.graphObject&&Object(n.jsx)(ba.a,{style:{margin:"10px 0px 0px 0px"}}),"clustering"===y&&e.graphObject&&Object(n.jsxs)(g.a,{span:24,children:[Object(n.jsx)("h5",{children:"Clustering settings"}),Object(n.jsxs)("p",{children:["Method"," ",Object(n.jsx)("span",{children:Object(n.jsx)(ye.a,{title:"Method to detect cluster in the constructed graph. [1]Connected components: using Breadth-first search algorithm (Zhou and Hansen,2006) to find cluster (all connected nodes) [2]Louvain: using Louvain algoritm (Subelj and Bajec, 2011) to find the cluster(s) ",placement:"rightTop",children:Object(n.jsx)(Te.a,{style:{color:"red"}})})})]}),Object(n.jsx)(Nt.a,{disabled:!e.graphObject,value:c,style:{width:"100%"},onChange:function(t){e.changeClusterMethodSetting(t)},children:Object(n.jsx)(Ta,{value:"Connected Components",children:"Connected Components"})})]}),"clustering"===y&&e.graphObject&&Object(n.jsx)(g.a,{span:24,children:Object(n.jsx)(Oe.a,{type:"primary",disabled:!e.graphObject,onClick:function(){l||e.changeIsUserClusteringSetting(!0)},children:"Detect clusters"})}),Object(n.jsx)(ba.a,{style:{margin:"10px 0px 0px 0px"}}),Object(n.jsx)("h5",{children:"Node settings"}),Object(n.jsxs)(g.a,{span:24,children:[Object(n.jsxs)("p",{children:["Node color"," ",Object(n.jsx)("span",{children:Object(n.jsx)(ye.a,{title:"Color nodes by the selected column in metadata or by the clustering result. User can also specify the color manually (e.g. To specify color on column 'patient_group', add new column named 'patient_group:color' in metadata).",placement:"rightTop",children:Object(n.jsx)(Te.a,{style:{color:"red"}})})})]}),Object(n.jsxs)(Nt.a,{disabled:!e.graphObject,value:m,style:{width:"100%"},onChange:function(t){e.changeColorNodeSetting(t)},children:[" ",e.colorLUT&&Object.keys(e.colorLUT)?Object.keys(e.colorLUT).map((function(e,t){return L(e,t)})):["na"].map((function(e,t){return L(e,t)}))]})]}),Object(n.jsxs)(g.a,{span:24,children:[Object(n.jsxs)("p",{children:["Select node(s)"," ",Object(n.jsx)("span",{children:Object(n.jsx)(ye.a,{title:"Select one or more node IDs to highlight the node(s) on the graph",placement:"rightTop",children:Object(n.jsx)(Te.a,{style:{color:"red"}})})})]}),Object(n.jsx)(Nt.a,{mode:"multiple",allowClear:!0,style:{width:"100%"},placeholder:"Select ID(s)",onChange:function(t){e.changeSelectedNode(t)},value:e.selectedNode,children:w})]}),Object(n.jsx)(g.a,{span:24,children:Object(n.jsxs)(ja.a,{style:{fontSize:"10px"},onChange:function(t){var a=t.target.checked;e.changeNodeIsLabelShown(a)},checked:v,disabled:!e.graphObject,children:["Show node label"," ",Object(n.jsx)("span",{children:Object(n.jsx)(ye.a,{title:"Show or hide node's label.",placement:"rightTop",children:Object(n.jsx)(Te.a,{style:{color:"red"}})})})]})}),Object(n.jsx)("h5",{children:"Edge settings"}),Object(n.jsxs)(g.a,{span:24,children:[Object(n.jsxs)("p",{children:["Edge label size"," ",Object(n.jsx)("span",{children:Object(n.jsx)(ye.a,{title:"Change edge label size",placement:"rightTop",children:Object(n.jsx)(Te.a,{style:{color:"red"}})})})]}),Object(n.jsx)(ma.a,{value:e.graphSettings.edge_labelSize,min:0,max:100,onChange:function(t){e.changeEdgeLabelSizeSetting(t)},disabled:!e.graphObject})]}),Object(n.jsx)(g.a,{span:24,children:Object(n.jsxs)(ja.a,{style:{fontSize:"10px"},onChange:function(t){var a=t.target.checked;e.changeIsEdgeScaledSetting(a)},checked:d,disabled:!e.graphObject,children:["Scale edge to weight"," ",Object(n.jsx)("span",{children:Object(n.jsx)(ye.a,{title:"Change the thickness of the edge accordin to its weight. (e.g. the higher the transmission score the thicker the line).",placement:"rightTop",children:Object(n.jsx)(Te.a,{style:{color:"red"}})})})]})}),Object(n.jsxs)(g.a,{span:24,children:[Object(n.jsxs)("p",{children:["Scaling factor"," ",Object(n.jsx)("span",{children:Object(n.jsx)(ye.a,{title:"Multiply the thickness of the edge with the scaling factor (positive number greater than zero)",placement:"rightTop",children:Object(n.jsx)(Te.a,{style:{color:"red"}})})})]}),Object(n.jsx)(fa.a,{min:1e-5,disabled:!d||!e.graphObject,step:.1,value:u,onChange:function(t){t>0&&e.changeEdgeScaleFactorSetting(t)}})]}),Object(n.jsx)(g.a,{span:24,children:Object(n.jsxs)(ja.a,{style:{fontSize:"10px"},onChange:function(t){var a=t.target.checked;e.changeIsHideEdgesByCutoff(a)},checked:p,disabled:!e.graphObject,children:["Show partial edges"," ",Object(n.jsx)("span",{children:Object(n.jsx)(ye.a,{title:"Only show edges which have weight within the specified range (min to max) (Note: It doesn't remove the edges but only hide it to the background)",placement:"rightTop",children:Object(n.jsx)(Te.a,{style:{color:"red"}})})})]})}),Object(n.jsxs)(g.a,{span:11,children:[Object(n.jsx)("p",{children:"Minimum"}),Object(n.jsx)(fa.a,{min:0,disabled:!p||!e.graphObject,step:.1,value:b.min,onChange:function(t){if(t>=0){var a={min:t,max:b.max};e.changeEdgesHideCutoff(a)}}})]}),Object(n.jsxs)(g.a,{span:11,children:[Object(n.jsx)("p",{children:"Maximum"}),Object(n.jsx)(fa.a,{min:0,disabled:!p||!e.graphObject,step:.1,value:b.max,onChange:function(t){if(t>0){var a={min:b.min,max:t};e.changeEdgesHideCutoff(a)}}})]}),Object(n.jsxs)(g.a,{span:24,children:[Object(n.jsx)("h5",{children:"Download settings"}),Object(n.jsxs)("p",{children:["Type"," ",Object(n.jsx)("span",{children:Object(n.jsx)(ye.a,{title:"Type of file to be downloaded:  [1]Graph image (SVG) [2]Graph object file (DOT format: suitable for visualization with HAIviz) [3]Clustering result (CSV).",placement:"rightTop",children:Object(n.jsx)(Te.a,{style:{color:"red"}})})})]}),Object(n.jsxs)(Nt.a,{value:x,style:{width:"100%"},onChange:function(t){e.changeExportFormatSetting(t)},disabled:!e.graphObject&&!e.graphClusters,children:[Object(n.jsx)(Ta,{disabled:!e.graphObject,value:"svg",children:"Graph image (SVG)"}),Object(n.jsx)(Ta,{disabled:!e.graphObject,value:"dot",children:"Graph file (DOT)"}),Object(n.jsx)(Ta,{disabled:!e.graphClusters,value:"clusterID",children:"Clustering result (CSV)"})]})]}),Object(n.jsx)(g.a,{span:24,children:Object(n.jsx)(Oe.a,{disabled:!e.graphClusters&&!e.graphObject,onClick:function(){switch(x){case"clusterID":e.graphClusters?(t=e.graphClusters.members)&&new Oa.ExportToCsv({fieldSeparator:",",filename:"GraphSNP_clusterID",quoteStrings:'"',decimalSeparator:".",showLabels:!0,showTitle:!1,useTextFile:!1,useBom:!0,useKeysAsHeaders:!0}).generateCsv(t):alert("No file: Need to initiate detect cluster first ");break;case"svg":e.changeIsUserDownloadingSetting(!0);break;case"dot":!function(e){var t=-1!==["hierSnpsMetaStayOverlap"].indexOf(e.creator),a=e.nodes,n=e.edges,r=new ya({multigraph:!0});Array.isArray(a)&&a.length>0&&a.forEach((function(e){r.setNode(e)})),Array.isArray(n)&&n.length>0&&n.forEach((function(e){var a=e.source,n=e.target,s=0===e.value||e.value?e.value:"null",i=t?"forward":"none";r.setEdge(a,n,{weight:s,dir:i})})),st("Graph_in_DOT.gv",Sa.write(r))}(e.graphObject)}var t},type:"primary",children:"Download"})})]})})})),Da=a(373);function La(e,t){this.nodes=e,this.edges=t}La.prototype.getSymetricEdges=function(){var e=this.edges;return e=e.filter((function(e){return"upper"===e.part})),new La(this.nodes,e)},La.prototype.getEdgesLowerThanCutoff=function(e){var t=this.edges;return e&&e>0&&(t=t.filter((function(t){return t.value<e}))),new La(this.nodes,t)},La.prototype.getEdgesGreaterThanCutoff=function(e){var t=this.edges;return e&&e>0&&(t=t.filter((function(t){return t.value>e}))),new La(this.nodes,t)};var Na=La,Ca=a(22);var Ma=a(22);var Aa=a(22);function Ia(e){this.stays=e}Ia.prototype.getRangeOfStays=function(){var e,t;return Array.isArray(this.stays)&&this.stays.length>0&&this.stays.forEach((function(a){e=e?e>a.start_date?a.start_date:e:a.start_date,t=t?t<a.end_date?a.end_date:t:a.end_date})),{start_date:e,end_date:t}},Ia.prototype.getLocationLevel=function(){var e;return Array.isArray(this.stays)&&this.stays.length>0&&this.stays.forEach((function(t){var a=nt(t);e?a>e&&(e=a):e=a})),e};var Ua=Ia,ka=Object(Ve.extendMoment)(qe.a),_a=a(22);function Pa(e,t,a,n,r){for(var s=0,i=a.stays.filter((function(e){return nt(e)===r})),o=n.stays.filter((function(e){return nt(e)===r})),c=0;c<i.length;c++)for(var l=i[c],d=ka.range(l.start_date.startOf("day"),l.end_date.endOf("day")),u=0;u<o.length;u++){var p=o[u],h=ka.range(p.start_date.startOf("day"),p.end_date.endOf("day"));if(d.overlaps(h))if(d.intersect(h).diff("days")<=7){var g=rt(l,p);g>s&&(s=g)}}return s}var Ra=a(22),Fa=(Object(Ve.extendMoment)(qe.a),a(1181));function Ga(e){var t,a=e.nodes,n=function(e){var t,a,n,r,s,i={};for(t=0,a=e.length;t<a;t+=1)r=(n=e[t]).source,s=n.target,i[r]?i[r].push(s):i[r]=[s],i[s]?i[s].push(r):i[s]=[r];return i}(e.edges),r=[],s={};for(t in n)n.hasOwnProperty(t)&&!s[t]&&r.push(qa(t,n,s));var i=[];r=r.sort((function(e,t){return t.length-e.length}));var o=[];return r.forEach((function(e,t){Array.isArray(e)&&e.length>0&&e.forEach((function(e){o.push(e),i.push({sample:e,clusterID:t+1})}))})),a.forEach((function(e){-1===o.indexOf(e)&&i.push({sample:e,clusterID:"na"})})),{group:r,members:i}}function qa(e,t,a){var n,r,s,i,o=[],c=[];for(o.push(e),a[e]=!0;o.length>0;)for(e=o.shift(),c.push(e),n=0,r=(s=t[e]).length;n<r;n+=1)a[i=s[n]]||(o.push(i),a[i]=!0);return c}var Va=a(368),za=a(1347),Xa=a(22);function Ha(e,t,a,n,r,s,i,o){var c={creator:null,nodes:null,edges:null};switch(t){case"mcg":var l=function(e,t){var a=Ca.cloneDeep(e),n=[],r=[];a.forEach((function(e,a){r.push(a);for(var s=e.sort((function(e,t){return e.value-t.value})),i=s[0].value,o=0,c=0;c<s.length;c++){if(s[c].value!==i){o=c;break}o=c}o>0&&s.splice(o),null!==t&&t>0&&(s=s.filter((function(e){return e.value<=t}))),n=n.concat(s)}));var s=new Na(r,n).getSymetricEdges();return{nodes:s.nodes,edges:s.edges}}(e,a);c.creator="mcg",c.nodes=l.nodes,c.edges=l.edges;break;case"cathai":var d=function(e,t){var a=Ma.cloneDeep(e),n=[],r=[];a.forEach((function(e,a){r.push(a);var s=e;null!==t&&t>0&&(s=s.filter((function(e){return e.value<=t}))),n=n.concat(s)}));var s=new Na(r,n).getSymetricEdges();return{nodes:s.nodes,edges:s.edges}}(e,a);c.creator="cathai",c.nodes=d.nodes,c.edges=d.edges;break;case"mscg":if(a){var u=function(e,t){var a=Xa.cloneDeep(e),n=(new Map,[]),r=[];a.forEach((function(e,a){if(n.push(a),null!==t&&t>0){var s=e.filter((function(e){return e.value<=t}));r=r.concat(s)}}));var s=new Na(n,r).getSymetricEdges(),i=Ga({nodes:s.nodes,edges:s.edges}),o=[],c=[],l=i.members.filter((function(e){return"na"===e.clusterID}));if(i.group.length>0)for(var d=0;d<i.group.length;d++){var u="Group "+(d+1),p=i.group[d];o.push({id:u,data:{type:"compound",size:p.length,contents:p}});for(var h=d+1;h<i.group.length;h++){var g="Group "+(h+1);u!==g&&function(){var e=i.group[h],t=[];p.forEach((function(n){e.forEach((function(e){var r=a.get(n).filter((function(t){return t.target===e}));t.push(r[0].value)}))})),c.push({source:u,target:g,value:Object(Va.a)(t)})}()}for(var j=function(e){var t=l[e].sample,n=[];p.forEach((function(e){var r=a.get(e).filter((function(e){return e.target===t}));n.push(r[0].value)})),c.push({source:u,target:t,value:Object(Va.a)(n)})},f=0;f<l.length;f++)j(f)}if(l.length>0)for(var b=0;b<l.length;b++){var m=l[b].sample;o.push({id:m,data:{type:"singleton",size:null,contents:null}});for(var x=function(e){var t=l[e].sample;if(m!==t){var n=a.get(m).filter((function(e){return e.target===t}));c.push({source:m,target:t,value:n[0].value})}},O=b+1;O<l.length;O++)x(O)}var y=c.map((function(e){return{from:e.source,to:e.target,weight:e.value}}));return{nodes:o,edges:za.kruskal(y).map((function(e){return{source:e.from,target:e.to,value:e.weight}})),clusterGroup:i}}(e,a);c.creator="mscg",c.nodes=u.nodes,c.edges=u.edges,c.clusterGroup=u.clusterGroup}else alert("Require a cut-off. Please input one.");break;case"cge":var p=function(e,t,a){var n=Aa.cloneDeep(e),r=[],s=[];n.forEach((function(e,t){s.push(t);for(var a=e.sort((function(e,t){return e.value-t.value})),n=a[0].value,i=0,o=0;o<a.length;o++){if(a[o].value!==n){i=o;break}i=o}a.splice(i),r=r.concat(a)}));var i=new Na(s,r).getSymetricEdges(),o=i.edges;return o.forEach((function(e){e.value=1,null!==a&&e.value<=a&&(e.value=e.value+1),t.forEach((function(t,a){-1!==t.indexOf(e.source)&&-1!==t.indexOf(e.target)&&(e.value=e.value+1)}))})),{nodes:i.nodes,edges:o}}(e,n,a);c.creator="cge",c.nodes=p.nodes,c.edges=p.edges;break;case"seqtrack":var h=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=Ra.cloneDeep(e),s=!1,i=[],o=[];function c(e,r){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:t;if(r.length>1){var c=r.map((function(e){return e.day=o.get(e.id).collection_day,e})).sort((function(e,t){return e.day>t.day}));if(n&&s){console.log("with mutation");var l=e.day,d=c.map((function(e){var t=Math.abs(l-e.day),a=Fa(e.snpDist,t*s,i);return e.dayDiff=t,e.probability=a,e})).sort((function(e,t){return e.probability<t.probability}))[0];return{ances:d.id,snpDist:d.snpDist}}var u=c[0];return{ances:u.id,snpDist:u.snpDist}}}function l(e,t,a){for(var n=[],r=0;r<t.length;r++){var s=t[r].id,i=a.get(s).filter((function(t){return t.target===e.id}));n.push({id:s,snpDist:i[0].value})}return n.sort((function(e,t){return e.snpDist-t.snpDist})),n.filter((function(e){return e.snpDist===n[0].snpDist}))}function d(e,t,a){var n={ances:null,snpDist:null},r=t.filter((function(t){return t.day<e.day}));if(0===r.length)return n.ances="NA",n.snpDist="NA",n;if(1===r.length){n.ances=r[0].id;var s=a.get(r[0].id).filter((function(t){return t.target===e.id}));return n.snpDist=s[0].value,n}var i=l(e,r,a);if(i.length>1){var o=c(e,i);return n.ances=o.ances,n.snpDist=o.snpDist,n}return n.ances=i[0].id,n.snpDist=i[0].snpDist,n}if(r.forEach((function(e,a){var n=a,r=t.get(a),c=r&&r.collection_day?r.collection_day:null;r&&c?i.push({id:n,day:c}):(s=!0,o.push(n))})),s&&alert("No collection day data for id(s): ",o.join(", ")),s){return{nodes:null,edges:null}}for(var u=new Map,p=0;p<i.length;p++){var h=i[p],g=d(h,i,r);u.set(h.id,g)}var j={nodes:[],edges:[]};return u.forEach((function(e,t){j.nodes.push(t),"NA"!==e.ances&&j.edges.push({source:e.ances,target:t,value:e.snpDist,dir:"forward"})})),j}(e,s,o);c.creator="seqtrack",c.nodes=h.nodes,c.edges=h.edges;break;case"hierSnpsMetaStayOverlap":var g=function(e,t,a,n,r){var s=_a.cloneDeep(e),i=_a.cloneDeep(a),o=[],c=[];s.forEach((function(e,a){c.push(a);var n=e;null!==t&&t>0&&(n=n.filter((function(e){return e.value<=t}))),o=o.concat(n)}));var l=[],d=[];if(o.length>0)for(var u=0;u<o.length;u++){var p=o[u],h=n.get(p.source).patient_id,g=n.get(p.target).patient_id,j=ka(n.get(p.source).sample_date),f=ka(n.get(p.target).sample_date),b=i.get(h)?new Ua(i.get(h)):null,m=i.get(g)?new Ua(i.get(g)):null;if(b instanceof Ua&&m instanceof Ua&&Array.isArray(b.stays)&&Array.isArray(m.stays)&&b.stays.length>0&&m.stays.length>0){var x=b.getLocationLevel(),O=m.getLocationLevel(),y=Math.min(x,O)?Math.min(x,O):null;if(y){var S=b.getRangeOfStays(),v=m.getRangeOfStays(),T=ka.range(S.start_date.startOf("day"),S.end_date.endOf("day")),w=ka.range(v.start_date.startOf("day"),v.end_date.endOf("day"));if(T.overlaps(w))if(f.isAfter(j,"day")){var E=Pa(0,0,b,m,y);p.dir="forward",p.value=1+E,l.push(p)}else p.dir="none",p.value=1,d.push(p);else p.dir="none",p.value=1,d.push(p)}else p.dir="none",p.value=1,d.push(p)}else p.dir="none",p.value=1,d.push(p)}return l=l.filter((function(e){return e.value>=r})),{nodes:c,edges:l}}(e,a,r,s,i);c.creator="hierSnpsMetaStayOverlap",c.nodes=g.nodes,c.edges=g.edges}return c}encodeURI('data:image/svg+xml;utf-8,<svg width="600" height="600" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.5;">\n    <g transform="matrix(1.07821,0,0,1.07821,301.019,300.574)">\n        <circle cx="0" cy="0" r="268" style="fill:none;stroke:black;stroke-width:7.69px;"/>\n    </g>\n</svg>');var Ja=a(1350);function Ba(e,t){var a=null;if(e.clusterGroup)a=e.clusterGroup;else switch(t){case"Connected Components":a=Ga(e);break;case"Louvain":a=function(e){var t=e.edges,a=e.nodes,n=[];t.forEach((function(e){n.push(e.source,e.target)})),n=n.filter(Ke);var r=new Map,s=[],i=Ja.jLouvain().nodes(n).edges(t)(),o=[];for(var c in i){o.push(c);var l=i[c]+1;if(s.push({sample:c,clusterID:l}),r.get(l)){var d=r.get(l);d.push(c),r.set(l,d)}else r.set(l,[c])}var u=[];return r.forEach((function(e,t){u.push(e)})),a.forEach((function(e){-1===o.indexOf(e)&&s.push({sample:e,clusterID:"na"})})),console.log("Louvain",u,s),{group:u,members:s}}(e)}return a}var Wa=a(156),Ya=a.n(Wa),Qa=a(600),Ka=a.n(Qa),Za=a(601),$a=a.n(Za),en=a(22),tn=a(1356),an=a(1359),nn=a(1361);Ya.a.use($a.a),Ya.a.use(tn),Ya.a.use(an),Ya.a.use(Ka.a),Ya.a.use(nn);var rn=Object(b.b)((function(e){return{metadata:e.metadata,patientMovement:e.patientMovement,sequence:e.sequence,graphObject:e.graphObject,hammMatrix:e.hammMatrix,graphSettings:e.graphSettings,colorLUT:e.colorLUT,graphClusters:e.graphClusters,categoricalMap:e.categoricalMap,selectedNode:e.selectedNode}}),(function(e){return Object(m.b)({changeIsUserClusteringSetting:Kt,changeIsUserReDrawSetting:Bt,hmmMatrixToStore:Ae,graphObjectToStore:Ie,graphClusterToStore:Ue,colorLUTtoStore:wt,changeIsUserDownloadingSetting:ra,changeChartSessionSetting:oa,changeIsUserLoadSessionSetting:ca,changeSelectedNode:la,isShowingLoadingModalToStore:va,changeIsUserRelayoutSetting:da},e)}))((function(e){var t=Object(r.useState)(!1),a=Object(qt.a)(t,2),i=a[0],o=a[1],c=Object(r.useState)(!1),l=Object(qt.a)(c,2),d=l[0],u=l[1],p=(e.graphSettings.typeOfAnalysis,e.graphSettings.method),h=e.graphSettings.layout,j=e.graphSettings.isUserReDraw,f=e.graphSettings.isUserFilteringEdge?e.graphSettings.edgeFilterCutoff:null,b=e.graphSettings.clusterMethod,m=e.graphSettings.isUserClustering,x=e.graphSettings.isHideEdgesByCutoff,O=e.graphSettings.hiddenEdgesCutoff,y=e.graphSettings.colorNodedBy,S=e.graphSettings.isEdgeScaled,v=e.graphSettings.edgeScaleFactor,T=e.graphSettings.isUserDownloading,w=e.graphSettings.transIncludeLocLevel,E=e.graphSettings.isUserRelayout,D=e.graphSettings.node_isLabelShown,L=e.graphSettings.edge_labelSize,N={name:h,animate:!1,fit:!0},C=Object(r.useRef)(null),M=e.graphSettings.chartSession,A=e.graphSettings.isUserReloadSession,I="6px";Object(r.useEffect)((function(){j&&setTimeout((function(){!function(){var t=e.hammMatrix?e.hammMatrix:new ct(e.sequence).getHammingMatrix(),a=e.sequence?e.sequence[0].size:null,n=Ha(t,p,f,e.categoricalMap,e.patientMovement,e.metadata,w,a);if(n&&n.nodes&&n.edges){var r=function(e){var t=[],a=e.creator,n=e.nodes;return e.edges.forEach((function(e){t.push({data:{source:e.source,target:e.target,weight:e.value,dir:"forward"===e.dir?"forward":"none"}})})),"mscg"===a?n.forEach((function(e){var a=e.data;a&&"compound"===a.type?(t.push({data:{id:e.id,data:a}}),a.contents.forEach((function(a){t.push({data:{id:a,parent:e.id,data:{type:"singleton",size:null,contents:null}}})}))):t.push({data:{id:e.id,data:a}})})):n.forEach((function(e){t.push({data:{id:e,data:{type:"singleton",size:null,contents:null}}})})),t}(n);if(r){if(M)M.unmount();var s=Ya()({elements:r,container:document.getElementById("graph-cont-cytoscape-canvas"),pannable:!0,selected:!0,boxSelectionEnabled:!1,style:[{selector:"node",style:{shape:"mscg"===p?"round-rectangle":"circle",width:function(e){var t=e.data("data");return t&&t.size?7*t.size:6},height:function(e){var t=e.data("data");return t&&t.size?7*t.size:6},label:"data(id)","text-wrap":"none","text-valign":function(e){var t=e.data("data");return t&&t.size?"center":"top"},"font-size":I,"border-width":1,"border-style":"solid","border-color":"black","background-color":function(t){return y&&e.colorLUT?et(t.data("id"),y,e.colorLUT):"lightgray"}}},{selector:":parent",shape:"round-rectangle",style:{"background-image":"none","padding-top":"5px","background-position-x":"0","background-position-y":"0","background-width":"100%","background-height":"100%","background-fit":"contain","background-opacity":"0","border-width":"1","text-valign":"top","text-halign":"center"}},{selector:"edge",style:{opacity:function(e){var t=e.data("weight");return x&&(t<O.min||t>O.max)?0:1},label:"data(weight)","font-size":String(L)+"px","text-background-color":"#F5E372",color:"red",width:function(e){return tt(S,e.data("weight"),v,"edge")},"target-arrow-color":"black","target-arrow-shape":function(e){return"forward"===e.data("dir")?"triangle":"none"},"curve-style":"bezier","arrow-scale":function(e){return tt(S,e.data("weight"),v,"arrow")}}},{selector:":selected",style:{"border-width":2,"border-color":"red","border-style":"double"}}]});if("spread"===h){var i={name:"cose",animate:!1,fit:!0,prelayout:!1};s.layout(i).run()}else s.layout(N).run();s.selectionType("single"),s.nodes().bind("tap",(function(t){var a=t.target.data("data"),n=a&&a.size?a.contents:[t.target.data("id")];s.elements("node:selected").map((function(e){return e?e.id():null}));e.changeSelectedNode(n)})),s.on("tap",(function(t){t.target===s&&e.changeSelectedNode([])})),C.current=s,e.hammMatrix&&e.hmmMatrixToStore(t),e.graphObjectToStore(n),e.changeChartSessionSetting(s)}}}(),o(!0),e.changeIsUserReDrawSetting(!1),e.isShowingLoadingModalToStore(!1)}),100)}),[j]),Object(r.useEffect)((function(){A&&setTimeout((function(){!function(){var e=M;e.unmount(),e.mount(document.getElementById("graph-cont-cytoscape-canvas")),C.current=e}(),o(!0),e.changeIsUserLoadSessionSetting(!1),e.isShowingLoadingModalToStore(!1)}),100)}),[A]),Object(r.useEffect)((function(){T&&(st("GraphSNP-cytoscape-svg.svg",C.current.svg({scale:1,full:!0})),e.changeIsUserDownloadingSetting(!1))}),[T]),Object(r.useEffect)((function(){m&&e.graphObject&&(u(!0),setTimeout((function(){var t=Ba(e.graphObject,b);u(!1),xe.b.success("Found ".concat(t.group.length," clusters in the graph"),2);var a=Ze(t.members,"clusterID"),n=en.cloneDeep(e.colorLUT);n?n=Object(Da.a)(Object(Da.a)({},n),{},{clusterID:a}):n={clusterID:a};e.colorLUTtoStore(n),e.graphClusterToStore(t),e.changeIsUserClusteringSetting(!1)}),100))}),[b,m]),Object(r.useEffect)((function(){E&&C.current&&setTimeout((function(){var t=C.current,a={name:h,animate:!1,fit:!0,prelayout:!1};t.layout(a).run(),C.current=t,e.isShowingLoadingModalToStore(!1),e.changeIsUserRelayoutSetting(!1)}),100)}),[E]),Object(r.useEffect)((function(){if(e.graphObject&&C.current){var t=C.current;S?(t.style().selector("edge").style({width:function(e){return tt(S,e.data("weight"),v,"edge")},"arrow-scale":function(e){return tt(S,e.data("weight"),v,"arrow")}}).update(),C.current=t):(t.style().selector("edge").style({width:3,"arrow-scale":1}).update(),C.current=t)}}),[S,v]),Object(r.useEffect)((function(){if(e.graphObject&&C.current){var t=C.current;x?(t.style().selector("edge").style({opacity:function(e){var t=e.data("weight");return x&&(t<O.min||t>O.max)?0:1}}).update(),C.current=t):(t.style().selector("edge").style({opacity:1}).update(),C.current=t),C.current=t}}),[x,O]),Object(r.useEffect)((function(){if(y&&e.colorLUT&&C.current){var t=C.current;t.style().selector("node").style({"background-color":function(t){return et(t.data("id"),y,e.colorLUT)}}).update(),C.current=t}}),[y,e.colorLUT]),Object(r.useEffect)((function(){if(C.current){var e=C.current;D?e.style().selector("node").style({"font-size":I}).update():e.style().selector("node").style({"font-size":"0px"}).update(),C.current=e}}),[D]),Object(r.useEffect)((function(){if(C.current){var e=C.current;e.style().selector("edge").style({"font-size":String(L)+"px"}).update(),C.current=e}}),[L]),Object(r.useEffect)((function(){if(e.selectedNode&&C.current){var t=C.current;e.selectedNode.length>=1?e.selectedNode.forEach((function(e){t.filter('node[id = "'.concat(e,'"]')).select()})):t.filter("node").unselect(),C.current=t}}),[e.selectedNode]);return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsxs)(g.a,{span:24,style:{position:"relative"},children:[Object(n.jsx)("div",{id:"graph-cont-is-empty",style:{display:i?"none":"block"},children:Object(n.jsx)(Gt.a,{description:M?"Reload previous graph":"No graph. Create one",image:Gt.a.PRESENTED_IMAGE_SIMPLE,children:M&&Object(n.jsx)(Oe.a,{onClick:function(t){A||(e.isShowingLoadingModalToStore(!0),e.changeIsUserLoadSessionSetting(!0))},type:"primary",children:Object(n.jsx)(xa.a,{})})})}),Object(n.jsx)("div",{id:"graph-cont-is-processing",style:{display:d?"block":"none"},children:Object(n.jsxs)("p",{style:{textAlign:"right"},children:[Object(n.jsx)("span",{children:Object(n.jsx)(be.a,{style:{fontSize:18},spin:!0})})," ","Creating graph ..."]})})]}),Object(n.jsx)("div",{id:"graph-cont-cytoscape-canvas"})]})})),sn=Ft.a.Sider,on=Ft.a.Content;var cn=Object(b.b)((function(e){return{hammingMatrix:e.hammMatrix}}),(function(e){return Object(m.b)({},e)}))((function(e){return Object(n.jsx)(s.a.Fragment,{children:Object(n.jsxs)(Ft.a,{children:[Object(n.jsx)(sn,{id:"graphsnp-sider",children:Object(n.jsx)(Ea,{})}),Object(n.jsxs)(Ft.a,{id:"graphsnp-container",children:[e.hammingMatrix&&Object(n.jsxs)(on,{children:[Object(n.jsx)(ga,{}),Object(n.jsx)(rn,{})]}),!e.hammingMatrix&&Object(n.jsx)(on,{children:Object(n.jsx)(g.a,{span:24,children:Object(n.jsx)("div",{id:"graph-cont-is-empty",style:{display:"block"},children:Object(n.jsx)(Gt.a,{description:"No input: Load one.",image:Gt.a.PRESENTED_IMAGE_SIMPLE})})})})]})]})})})),ln=a(1456),dn=a(133),un=(a(267),ln.a.Title),pn=ln.a.Text,hn=function(e){return Object(n.jsx)(s.a.Fragment,{children:Object(n.jsxs)("div",{className:"graphsnp-docs-content",children:[Object(n.jsxs)(un,{level:2,underline:!0,children:[" ","GraphSNP: What is it?"," "]}),Object(n.jsx)(pn,{children:"GraphSNP is a web-based application to create and visualise network of pairwise SNP distances for outbreak cluster and transmission analysis. It is a client-side and standalone version of integrated cluster analysis platform CATHAI: Cluster Analysis for Healthcare-Associated Infections (https://cathai.fordelab.com/)"}),Object(n.jsx)(un,{level:3,children:"When to use "}),Object(n.jsx)(pn,{children:"You can use GraphSNP for:"}),Object(n.jsxs)("ul",{children:[Object(n.jsxs)("li",{children:["Rapid outbreak network visualization:"," ",Object(n.jsx)("b",{children:"No instalation required, drag and drop input files, interactive and easy to use."})]}),Object(n.jsxs)("li",{children:[" ",Object(n.jsx)("b",{children:"Visualize distribution "})," of pairwise SNP distances from a multi-fasta SNPs aligment"," "]}),Object(n.jsxs)("li",{children:[" ",Object(n.jsx)("b",{children:"Create network "}),"of pairwise SNP distances and"," ",Object(n.jsx)("b",{children:"apply SNPs cutoff "}),"for cluster analysis"]}),Object(n.jsxs)("li",{children:[Object(n.jsx)("b",{children:"Automatic cluster detection "})," based on community detection algorithms"]}),Object(n.jsxs)("li",{children:[" ",Object(n.jsx)("b",{children:"Create transmission tree "})," based on SNPs and collection day"," "]})]}),Object(n.jsx)(un,{level:3,children:"How to use "}),Object(n.jsxs)(pn,{children:["Load at least a multi-fasta SNPs alignment file as the input file then drag and drop it to",Object(n.jsxs)(dn.a,{to:"/graphsnp",onClick:function(){e.changeNavLocation("graphsnp")},children:[" ","GraphSNP page."]})," ","You can also add other information on a metadata input file."]}),Object(n.jsx)(un,{level:3,children:"User Manual "}),Object(n.jsxs)(pn,{children:["For more detailed information about GrapSNP, please download GraphSNP user manual below.",Object(n.jsx)("br",{}),Object(n.jsx)("br",{})]}),Object(n.jsx)(Oe.a,{type:"danger",href:ge,children:"Download GraphSNP User Manual"}),Object(n.jsx)(ba.a,{})]})})},gn=ln.a.Title,jn=(ln.a.Paragraph,ln.a.Text),fn=function(e){return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsxs)("div",{className:"graphsnp-docs-content",children:[Object(n.jsxs)(gn,{level:2,underline:!0,children:[" ","Input file(s)"," "]}),Object(n.jsx)(gn,{level:3,children:"A multi-fasta SNPs alignment"}),Object(n.jsx)(jn,{children:"SNPs alignment file must contain at least two equally length of fasta-formatted non-gap nucleotide sequences."}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)(Oe.a,{type:"primary",href:ue,children:"Download a SNPs alignment example file"}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)(gn,{level:3,children:"A distance matrix"}),Object(n.jsx)(jn,{children:"User can also input the pairwise distances matrix instead of SNP alignment. The symmetric matrix should be written in comma-separated value (CSV) format."}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)(Oe.a,{type:"primary",href:he,children:"Download a distance matrix example file"}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)(gn,{level:3,children:"Metadata table"}),Object(n.jsx)(jn,{children:"Metadata table must contain at least one non-empty column of sample_id. Sample identifier must be identical on both metadata and SNPs alignment or matrix."}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)(Oe.a,{type:"primary",href:pe,children:"Download a metadata example file"}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{})]}),Object(n.jsx)(ba.a,{})]})},bn=ln.a.Title,mn=ln.a.Text,xn=function(e){return Object(n.jsx)(s.a.Fragment,{children:Object(n.jsxs)("div",{className:"graphsnp-docs-content",children:[Object(n.jsxs)(bn,{level:2,underline:!0,children:["Browser compatibility"," "]}),"GraphSNP was boostrapped using Create React App (CRA) tool and so it works on majority of modern browsers. Except Internet Explorer (IE), GraphSNP was tested and compatible on the following desktop browsers:",Object(n.jsxs)("ul",{children:[Object(n.jsx)("li",{children:" Microsoft Edge "}),Object(n.jsx)("li",{children:" Safari"}),Object(n.jsx)("li",{children:" Chrome"}),Object(n.jsx)("li",{children:" Firefox"}),Object(n.jsx)("li",{children:" Opera"})]}),Object(n.jsx)(bn,{level:3,children:"Core libraries"}),Object(n.jsxs)(mn,{children:["Thanks to all the frameworks and libraries run on the background, GraphSNP is now up and running and available worldwide. These are some of key frameworks and libraries used by GraphSNP:",Object(n.jsxs)("ul",{children:[Object(n.jsx)("li",{children:Object(n.jsx)("a",{href:"https://reactjs.org/",target:"_blank",rel:"noopener noreferrer",children:"React.js"})}),Object(n.jsx)("li",{children:Object(n.jsx)("a",{href:"https://d3js.org/",target:"_blank",rel:"noopener noreferrer",children:"Data-Driven Documents (D3.js)"})}),Object(n.jsx)("li",{children:Object(n.jsx)("a",{href:"https://ant.design/",target:"_blank",rel:"noopener noreferrer",children:"Ant design UI"})}),Object(n.jsx)("li",{children:Object(n.jsx)("a",{href:"https://js.cytoscape.org/",target:"_blank",rel:"noopener noreferrer",children:"Cytoscape"})}),Object(n.jsx)("li",{children:"Create React App, cytoscape-svg, dotparser, export-to-csv, lodash, moment, moment-range, react-color, react-faux-dom, react-measure, react-player, redux, react router etc."})]})]}),Object(n.jsx)(bn,{level:3,children:"Have any questions? "}),Object(n.jsxs)(mn,{children:["Please feel free to send it to my email:"," ",Object(n.jsx)("span",{style:{weight:"bold",color:"blue"},children:"b.permana@uq.edu.au"})]}),Object(n.jsxs)(bn,{level:2,underline:!0,children:["Cite us"," "]}),Object(n.jsx)(mn,{children:"If you use GraphSNP in your publication, please cite our web application: GraphSNP:https://graphsnp.beatsonlab.com and CATHAI: https://cathai.fordelab.com/cathai/"}),Object(n.jsx)(ba.a,{})]})})};var On=Object(b.b)(null,(function(e,t){return Object(m.b)({changeNavLocation:fe},e)}))((function(e){return Object(n.jsx)(s.a.Fragment,{children:Object(n.jsxs)(Ft.a,{id:"page-documentation",children:[Object(n.jsx)(hn,{changeNavLocation:e.changeNavLocation}),Object(n.jsx)(fn,{}),Object(n.jsx)(xn,{})]})})}));a(570);function yn(e){return{type:ee,payload:e}}function Sn(e){return{type:te,payload:e}}function vn(e){return{type:ae,payload:e}}function Tn(e){return{type:ne,payload:e}}function wn(e){return{type:ie,payload:e}}function En(e){return{type:oe,payload:e}}function Dn(e){return{type:ce,payload:e}}function Ln(e){return{type:le,payload:e}}function Nn(e){return{type:de,payload:e}}var Cn=Nt.a.Option,Mn=Object(n.jsx)(be.a,{style:{fontSize:34},spin:!0});var An=Object(b.b)((function(e){return{snpDistSettings:e.snpDistSettings,hammingMatrix:e.hammMatrix,colorLUT:e.colorLUT,metadata:e.metadata,isShowingLoadingModal:e.isShowingLoadingModal}}),(function(e){return Object(m.b)({dist_changeDataToDisplay:yn,dist_changeDataColumn:Sn,dist_changeDataColumnLevel:vn,dist_changeChartOrientation:Tn,dist_changeExportFormat:wn,dist_changeIsUserDraw:En,dist_changeIsUserExport:Dn},e)}))((function(e){var t=e.metadata?Array.from(e.metadata.values()):null,a=e.snpDistSettings.dataToDisplay,r=e.snpDistSettings.dataColumn,i=e.snpDistSettings.dataColumnLevel,o=(e.snpDistSettings.chartOrientation,e.snpDistSettings.snpDistExportFormat),c=e.snpDistSettings.isUserDrawChart,l=e.snpDistSettings.isUserExportSnpDist;return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(h.a,{children:Object(n.jsx)(g.a,{xs:24,id:"header-content",children:Object(n.jsx)(j.a,{visible:e.isShowingLoadingModal,closable:!1,centered:!0,width:0,footer:null,bodyStyle:{textAlign:"center",padding:"0px"},children:Object(n.jsx)(f.a,{indicator:Mn,style:{color:"white"},tip:"Preparing Chart",size:"large"})})})}),Object(n.jsxs)(h.a,{gutter:[8,8],children:[Object(n.jsxs)(g.a,{span:24,children:[Object(n.jsx)("h5",{children:"Visualization settings"}),Object(n.jsxs)("p",{children:["Select samples"," ",Object(n.jsx)("span",{children:Object(n.jsx)(ye.a,{title:"Select group of sample for bar chart visualization.",placement:"rightTop",children:Object(n.jsx)(Te.a,{style:{color:"red"}})})})]}),Object(n.jsxs)(Nt.a,{value:a,style:{width:"100%"},disabled:!e.hammingMatrix,onChange:function(t){e.dist_changeDataToDisplay(t)},children:[Object(n.jsx)(Cn,{value:"all",children:"All samples"}),Object(n.jsx)(Cn,{disabled:!e.metadata,value:"per-category",children:"Specific group (metadata)"})]})]}),"per-category"===a&&e.hammingMatrix&&e.metadata&&Object(n.jsxs)(g.a,{span:24,children:[Object(n.jsxs)("p",{children:["Select metadata column"," ",Object(n.jsx)("span",{children:Object(n.jsx)(ye.a,{title:"Column in metadata which group of sample to be displayed",placement:"rightTop",children:Object(n.jsx)(Te.a,{style:{color:"red"}})})})]}),Object(n.jsx)(Nt.a,{value:r,style:{width:"100%"},disabled:"per-category"!==a||!e.hammingMatrix||!e.metadata,onChange:function(t){e.dist_changeDataColumn(t)},children:e.colorLUT&&Object.keys(e.colorLUT)?Object.keys(e.colorLUT).map((function(e,t){return function(e,t){if(-1===["sample_date","patient_id"].indexOf(e))return Object(n.jsx)(Cn,{disabled:!1,value:e,children:e},t)}(e,t)})):["na"].map((function(e,t){return Object(n.jsx)(Cn,{disabled:!1,value:e,children:e},t)}))})]}),"per-category"===a&&r&&e.metadata&&t&&Object(n.jsxs)(g.a,{span:24,children:[Object(n.jsxs)("p",{children:["Select group"," ",Object(n.jsx)("span",{children:Object(n.jsx)(ye.a,{title:"Categorical group from the selected metadata column",placement:"rightTop",children:Object(n.jsx)(Te.a,{style:{color:"red"}})})})]}),Object(n.jsx)(Nt.a,{value:i,style:{width:"100%"},disabled:!("all"!==a&&r&&e.metadata&&t),onChange:function(t){e.dist_changeDataColumnLevel(t)},children:r&&t?function(e,t){if(e&&t){var a=e.map((function(e){return e[t]})).filter(Ke);return Array.isArray(a)&&a.length>0?(a.unshift("INTER-Group"),a.unshift("INTRA-Group"),a):["#na_exluded!"]}return["#na_exluded!"]}(t,r).map((function(e,t){return function(e,t){if(-1===["#na_exluded!"].indexOf(e))return Object(n.jsx)(Cn,{disabled:!1,value:e,children:e},t)}(e,t)})):["na"].map((function(e,t){return Object(n.jsx)(Cn,{disabled:!1,value:e,children:e},t)}))})]}),Object(n.jsx)(g.a,{span:24,children:Object(n.jsx)(Oe.a,{disabled:!e.hammingMatrix,onClick:function(t){c||e.dist_changeIsUserDraw(!0)},type:"primary",children:"Create Bar chart"})}),Object(n.jsx)(ba.a,{style:{margin:"10px 0px 0px 0px"}}),Object(n.jsxs)(g.a,{span:24,children:[Object(n.jsx)("h5",{children:"Download settings"}),Object(n.jsxs)("p",{children:["Type"," ",Object(n.jsx)("span",{children:Object(n.jsx)(ye.a,{title:"Type of file to be downloaded: Table of pairwise SNP distances (CSV) or Displayed bar chart (SVG)",placement:"rightTop",children:Object(n.jsx)(Te.a,{style:{color:"red"}})})})]}),Object(n.jsxs)(Nt.a,{disabled:!e.hammingMatrix,value:o,onChange:function(t){e.dist_changeExportFormat(t)},style:{width:"100%"},children:[Object(n.jsx)(Cn,{disabled:!e.hammingMatrix,value:"symSnpDist",children:"Table of pairwise SNP distances (CSV)"}),Object(n.jsx)(Cn,{value:"barChartSvg",children:"Bar chart (SVG)"})]})]}),Object(n.jsx)(g.a,{span:24,children:Object(n.jsx)(Oe.a,{disabled:!e.hammingMatrix,onClick:function(t){console.log("downlaod handlers"),l||e.dist_changeIsUserExport(!0)},type:"primary",children:"Download"})})]})]})})),In=a(1453),Un=a(184),kn=a(1451),_n=a(371),Pn=a(614),Rn=a(1449),Fn=a(1450),Gn=a(1460),qn=a(1434),Vn=a(1466);function zn(e,t,a,n,r,s,i,o){var c=n.length,l=parseFloat(Va.a(n)).toFixed(0),d=parseFloat(_n.a(n)).toFixed(0),u=parseFloat(Pn.a(n,.25)).toFixed(1),p=parseFloat(Pn.a(n,.75)).toFixed(1),h=parseFloat(Rn.a(n)).toFixed(1),g=parseFloat(Fn.a(n)).toFixed(1),j=r,f=s-30,b=Gn.a(n,(function(e){return e.length}),(function(e){return e})),m=Array.from(b.entries()),x=Array.from(b.keys()),O=Array.from(b.values()),y=Un.a().range([f,0]),S=kn.a().range([0,j]),v=j/(qn.a(0,_n.a(x)).length+1),T=y;T.domain([0,_n.a(O)]);var w=S;w.domain(qn.a(0,_n.a(x)+1));var E=Vn.b().scale(T),D=Vn.a().scale(w).tickValues(function(e){var t=e.length;return t<=10?e.filter((function(e,t){return!(t%1)})):t>10&&t<=100?e.filter((function(e,t){return!(t%5)})):t>100&&t<=1e3?e.filter((function(e,t){return!(t%25)})):t>1e3&&t<=1e4?e.filter((function(e,t){return!(t%50)})):t>1e4?e.filter((function(e,t){return!(t%100)})):void 0}(w.domain())),L={dataColumn:e,dataColumnLevel:t,type:"regular",w:r,h:s,margin:i,data_len:c,data_min:l,data_max:d,data_q1:u,data_q3:p,data_median:h,data_mean:g,margin_stats:30,cont_bar_w:j,cont_bar_h:f,barData:m,bar_bandWidth:v,bar_linear_scale_x:T,bar_band_scale_y:w,bar_axis_x:E,bar_axis_y:D};Xn(a,L),o(L)}function Xn(e,t){var a=t.dataColumn,n=t.dataColumnLevel,r=t.w,s=t.h,i=t.margin,o=t.data_len,c=t.data_min,l=t.data_max,d=t.data_q1,u=t.data_q3,p=t.data_median,h=t.data_mean,g=t.margin_stats,j=t.cont_bar_w,f=t.cont_bar_h,b=t.barData,m=t.bar_bandWidth,x=t.bar_linear_scale_x,O=t.bar_band_scale_y,y=t.bar_axis_x,S=t.bar_axis_y;e.attr("width",r+i.left+i.right).attr("height",s+i.top+i.bottom);var v=e.append("g").attr("id","snpdist_svgGroup").attr("transform","translate("+i.left+","+i.top+")scale(1)"),T=["Pairwise SNP-distances: (n=",o,"); "," Min: ",c,", Q1:",d,", Mean:",h,", Median:",p,", Q3:",u,", Max:",l].join("");v.append("g").attr("id","barchart-stats-g").append("text").attr("x",0).attr("y",g/2).text(T);var w=v.append("g").attr("id","barchart-g").attr("transform","translate(0,"+g+")scale(1)");w.append("g").attr("id","barchart-axis-y").attr("transform","translate(0,"+f+")scale(1)").call(S),w.append("g").attr("id","h-axis-label-g").attr("transform","translate("+j/2+","+f+")scale(1)").append("text").attr("id","h-axis-label").attr("text-anchor","middle").attr("x",0).attr("y",35).style("font-size","8pt").text((function(){return a&&"All samples"===a?"Pairwise SNP-distance (All samples)":"Pairwise SNP-distance ("+a+": "+n+")"})),w.append("g").attr("id","barchart-axis-x").attr("transform","translate(-5,0)scale(1) ").call(y),w.append("g").attr("id","v-axis-label-g").attr("transform","translate(-5,"+f/2+")scale(1) rotate(-90)").append("text").attr("id","v-axis-label").attr("text-anchor","middle").attr("x",0).attr("y",-35).style("font-size","8pt").text("Count"),w.append("g").attr("id","bar-group").selectAll(".barchart-bar").data(b).enter().append("rect").attr("class","barchart-bar").attr("stroke","white").attr("stroke-width","0.5px").attr("fill","gray").attr("x",(function(e){return O(e[0])})).attr("y",(function(e){return x(e[1])})).attr("width",(function(e){return m})).attr("height",(function(e){return Math.abs(x(e[1])-x(0))}))}a(22);var Hn=Object(b.b)((function(e){return{snpDistSettings:e.snpDistSettings,hammingMatrix:e.hammMatrix,metadata:e.metadata}}),(function(e){return Object(m.b)({dist_changeIsUserDraw:En,dist_changeIsUserExport:Dn,dist_changeChartSession:Ln,dist_changeIsUserLoadSession:Nn,isShowingLoadingModalToStore:va},e)}))((function(e){var t=Object(r.useRef)(),a=Object(r.useRef)(),s=100*Math.max(document.documentElement.clientWidth,window.innerWidth||0)/100-200-20,i=at(100)-120-20,o={top:20,right:20,bottom:40,left:60},c=s-o.left-o.right,l=i-o.top-o.bottom,d=Object(r.useState)(!1),u=Object(qt.a)(d,2),p=u[0],j=u[1],f=e.metadata?Array.from(e.metadata.values()):null,b=e.snpDistSettings.dataToDisplay,m=e.snpDistSettings.dataColumn,x=e.snpDistSettings.dataColumnLevel,O=e.snpDistSettings.snpDistExportFormat,y=e.snpDistSettings.isUserDrawChart,S=e.snpDistSettings.isUserExportSnpDist,v=e.snpDistSettings.chartSession,T=e.snpDistSettings.isUserReloadSession;v&&setTimeout((function(){w(),j(!0)}),10),Object(r.useEffect)((function(){y&&(e.isShowingLoadingModalToStore(!0),setTimeout((function(){!function(){In.a("#snpdist_svgGroup").remove();var t=[],n=[];e.hammingMatrix.forEach((function(e,a){n.push(a),t=t.concat(e)}));var r=new Na(n,t).getSymetricEdges().edges;if("all"===b){var s=r.map((function(e){return e.value}));zn("All samples",null,In.a(a.current),s,c,l,o,e.dist_changeChartSession)}else{var i=null;if("INTRA-Group"===x||"INTER-Group"===x){var d=[null,"NA","N/A","#N/A","#NA","",!1,"false","nil","null",void 0],u=new Map;f.forEach((function(e){-1===d.indexOf(e[m])&&u.set(e.sample_id,e[m])})),i="INTRA-Group"===x?r.filter((function(e){return u.get(e.source)===u.get(e.target)})):r.filter((function(e){return u.get(e.source)!==u.get(e.target)}))}else{var p=(j=m,O=x,f.filter((function(e){return e[j]===O})).map((function(e){return e.sample_id})));i=r.filter((function(e){return-1!==p.indexOf(e.source)&&-1!==p.indexOf(e.target)}))}var h=i?i.map((function(e){return e.value})):[],g=In.a(a.current);zn(m,x,g,h,c,l,o,e.dist_changeChartSession)}var j,O}(),j(!0),e.dist_changeIsUserDraw(!1),e.isShowingLoadingModalToStore(!1)}),10))}),[y]),Object(r.useEffect)((function(){T&&setTimeout((function(){w(),j(!0),e.dist_changeIsUserLoadSession(!1)}),10)}),[T]),Object(r.useEffect)((function(){if(S)switch(O){case"symSnpDist":var t=[],a=[];e.hammingMatrix.forEach((function(e,n){a.push(n),t=t.concat(e)})),!function(e){e&&new Oa.ExportToCsv({fieldSeparator:",",filename:"GraphSNP_symetric_pairwise_snp_differences",quoteStrings:'"',decimalSeparator:".",showLabels:!0,showTitle:!1,useTextFile:!1,useBom:!0,useKeysAsHeaders:!0}).generateCsv(e)}(new Na(a,t).getSymetricEdges().edges),e.dist_changeIsUserExport(!1);break;case"barChartSvg":!function(e){var t=document.querySelector("#".concat(e)),a=new XMLSerializer;"summary-piechart"===e&&(t=document.querySelector("#".concat(e," svg")));var n=a.serializeToString(t);st("GraphSNP-".concat(e,".svg"),n)}("snpdist-chart-svg")}}),[O,S]);function w(){In.a("#snpdist_svgGroup").remove(),Xn(In.a(a.current),v)}return Object(n.jsxs)(h.a,{children:[Object(n.jsx)(g.a,{span:24,children:Object(n.jsx)("div",{id:"snpdist-cont-is-empty",style:{display:"block"},children:Object(n.jsx)(Gt.a,{style:{display:p?"none":"block"},description:v?"Reload previous chart":"No chart, create one ",image:Gt.a.PRESENTED_IMAGE_SIMPLE})})}),Object(n.jsx)(g.a,{ref:t,sm:24,children:Object(n.jsx)("div",{id:"snpdist-chart-container",style:{height:"100%",width:"100%"},children:Object(n.jsx)("svg",{id:"snpdist-chart-svg",ref:a})})})]})})),Jn=Ft.a.Sider,Bn=Ft.a.Content;var Wn=Object(b.b)((function(e){return{hammingMatrix:e.hammMatrix}}),(function(e){return Object(m.b)({},e)}))((function(e){return Object(n.jsx)(s.a.Fragment,{children:Object(n.jsxs)(Ft.a,{children:[Object(n.jsx)(Jn,{id:"snpdist-sider",children:Object(n.jsx)(An,{})}),Object(n.jsxs)(Ft.a,{id:"snpdist-container",children:[e.hammingMatrix&&Object(n.jsx)(Bn,{children:Object(n.jsx)(Hn,{})}),!e.hammingMatrix&&Object(n.jsx)(Bn,{children:Object(n.jsx)(g.a,{span:24,children:Object(n.jsx)("div",{id:"snpdist-cont-is-empty",style:{display:"block"},children:Object(n.jsx)(Gt.a,{description:"No input: Load one.",image:Gt.a.PRESENTED_IMAGE_SIMPLE})})})})]})]})})})),Yn=a(154),Qn=a(1478),Kn=a(76),Zn=Object(Kn.a)();var $n=Object(b.b)((function(e,t){return{navLocation:e.navSettings.navLocation}}),(function(e,t){return Object(m.b)({changeNavLocation:fe},e)}))((function(e){var t=e.navLocation?e.navLocation:function(e){if(!e)return"none";switch(e){case"/":return"home";case"/graphsnp":return"graphsnp";case"/documentation":return"documentation";case"/snpdistance":return"matrix";default:return"none"}}(Zn.location.pathname);return Object(n.jsx)(s.a.Fragment,{children:Object(n.jsxs)(Yn.a,{id:"header-menu",mode:"horizontal",selectedKeys:[t],overflowedIndicator:Object(n.jsx)(Qn.a,{}),children:[Object(n.jsx)(Yn.a.Item,{style:{padding:"0 20px",margin:"0px"},onClick:function(t){e.changeNavLocation(t.key)},children:Object(n.jsx)(dn.b,{to:"/",exact:!0,children:"Input"})},"home"),Object(n.jsx)(Yn.a.Item,{style:{padding:"0 20px",margin:"0px"},onClick:function(t){e.changeNavLocation(t.key)},children:Object(n.jsx)(dn.b,{to:"/snpdistance",children:"Distances"})},"snpdistance"),Object(n.jsx)(Yn.a.Item,{style:{padding:"0 20px",margin:"0px"},onClick:function(t){e.changeNavLocation(t.key)},children:Object(n.jsx)(dn.b,{to:"/graphsnp",children:"Graph"})},"graphsnp"),Object(n.jsx)(Yn.a.Item,{style:{padding:"0 20px",margin:"0px"},onClick:function(t){e.changeNavLocation(t.key)},children:Object(n.jsx)(dn.b,{to:"/documentation",children:"Documentation"})},"documentation")]})})})),er=(a(1430),function(e){return Object(n.jsx)(s.a.Fragment,{children:Object(n.jsxs)(h.a,{id:"main-header",children:[Object(n.jsx)(g.a,{id:"header-navigation",xs:18,children:Object(n.jsx)($n,{})}),Object(n.jsx)(g.a,{id:"header-logo",xs:6,children:Object(n.jsx)("img",{style:{float:"right"},src:"data:image/png;base64,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",alt:"GraphSNP",height:"70px"})})]})})}),tr=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=Object(n.jsxs)(p.d,{children:[Object(n.jsx)(p.b,{exact:!0,path:"/",component:Rt}),Object(n.jsx)(p.b,{path:"/graphsnp",component:cn}),Object(n.jsx)(p.b,{path:"/documentation",component:On}),Object(n.jsx)(p.b,{path:"/snpdistance",component:Wn}),Object(n.jsx)(p.a,{to:"/"})]});return Object(n.jsxs)(p.c,{history:Zn,children:[Object(n.jsx)(er,{}),Object(n.jsx)("main",{children:e})]})}}]),a}(r.Component),ar=function(e,t){switch(t.type){case x:return t.payload;default:return e||mr.projectJSON}},nr=function(e,t){switch(t.type){case E:return t.payload;default:return e||mr.sequence}},rr=function(e,t){switch(t.type){case w:var a=Object.assign({},e);return t.payload&&t.payload!==e.navLocation&&(a.navLocation=t.payload),a;default:return e||mr.navSettings}},sr=function(e,t){switch(t.type){case I:var a=Object.assign({},e);return t.payload&&t.payload!==e.method&&(a.method=t.payload),a;case U:var n=Object.assign({},e);return t.payload&&t.payload!==e.layout&&(n.layout=t.payload),n;case k:var r=Object.assign({},e);return t.payload!==e.isUserReDraw&&(r.isUserReDraw=t.payload),r;case _:var s=Object.assign({},e);return t.payload&&t.payload!==e.edgeFilterCutoff&&(s.edgeFilterCutoff=t.payload),s;case P:var i=Object.assign({},e);return t.payload!==e.isUserFilteringEdge&&(i.isUserFilteringEdge=t.payload),i;case R:var o=Object.assign({},e);return t.payload&&t.payload!==e.clusterMethod&&(o.clusterMethod=t.payload),o;case F:var c=Object.assign({},e);return t.payload!==e.isUserClustering&&(c.isUserClustering=t.payload),c;case G:var l=Object.assign({},e);return t.payload!==e.isEdgeScaled&&(l.isEdgeScaled=t.payload),l;case q:var d=Object.assign({},e);return t.payload!==e.edgeScaleFactor&&(d.edgeScaleFactor=t.payload),d;case V:var u=Object.assign({},e);return t.payload!==e.isHideEdgesByCutoff&&(u.isHideEdgesByCutoff=t.payload),u;case z:var p=Object.assign({},e);return t.payload!==e.hiddenEdgesCutoff&&(p.hiddenEdgesCutoff=t.payload),p;case X:var h=Object.assign({},e);return t.payload&&t.payload!==e.colorNodedBy&&(h.colorNodedBy=t.payload),h;case H:var g=Object.assign({},e);return t.payload&&t.payload!==e.exportFormat&&(g.exportFormat=t.payload),g;case J:var j=Object.assign({},e);return t.payload!==e.isUserDownloading&&(j.isUserDownloading=t.payload),j;case B:var f=Object.assign({},e);return t.payload&&t.payload!==e.transIncludeLocLevel&&(f.transIncludeLocLevel=t.payload),f;case W:var b=Object.assign({},e);return t.payload&&t.payload!==e.typeOfAnalysis&&(b.typeOfAnalysis=t.payload),b;case Y:var m=Object.assign({},e);return t.payload!==e.chartSession&&(m.chartSession=t.payload),m;case Q:var x=Object.assign({},e);return t.payload!==e.isUserReloadSession&&(x.isUserReloadSession=t.payload),x;case K:var O=Object.assign({},e);return t.payload!==e.isUserRelayout&&(O.isUserRelayout=t.payload),O;case Z:var y=Object.assign({},e);return t.payload!==e.node_isLabelShown&&(y.node_isLabelShown=t.payload),y;case $:var S=Object.assign({},e);return t.payload!==e.edge_labelSize&&(S.edge_labelSize=t.payload),S;default:return e||mr.graphSettings}},ir=function(e,t){switch(t.type){case D:return t.payload;default:return e||mr.metadata}},or=function(e,t){switch(t.type){case N:return t.payload;default:return e||mr.patientMovement}},cr=function(e,t){switch(t.type){case O:return t.payload;default:return e||mr.isInputLoading}},lr=function(e,t){switch(t.type){case S:return t.payload;default:return e||mr.graphObject}},dr=function(e,t){switch(t.type){case v:return t.payload;default:return e||mr.graphClusters}},ur=function(e,t){switch(t.type){case T:return t.payload;default:return e||mr.hammMatrix}},pr=function(e,t){switch(t.type){case L:return t.payload;default:return e||mr.categoricalMap}},hr=function(e,t){switch(t.type){case C:return t.payload;default:return e||mr.colorLUT}},gr=function(e,t){switch(t.type){case ee:var a=Object.assign({},e);return t.payload&&t.payload!==e.dataToDisplay&&(a.dataToDisplay=t.payload),a;case te:var n=Object.assign({},e);return t.payload&&t.payload!==e.dataColumn&&(n.dataColumn=t.payload),n;case ae:var r=Object.assign({},e);return t.payload&&t.payload!==e.dataColumnLevel&&(r.dataColumnLevel=t.payload),r;case ne:var s=Object.assign({},e);return t.payload!==e.chartOrientation&&(s.chartOrientation=t.payload),s;case re:var i=Object.assign({},e);return t.payload!==e.chartType&&(i.chartType=t.payload),i;case ie:var o=Object.assign({},e);return t.payload&&t.payload!==e.snpDistExportFormat&&(o.snpDistExportFormat=t.payload),o;case oe:var c=Object.assign({},e);return t.payload!==e.isUserDrawChart&&(c.isUserDrawChart=t.payload),c;case se:var l=Object.assign({},e);return t.payload!==e.isUserGenerateMatrix&&(l.isUserGenerateMatrix=t.payload),l;case ce:var d=Object.assign({},e);return t.payload!==e.isUserExportSnpDist&&(d.isUserExportSnpDist=t.payload),d;case le:var u=Object.assign({},e);return t.payload!==e.chartSession&&(u.chartSession=t.payload),u;case de:var p=Object.assign({},e);return t.payload!==e.isUserReloadSession&&(p.isUserReloadSession=t.payload),p;default:return e||mr.snpDistSettings}},jr=function(e,t){switch(t.type){case M:return t.payload;default:return e||mr.selectDemoData}},fr=function(e,t){switch(t.type){case A:return t.payload;default:return e||mr.selectedNode}},br=function(e,t){switch(t.type){case y:return t.payload;default:return e||mr.isShowingLoadingModal}},mr={projectJSON:null,sequence:null,metadata:null,patientMovement:null,selectDemoData:null,categoricalMap:null,isInputLoading:!1,hammMatrix:null,graphObject:null,graphClusters:null,selectedNode:[],graphSettings:{typeOfAnalysis:"clustering",method:"mscg",layout:"cose-bilkent",isUserReDraw:!1,isUserFilteringEdge:!0,edgeFilterCutoff:25,clusterMethod:"Connected Components",isUserClustering:!1,isEdgeScaled:!1,edgeScaleFactor:1,isHideEdgesByCutoff:!1,hiddenEdgesCutoff:{min:0,max:25},colorNodedBy:"na",exportFormat:"clusterID",isUserDownloading:!1,transIncludeLocLevel:1,chartSession:null,isUserReloadSession:!1,isUserRelayout:!1,node_isLabelShown:!0,edge_labelSize:3},snpDistSettings:{dataToDisplay:"all",dataColumn:null,dataColumnLevel:null,chartType:"barplot",isUserGenerateMatrix:!1,chartOrientation:"horizontal",isUserDrawChart:!1,snpDistExportFormat:"symSnpDist",isUserExportSnpDist:!1,chartSession:null,isUserReloadSession:!1},navSettings:{navLocation:null},colorLUT:null,isShowingLoadingModal:!1},xr=Object(m.c)({projectJSON:ar,sequence:nr,metadata:ir,selectDemoData:jr,categoricalMap:pr,patientMovement:or,navSettings:rr,graphSettings:sr,hammMatrix:ur,graphObject:lr,graphClusters:dr,isInputLoading:cr,colorLUT:hr,snpDistSettings:gr,selectedNode:fr,isShowingLoadingModal:br},mr),Or=a(606),yr=a.n(Or),Sr=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,1479)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),s(e),i(e)}))},vr=function(){return Object(m.a)(yr.a)(m.d)(xr,mr,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())}();o.a.render(Object(n.jsx)(b.a,{store:vr,children:Object(n.jsx)(tr,{})}),document.getElementById("root")),Sr()},267:function(e,t,a){},376:function(e,t,a){},570:function(e,t,a){},624:function(e,t,a){},625:function(e,t,a){},716:function(e,t){},718:function(e,t){}},[[1433,1,2]]]);